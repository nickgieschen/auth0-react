!(function (e, t) {
  'object' == typeof exports && 'undefined' != typeof module
    ? t(exports, require('react'))
    : 'function' == typeof define && define.amd
    ? define(['exports', 'react'], t)
    : t(((e = e || self).reactAuth0 = {}), e.React);
})(this, function (e, t) {
  'use strict';
  var i = 'default' in t ? t.default : t,
    n = function (e, t) {
      return (n =
        Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array &&
          function (e, t) {
            e.__proto__ = t;
          }) ||
        function (e, t) {
          for (var i in t) t.hasOwnProperty(i) && (e[i] = t[i]);
        })(e, t);
    };
  /*! *****************************************************************************
    Copyright (c) Microsoft Corporation. All rights reserved.
    Licensed under the Apache License, Version 2.0 (the "License"); you may not use
    this file except in compliance with the License. You may obtain a copy of the
    License at http://www.apache.org/licenses/LICENSE-2.0

    THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
    KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
    WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
    MERCHANTABLITY OR NON-INFRINGEMENT.

    See the Apache Version 2.0 License for specific language governing permissions
    and limitations under the License.
    ***************************************************************************** */ var c = function () {
    return (c =
      Object.assign ||
      function (e) {
        for (var t, i = 1, n = arguments.length; i < n; i++)
          for (var c in (t = arguments[i]))
            Object.prototype.hasOwnProperty.call(t, c) && (e[c] = t[c]);
        return e;
      }).apply(this, arguments);
  };
  function o(e, t) {
    var i = {};
    for (var n in e)
      Object.prototype.hasOwnProperty.call(e, n) &&
        t.indexOf(n) < 0 &&
        (i[n] = e[n]);
    if (null != e && 'function' == typeof Object.getOwnPropertySymbols) {
      var c = 0;
      for (n = Object.getOwnPropertySymbols(e); c < n.length; c++)
        t.indexOf(n[c]) < 0 &&
          Object.prototype.propertyIsEnumerable.call(e, n[c]) &&
          (i[n[c]] = e[n[c]]);
    }
    return i;
  }
  function r(e, t, i, n) {
    return new (i || (i = Promise))(function (c, o) {
      function r(e) {
        try {
          s(n.next(e));
        } catch (e) {
          o(e);
        }
      }
      function l(e) {
        try {
          s(n.throw(e));
        } catch (e) {
          o(e);
        }
      }
      function s(e) {
        var t;
        e.done
          ? c(e.value)
          : ((t = e.value),
            t instanceof i
              ? t
              : new i(function (e) {
                  e(t);
                })).then(r, l);
      }
      s((n = n.apply(e, t || [])).next());
    });
  }
  function l(e, t) {
    var i,
      n,
      c,
      o,
      r = {
        label: 0,
        sent: function () {
          if (1 & c[0]) throw c[1];
          return c[1];
        },
        trys: [],
        ops: [],
      };
    return (
      (o = { next: l(0), throw: l(1), return: l(2) }),
      'function' == typeof Symbol &&
        (o[Symbol.iterator] = function () {
          return this;
        }),
      o
    );
    function l(o) {
      return function (l) {
        return (function (o) {
          if (i) throw new TypeError('Generator is already executing.');
          for (; r; )
            try {
              if (
                ((i = 1),
                n &&
                  (c =
                    2 & o[0]
                      ? n.return
                      : o[0]
                      ? n.throw || ((c = n.return) && c.call(n), 0)
                      : n.next) &&
                  !(c = c.call(n, o[1])).done)
              )
                return c;
              switch (((n = 0), c && (o = [2 & o[0], c.value]), o[0])) {
                case 0:
                case 1:
                  c = o;
                  break;
                case 4:
                  return r.label++, { value: o[1], done: !1 };
                case 5:
                  r.label++, (n = o[1]), (o = [0]);
                  continue;
                case 7:
                  (o = r.ops.pop()), r.trys.pop();
                  continue;
                default:
                  if (
                    !((c = r.trys),
                    (c = c.length > 0 && c[c.length - 1]) ||
                      (6 !== o[0] && 2 !== o[0]))
                  ) {
                    r = 0;
                    continue;
                  }
                  if (3 === o[0] && (!c || (o[1] > c[0] && o[1] < c[3]))) {
                    r.label = o[1];
                    break;
                  }
                  if (6 === o[0] && r.label < c[1]) {
                    (r.label = c[1]), (c = o);
                    break;
                  }
                  if (c && r.label < c[2]) {
                    (r.label = c[2]), r.ops.push(o);
                    break;
                  }
                  c[2] && r.ops.pop(), r.trys.pop();
                  continue;
              }
              o = t.call(e, r);
            } catch (e) {
              (o = [6, e]), (n = 0);
            } finally {
              i = c = 0;
            }
          if (5 & o[0]) throw o[1];
          return { value: o[0] ? o[1] : void 0, done: !0 };
        })([o, l]);
      };
    }
  }
  /*! *****************************************************************************
    Copyright (c) Microsoft Corporation. All rights reserved.
    Licensed under the Apache License, Version 2.0 (the "License"); you may not use
    this file except in compliance with the License. You may obtain a copy of the
    License at http://www.apache.org/licenses/LICENSE-2.0

    THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
    KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
    WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
    MERCHANTABLITY OR NON-INFRINGEMENT.

    See the Apache Version 2.0 License for specific language governing permissions
    and limitations under the License.
    ***************************************************************************** */ var s = function (
    e,
    t
  ) {
    return (s =
      Object.setPrototypeOf ||
      ({ __proto__: [] } instanceof Array &&
        function (e, t) {
          e.__proto__ = t;
        }) ||
      function (e, t) {
        for (var i in t) t.hasOwnProperty(i) && (e[i] = t[i]);
      })(e, t);
  };
  function u(e, t) {
    function i() {
      this.constructor = e;
    }
    s(e, t),
      (e.prototype =
        null === t ? Object.create(t) : ((i.prototype = t.prototype), new i()));
  }
  var a = function () {
    return (a =
      Object.assign ||
      function (e) {
        for (var t, i = 1, n = arguments.length; i < n; i++)
          for (var c in (t = arguments[i]))
            Object.prototype.hasOwnProperty.call(t, c) && (e[c] = t[c]);
        return e;
      }).apply(this, arguments);
  };
  function I(e, t) {
    var i = {};
    for (var n in e)
      Object.prototype.hasOwnProperty.call(e, n) &&
        t.indexOf(n) < 0 &&
        (i[n] = e[n]);
    if (null != e && 'function' == typeof Object.getOwnPropertySymbols) {
      var c = 0;
      for (n = Object.getOwnPropertySymbols(e); c < n.length; c++)
        t.indexOf(n[c]) < 0 &&
          Object.prototype.propertyIsEnumerable.call(e, n[c]) &&
          (i[n[c]] = e[n[c]]);
    }
    return i;
  }
  function d(e, t, i, n) {
    return new (i || (i = Promise))(function (c, o) {
      function r(e) {
        try {
          s(n.next(e));
        } catch (e) {
          o(e);
        }
      }
      function l(e) {
        try {
          s(n.throw(e));
        } catch (e) {
          o(e);
        }
      }
      function s(e) {
        e.done
          ? c(e.value)
          : new i(function (t) {
              t(e.value);
            }).then(r, l);
      }
      s((n = n.apply(e, t || [])).next());
    });
  }
  function g(e, t) {
    var i,
      n,
      c,
      o,
      r = {
        label: 0,
        sent: function () {
          if (1 & c[0]) throw c[1];
          return c[1];
        },
        trys: [],
        ops: [],
      };
    return (
      (o = { next: l(0), throw: l(1), return: l(2) }),
      'function' == typeof Symbol &&
        (o[Symbol.iterator] = function () {
          return this;
        }),
      o
    );
    function l(o) {
      return function (l) {
        return (function (o) {
          if (i) throw new TypeError('Generator is already executing.');
          for (; r; )
            try {
              if (
                ((i = 1),
                n &&
                  (c =
                    2 & o[0]
                      ? n.return
                      : o[0]
                      ? n.throw || ((c = n.return) && c.call(n), 0)
                      : n.next) &&
                  !(c = c.call(n, o[1])).done)
              )
                return c;
              switch (((n = 0), c && (o = [2 & o[0], c.value]), o[0])) {
                case 0:
                case 1:
                  c = o;
                  break;
                case 4:
                  return r.label++, { value: o[1], done: !1 };
                case 5:
                  r.label++, (n = o[1]), (o = [0]);
                  continue;
                case 7:
                  (o = r.ops.pop()), r.trys.pop();
                  continue;
                default:
                  if (
                    !(
                      (c = (c = r.trys).length > 0 && c[c.length - 1]) ||
                      (6 !== o[0] && 2 !== o[0])
                    )
                  ) {
                    r = 0;
                    continue;
                  }
                  if (3 === o[0] && (!c || (o[1] > c[0] && o[1] < c[3]))) {
                    r.label = o[1];
                    break;
                  }
                  if (6 === o[0] && r.label < c[1]) {
                    (r.label = c[1]), (c = o);
                    break;
                  }
                  if (c && r.label < c[2]) {
                    (r.label = c[2]), r.ops.push(o);
                    break;
                  }
                  c[2] && r.ops.pop(), r.trys.pop();
                  continue;
              }
              o = t.call(e, r);
            } catch (e) {
              (o = [6, e]), (n = 0);
            } finally {
              i = c = 0;
            }
          if (5 & o[0]) throw o[1];
          return { value: o[0] ? o[1] : void 0, done: !0 };
        })([o, l]);
      };
    }
  }
  var b =
    'undefined' != typeof globalThis
      ? globalThis
      : 'undefined' != typeof window
      ? window
      : 'undefined' != typeof global
      ? global
      : 'undefined' != typeof self
      ? self
      : {};
  function B(e) {
    return e &&
      e.__esModule &&
      Object.prototype.hasOwnProperty.call(e, 'default')
      ? e.default
      : e;
  }
  function y(e, t) {
    return e((t = { exports: {} }), t.exports), t.exports;
  }
  var F = function (e) {
      return e && e.Math == Math && e;
    },
    m =
      F('object' == typeof globalThis && globalThis) ||
      F('object' == typeof window && window) ||
      F('object' == typeof self && self) ||
      F('object' == typeof b && b) ||
      Function('return this')(),
    C = function (e) {
      try {
        return !!e();
      } catch (e) {
        return !0;
      }
    },
    p = !C(function () {
      return (
        7 !=
        Object.defineProperty({}, 1, {
          get: function () {
            return 7;
          },
        })[1]
      );
    }),
    U = {}.propertyIsEnumerable,
    h = Object.getOwnPropertyDescriptor,
    V = {
      f:
        h && !U.call({ 1: 2 }, 1)
          ? function (e) {
              var t = h(this, e);
              return !!t && t.enumerable;
            }
          : U,
    },
    f = function (e, t) {
      return {
        enumerable: !(1 & e),
        configurable: !(2 & e),
        writable: !(4 & e),
        value: t,
      };
    },
    Z = {}.toString,
    X = function (e) {
      return Z.call(e).slice(8, -1);
    },
    G = ''.split,
    S = C(function () {
      return !Object('z').propertyIsEnumerable(0);
    })
      ? function (e) {
          return 'String' == X(e) ? G.call(e, '') : Object(e);
        }
      : Object,
    R = function (e) {
      if (null == e) throw TypeError("Can't call method on " + e);
      return e;
    },
    Q = function (e) {
      return S(R(e));
    },
    v = function (e) {
      return 'object' == typeof e ? null !== e : 'function' == typeof e;
    },
    x = function (e, t) {
      if (!v(e)) return e;
      var i, n;
      if (t && 'function' == typeof (i = e.toString) && !v((n = i.call(e))))
        return n;
      if ('function' == typeof (i = e.valueOf) && !v((n = i.call(e)))) return n;
      if (!t && 'function' == typeof (i = e.toString) && !v((n = i.call(e))))
        return n;
      throw TypeError("Can't convert object to primitive value");
    },
    W = {}.hasOwnProperty,
    A = function (e, t) {
      return W.call(e, t);
    },
    H = m.document,
    L = v(H) && v(H.createElement),
    J = function (e) {
      return L ? H.createElement(e) : {};
    },
    w =
      !p &&
      !C(function () {
        return (
          7 !=
          Object.defineProperty(J('div'), 'a', {
            get: function () {
              return 7;
            },
          }).a
        );
      }),
    Y = Object.getOwnPropertyDescriptor,
    E = {
      f: p
        ? Y
        : function (e, t) {
            if (((e = Q(e)), (t = x(t, !0)), w))
              try {
                return Y(e, t);
              } catch (e) {}
            if (A(e, t)) return f(!V.f.call(e, t), e[t]);
          },
    },
    K = function (e) {
      if (!v(e)) throw TypeError(String(e) + ' is not an object');
      return e;
    },
    N = Object.defineProperty,
    k = {
      f: p
        ? N
        : function (e, t, i) {
            if ((K(e), (t = x(t, !0)), K(i), w))
              try {
                return N(e, t, i);
              } catch (e) {}
            if ('get' in i || 'set' in i)
              throw TypeError('Accessors not supported');
            return 'value' in i && (e[t] = i.value), e;
          },
    },
    T = p
      ? function (e, t, i) {
          return k.f(e, t, f(1, i));
        }
      : function (e, t, i) {
          return (e[t] = i), e;
        },
    z = function (e, t) {
      try {
        T(m, e, t);
      } catch (i) {
        m[e] = t;
      }
      return t;
    },
    O = m['__core-js_shared__'] || z('__core-js_shared__', {}),
    P = Function.toString;
  'function' != typeof O.inspectSource &&
    (O.inspectSource = function (e) {
      return P.call(e);
    });
  var j,
    D,
    M,
    _ = O.inspectSource,
    q = m.WeakMap,
    $ = 'function' == typeof q && /native code/.test(_(q)),
    ee = y(function (e) {
      (e.exports = function (e, t) {
        return O[e] || (O[e] = void 0 !== t ? t : {});
      })('versions', []).push({
        version: '3.6.5',
        mode: 'global',
        copyright: 'Â© 2020 Denis Pushkarev (zloirock.ru)',
      });
    }),
    te = 0,
    ie = Math.random(),
    ne = function (e) {
      return (
        'Symbol(' +
        String(void 0 === e ? '' : e) +
        ')_' +
        (++te + ie).toString(36)
      );
    },
    ce = ee('keys'),
    oe = function (e) {
      return ce[e] || (ce[e] = ne(e));
    },
    re = {},
    le = m.WeakMap;
  if ($) {
    var se = new le(),
      ue = se.get,
      ae = se.has,
      Ie = se.set;
    (j = function (e, t) {
      return Ie.call(se, e, t), t;
    }),
      (D = function (e) {
        return ue.call(se, e) || {};
      }),
      (M = function (e) {
        return ae.call(se, e);
      });
  } else {
    var de = oe('state');
    (re[de] = !0),
      (j = function (e, t) {
        return T(e, de, t), t;
      }),
      (D = function (e) {
        return A(e, de) ? e[de] : {};
      }),
      (M = function (e) {
        return A(e, de);
      });
  }
  var ge,
    be = {
      set: j,
      get: D,
      has: M,
      enforce: function (e) {
        return M(e) ? D(e) : j(e, {});
      },
      getterFor: function (e) {
        return function (t) {
          var i;
          if (!v(t) || (i = D(t)).type !== e)
            throw TypeError('Incompatible receiver, ' + e + ' required');
          return i;
        };
      },
    },
    Be = y(function (e) {
      var t = be.get,
        i = be.enforce,
        n = String(String).split('String');
      (e.exports = function (e, t, c, o) {
        var r = !!o && !!o.unsafe,
          l = !!o && !!o.enumerable,
          s = !!o && !!o.noTargetGet;
        'function' == typeof c &&
          ('string' != typeof t || A(c, 'name') || T(c, 'name', t),
          (i(c).source = n.join('string' == typeof t ? t : ''))),
          e !== m
            ? (r ? !s && e[t] && (l = !0) : delete e[t],
              l ? (e[t] = c) : T(e, t, c))
            : l
            ? (e[t] = c)
            : z(t, c);
      })(Function.prototype, 'toString', function () {
        return ('function' == typeof this && t(this).source) || _(this);
      });
    }),
    ye = m,
    Fe = function (e) {
      return 'function' == typeof e ? e : void 0;
    },
    me = function (e, t) {
      return arguments.length < 2
        ? Fe(ye[e]) || Fe(m[e])
        : (ye[e] && ye[e][t]) || (m[e] && m[e][t]);
    },
    Ce = Math.ceil,
    pe = Math.floor,
    Ue = function (e) {
      return isNaN((e = +e)) ? 0 : (e > 0 ? pe : Ce)(e);
    },
    he = Math.min,
    Ve = function (e) {
      return e > 0 ? he(Ue(e), 9007199254740991) : 0;
    },
    fe = Math.max,
    Ze = Math.min,
    Xe = function (e) {
      return function (t, i, n) {
        var c,
          o = Q(t),
          r = Ve(o.length),
          l = (function (e, t) {
            var i = Ue(e);
            return i < 0 ? fe(i + t, 0) : Ze(i, t);
          })(n, r);
        if (e && i != i) {
          for (; r > l; ) if ((c = o[l++]) != c) return !0;
        } else
          for (; r > l; l++)
            if ((e || l in o) && o[l] === i) return e || l || 0;
        return !e && -1;
      };
    },
    Ge = { includes: Xe(!0), indexOf: Xe(!1) },
    Se = Ge.indexOf,
    Re = function (e, t) {
      var i,
        n = Q(e),
        c = 0,
        o = [];
      for (i in n) !A(re, i) && A(n, i) && o.push(i);
      for (; t.length > c; ) A(n, (i = t[c++])) && (~Se(o, i) || o.push(i));
      return o;
    },
    Qe = [
      'constructor',
      'hasOwnProperty',
      'isPrototypeOf',
      'propertyIsEnumerable',
      'toLocaleString',
      'toString',
      'valueOf',
    ],
    ve = Qe.concat('length', 'prototype'),
    xe = {
      f:
        Object.getOwnPropertyNames ||
        function (e) {
          return Re(e, ve);
        },
    },
    We = { f: Object.getOwnPropertySymbols },
    Ae =
      me('Reflect', 'ownKeys') ||
      function (e) {
        var t = xe.f(K(e)),
          i = We.f;
        return i ? t.concat(i(e)) : t;
      },
    He = function (e, t) {
      for (var i = Ae(t), n = k.f, c = E.f, o = 0; o < i.length; o++) {
        var r = i[o];
        A(e, r) || n(e, r, c(t, r));
      }
    },
    Le = /#|\.prototype\./,
    Je = function (e, t) {
      var i = Ye[we(e)];
      return i == Ke || (i != Ee && ('function' == typeof t ? C(t) : !!t));
    },
    we = (Je.normalize = function (e) {
      return String(e).replace(Le, '.').toLowerCase();
    }),
    Ye = (Je.data = {}),
    Ee = (Je.NATIVE = 'N'),
    Ke = (Je.POLYFILL = 'P'),
    Ne = Je,
    ke = E.f,
    Te = function (e, t) {
      var i,
        n,
        c,
        o,
        r,
        l = e.target,
        s = e.global,
        u = e.stat;
      if ((i = s ? m : u ? m[l] || z(l, {}) : (m[l] || {}).prototype))
        for (n in t) {
          if (
            ((o = t[n]),
            (c = e.noTargetGet ? (r = ke(i, n)) && r.value : i[n]),
            !Ne(s ? n : l + (u ? '.' : '#') + n, e.forced) && void 0 !== c)
          ) {
            if (typeof o == typeof c) continue;
            He(o, c);
          }
          (e.sham || (c && c.sham)) && T(o, 'sham', !0), Be(i, n, o, e);
        }
    },
    ze =
      !!Object.getOwnPropertySymbols &&
      !C(function () {
        return !String(Symbol());
      }),
    Oe = ze && !Symbol.sham && 'symbol' == typeof Symbol.iterator,
    Pe = ee('wks'),
    je = m.Symbol,
    De = Oe ? je : (je && je.withoutSetter) || ne,
    Me = function (e) {
      return (
        A(Pe, e) ||
          (ze && A(je, e) ? (Pe[e] = je[e]) : (Pe[e] = De('Symbol.' + e))),
        Pe[e]
      );
    },
    _e = Me('match'),
    qe = function (e) {
      if (
        (function (e) {
          var t;
          return v(e) && (void 0 !== (t = e[_e]) ? !!t : 'RegExp' == X(e));
        })(e)
      )
        throw TypeError("The method doesn't accept regular expressions");
      return e;
    },
    $e = Me('match'),
    et = function (e) {
      var t = /./;
      try {
        '/./'[e](t);
      } catch (i) {
        try {
          return (t[$e] = !1), '/./'[e](t);
        } catch (e) {}
      }
      return !1;
    },
    tt = E.f,
    it = ''.startsWith,
    nt = Math.min,
    ct = et('startsWith'),
    ot = !(
      ct || ((ge = tt(String.prototype, 'startsWith')), !ge || ge.writable)
    );
  Te(
    { target: 'String', proto: !0, forced: !ot && !ct },
    {
      startsWith: function (e) {
        var t = String(R(this));
        qe(e);
        var i = Ve(nt(arguments.length > 1 ? arguments[1] : void 0, t.length)),
          n = String(e);
        return it ? it.call(t, n, i) : t.slice(i, i + n.length) === n;
      },
    }
  );
  var rt,
    lt,
    st,
    ut = function (e) {
      if ('function' != typeof e)
        throw TypeError(String(e) + ' is not a function');
      return e;
    },
    at = function (e, t, i) {
      if ((ut(e), void 0 === t)) return e;
      switch (i) {
        case 0:
          return function () {
            return e.call(t);
          };
        case 1:
          return function (i) {
            return e.call(t, i);
          };
        case 2:
          return function (i, n) {
            return e.call(t, i, n);
          };
        case 3:
          return function (i, n, c) {
            return e.call(t, i, n, c);
          };
      }
      return function () {
        return e.apply(t, arguments);
      };
    },
    It = Function.call,
    dt = function (e, t, i) {
      return at(It, m[e].prototype[t], i);
    },
    gt =
      (dt('String', 'startsWith'),
      function (e) {
        return function (t, i) {
          var n,
            c,
            o = String(R(t)),
            r = Ue(i),
            l = o.length;
          return r < 0 || r >= l
            ? e
              ? ''
              : void 0
            : (n = o.charCodeAt(r)) < 55296 ||
              n > 56319 ||
              r + 1 === l ||
              (c = o.charCodeAt(r + 1)) < 56320 ||
              c > 57343
            ? e
              ? o.charAt(r)
              : n
            : e
            ? o.slice(r, r + 2)
            : c - 56320 + ((n - 55296) << 10) + 65536;
        };
      }),
    bt = { codeAt: gt(!1), charAt: gt(!0) },
    Bt = function (e) {
      return Object(R(e));
    },
    yt = !C(function () {
      function e() {}
      return (
        (e.prototype.constructor = null),
        Object.getPrototypeOf(new e()) !== e.prototype
      );
    }),
    Ft = oe('IE_PROTO'),
    mt = Object.prototype,
    Ct = yt
      ? Object.getPrototypeOf
      : function (e) {
          return (
            (e = Bt(e)),
            A(e, Ft)
              ? e[Ft]
              : 'function' == typeof e.constructor && e instanceof e.constructor
              ? e.constructor.prototype
              : e instanceof Object
              ? mt
              : null
          );
        },
    pt = Me('iterator'),
    Ut = !1;
  [].keys &&
    ('next' in (st = [].keys())
      ? (lt = Ct(Ct(st))) !== Object.prototype && (rt = lt)
      : (Ut = !0)),
    null == rt && (rt = {}),
    A(rt, pt) ||
      T(rt, pt, function () {
        return this;
      });
  var ht,
    Vt = { IteratorPrototype: rt, BUGGY_SAFARI_ITERATORS: Ut },
    ft =
      Object.keys ||
      function (e) {
        return Re(e, Qe);
      },
    Zt = p
      ? Object.defineProperties
      : function (e, t) {
          K(e);
          for (var i, n = ft(t), c = n.length, o = 0; c > o; )
            k.f(e, (i = n[o++]), t[i]);
          return e;
        },
    Xt = me('document', 'documentElement'),
    Gt = oe('IE_PROTO'),
    St = function () {},
    Rt = function (e) {
      return '<script>' + e + '</script>';
    },
    Qt = function () {
      try {
        ht = document.domain && new ActiveXObject('htmlfile');
      } catch (e) {}
      var e, t;
      Qt = ht
        ? (function (e) {
            e.write(Rt('')), e.close();
            var t = e.parentWindow.Object;
            return (e = null), t;
          })(ht)
        : (((t = J('iframe')).style.display = 'none'),
          Xt.appendChild(t),
          (t.src = String('javascript:')),
          (e = t.contentWindow.document).open(),
          e.write(Rt('document.F=Object')),
          e.close(),
          e.F);
      for (var i = Qe.length; i--; ) delete Qt.prototype[Qe[i]];
      return Qt();
    };
  re[Gt] = !0;
  var vt =
      Object.create ||
      function (e, t) {
        var i;
        return (
          null !== e
            ? ((St.prototype = K(e)),
              (i = new St()),
              (St.prototype = null),
              (i[Gt] = e))
            : (i = Qt()),
          void 0 === t ? i : Zt(i, t)
        );
      },
    xt = k.f,
    Wt = Me('toStringTag'),
    At = function (e, t, i) {
      e &&
        !A((e = i ? e : e.prototype), Wt) &&
        xt(e, Wt, { configurable: !0, value: t });
    },
    Ht = {},
    Lt = Vt.IteratorPrototype,
    Jt = function () {
      return this;
    },
    wt =
      Object.setPrototypeOf ||
      ('__proto__' in {}
        ? (function () {
            var e,
              t = !1,
              i = {};
            try {
              (e = Object.getOwnPropertyDescriptor(
                Object.prototype,
                '__proto__'
              ).set).call(i, []),
                (t = i instanceof Array);
            } catch (e) {}
            return function (i, n) {
              return (
                K(i),
                (function (e) {
                  if (!v(e) && null !== e)
                    throw TypeError(
                      "Can't set " + String(e) + ' as a prototype'
                    );
                })(n),
                t ? e.call(i, n) : (i.__proto__ = n),
                i
              );
            };
          })()
        : void 0),
    Yt = Vt.IteratorPrototype,
    Et = Vt.BUGGY_SAFARI_ITERATORS,
    Kt = Me('iterator'),
    Nt = function () {
      return this;
    },
    kt = function (e, t, i, n, c, o, r) {
      !(function (e, t, i) {
        var n = t + ' Iterator';
        (e.prototype = vt(Lt, { next: f(1, i) })), At(e, n, !1), (Ht[n] = Jt);
      })(i, t, n);
      var l,
        s,
        u,
        a = function (e) {
          if (e === c && B) return B;
          if (!Et && e in g) return g[e];
          switch (e) {
            case 'keys':
            case 'values':
            case 'entries':
              return function () {
                return new i(this, e);
              };
          }
          return function () {
            return new i(this);
          };
        },
        I = t + ' Iterator',
        d = !1,
        g = e.prototype,
        b = g[Kt] || g['@@iterator'] || (c && g[c]),
        B = (!Et && b) || a(c),
        y = ('Array' == t && g.entries) || b;
      if (
        (y &&
          ((l = Ct(y.call(new e()))),
          Yt !== Object.prototype &&
            l.next &&
            (Ct(l) !== Yt &&
              (wt ? wt(l, Yt) : 'function' != typeof l[Kt] && T(l, Kt, Nt)),
            At(l, I, !0))),
        'values' == c &&
          b &&
          'values' !== b.name &&
          ((d = !0),
          (B = function () {
            return b.call(this);
          })),
        g[Kt] !== B && T(g, Kt, B),
        (Ht[t] = B),
        c)
      )
        if (
          ((s = {
            values: a('values'),
            keys: o ? B : a('keys'),
            entries: a('entries'),
          }),
          r)
        )
          for (u in s) (Et || d || !(u in g)) && Be(g, u, s[u]);
        else Te({ target: t, proto: !0, forced: Et || d }, s);
      return s;
    },
    Tt = bt.charAt,
    zt = be.set,
    Ot = be.getterFor('String Iterator');
  kt(
    String,
    'String',
    function (e) {
      zt(this, { type: 'String Iterator', string: String(e), index: 0 });
    },
    function () {
      var e,
        t = Ot(this),
        i = t.string,
        n = t.index;
      return n >= i.length
        ? { value: void 0, done: !0 }
        : ((e = Tt(i, n)), (t.index += e.length), { value: e, done: !1 });
    }
  );
  var Pt = function (e, t, i, n) {
      try {
        return n ? t(K(i)[0], i[1]) : t(i);
      } catch (t) {
        var c = e.return;
        throw (void 0 !== c && K(c.call(e)), t);
      }
    },
    jt = Me('iterator'),
    Dt = Array.prototype,
    Mt = function (e) {
      return void 0 !== e && (Ht.Array === e || Dt[jt] === e);
    },
    _t = function (e, t, i) {
      var n = x(t);
      n in e ? k.f(e, n, f(0, i)) : (e[n] = i);
    },
    qt = {};
  qt[Me('toStringTag')] = 'z';
  var $t = '[object z]' === String(qt),
    ei = Me('toStringTag'),
    ti =
      'Arguments' ==
      X(
        (function () {
          return arguments;
        })()
      ),
    ii = $t
      ? X
      : function (e) {
          var t, i, n;
          return void 0 === e
            ? 'Undefined'
            : null === e
            ? 'Null'
            : 'string' ==
              typeof (i = (function (e, t) {
                try {
                  return e[t];
                } catch (e) {}
              })((t = Object(e)), ei))
            ? i
            : ti
            ? X(t)
            : 'Object' == (n = X(t)) && 'function' == typeof t.callee
            ? 'Arguments'
            : n;
        },
    ni = Me('iterator'),
    ci = function (e) {
      if (null != e) return e[ni] || e['@@iterator'] || Ht[ii(e)];
    },
    oi = Me('iterator'),
    ri = !1;
  try {
    var li = 0,
      si = {
        next: function () {
          return { done: !!li++ };
        },
        return: function () {
          ri = !0;
        },
      };
    (si[oi] = function () {
      return this;
    }),
      Array.from(si, function () {
        throw 2;
      });
  } catch (s) {}
  var ui = function (e, t) {
      if (!t && !ri) return !1;
      var i = !1;
      try {
        var n = {};
        (n[oi] = function () {
          return {
            next: function () {
              return { done: (i = !0) };
            },
          };
        }),
          e(n);
      } catch (e) {}
      return i;
    },
    ai = !ui(function (e) {
      Array.from(e);
    });
  Te(
    { target: 'Array', stat: !0, forced: ai },
    {
      from: function (e) {
        var t,
          i,
          n,
          c,
          o,
          r,
          l = Bt(e),
          s = 'function' == typeof this ? this : Array,
          u = arguments.length,
          a = u > 1 ? arguments[1] : void 0,
          I = void 0 !== a,
          d = ci(l),
          g = 0;
        if (
          (I && (a = at(a, u > 2 ? arguments[2] : void 0, 2)),
          null == d || (s == Array && Mt(d)))
        )
          for (i = new s((t = Ve(l.length))); t > g; g++)
            (r = I ? a(l[g], g) : l[g]), _t(i, g, r);
        else
          for (
            o = (c = d.call(l)).next, i = new s();
            !(n = o.call(c)).done;
            g++
          )
            (r = I ? Pt(c, a, [n.value, g], !0) : n.value), _t(i, g, r);
        return (i.length = g), i;
      },
    }
  ),
    ye.Array.from;
  var Ii,
    di = 'undefined' != typeof ArrayBuffer && 'undefined' != typeof DataView,
    gi = k.f,
    bi = m.Int8Array,
    Bi = bi && bi.prototype,
    yi = m.Uint8ClampedArray,
    Fi = yi && yi.prototype,
    mi = bi && Ct(bi),
    Ci = Bi && Ct(Bi),
    pi = Object.prototype,
    Ui = pi.isPrototypeOf,
    hi = Me('toStringTag'),
    Vi = ne('TYPED_ARRAY_TAG'),
    fi = di && !!wt && 'Opera' !== ii(m.opera),
    Zi = {
      Int8Array: 1,
      Uint8Array: 1,
      Uint8ClampedArray: 1,
      Int16Array: 2,
      Uint16Array: 2,
      Int32Array: 4,
      Uint32Array: 4,
      Float32Array: 4,
      Float64Array: 8,
    };
  for (Ii in Zi) m[Ii] || (fi = !1);
  if (
    (!fi || 'function' != typeof mi || mi === Function.prototype) &&
    ((mi = function () {
      throw TypeError('Incorrect invocation');
    }),
    fi)
  )
    for (Ii in Zi) m[Ii] && wt(m[Ii], mi);
  if ((!fi || !Ci || Ci === pi) && ((Ci = mi.prototype), fi))
    for (Ii in Zi) m[Ii] && wt(m[Ii].prototype, Ci);
  if ((fi && Ct(Fi) !== Ci && wt(Fi, Ci), p && !A(Ci, hi)))
    for (Ii in (gi(Ci, hi, {
      get: function () {
        return v(this) ? this[Vi] : void 0;
      },
    }),
    Zi))
      m[Ii] && T(m[Ii], Vi, Ii);
  var Xi = Me('species'),
    Gi = function (e) {
      if (
        (function (e) {
          return v(e) && A(Zi, ii(e));
        })(e)
      )
        return e;
      throw TypeError('Target is not a typed array');
    },
    Si = function (e) {
      if (wt) {
        if (Ui.call(mi, e)) return e;
      } else
        for (var t in Zi)
          if (A(Zi, Ii)) {
            var i = m[t];
            if (i && (e === i || Ui.call(i, e))) return e;
          }
      throw TypeError('Target is not a typed array constructor');
    },
    Ri = [].slice;
  !(function (e, t, i) {
    if (p) {
      if (i)
        for (var n in Zi) {
          var c = m[n];
          c && A(c.prototype, e) && delete c.prototype[e];
        }
      (Ci[e] && !i) || Be(Ci, e, i ? t : (fi && Bi[e]) || t);
    }
  })(
    'slice',
    function (e, t) {
      for (
        var i = Ri.call(Gi(this), e, t),
          n = (function (e, t) {
            var i,
              n = K(e).constructor;
            return void 0 === n || null == (i = K(n)[Xi]) ? t : ut(i);
          })(this, this.constructor),
          c = 0,
          o = i.length,
          r = new (Si(n))(o);
        o > c;

      )
        r[c] = i[c++];
      return r;
    },
    C(function () {
      new Int8Array(1).slice();
    })
  );
  var Qi = Me('unscopables'),
    vi = Array.prototype;
  null == vi[Qi] && k.f(vi, Qi, { configurable: !0, value: vt(null) });
  var xi = function (e) {
      vi[Qi][e] = !0;
    },
    Wi = Object.defineProperty,
    Ai = {},
    Hi = function (e) {
      throw e;
    },
    Li = Ge.includes,
    Ji = (function (e, t) {
      if (A(Ai, e)) return Ai[e];
      t || (t = {});
      var i = [][e],
        n = !!A(t, 'ACCESSORS') && t.ACCESSORS,
        c = A(t, 0) ? t[0] : Hi,
        o = A(t, 1) ? t[1] : void 0;
      return (Ai[e] =
        !!i &&
        !C(function () {
          if (n && !p) return !0;
          var e = { length: -1 };
          n ? Wi(e, 1, { enumerable: !0, get: Hi }) : (e[1] = 1),
            i.call(e, c, o);
        }));
    })('indexOf', { ACCESSORS: !0, 1: 0 });
  Te(
    { target: 'Array', proto: !0, forced: !Ji },
    {
      includes: function (e) {
        return Li(this, e, arguments.length > 1 ? arguments[1] : void 0);
      },
    }
  ),
    xi('includes'),
    dt('Array', 'includes'),
    Te(
      { target: 'String', proto: !0, forced: !et('includes') },
      {
        includes: function (e) {
          return !!~String(R(this)).indexOf(
            qe(e),
            arguments.length > 1 ? arguments[1] : void 0
          );
        },
      }
    ),
    dt('String', 'includes');
  var wi = !C(function () {
      return Object.isExtensible(Object.preventExtensions({}));
    }),
    Yi = y(function (e) {
      var t = k.f,
        i = ne('meta'),
        n = 0,
        c =
          Object.isExtensible ||
          function () {
            return !0;
          },
        o = function (e) {
          t(e, i, { value: { objectID: 'O' + ++n, weakData: {} } });
        },
        r = (e.exports = {
          REQUIRED: !1,
          fastKey: function (e, t) {
            if (!v(e))
              return 'symbol' == typeof e
                ? e
                : ('string' == typeof e ? 'S' : 'P') + e;
            if (!A(e, i)) {
              if (!c(e)) return 'F';
              if (!t) return 'E';
              o(e);
            }
            return e[i].objectID;
          },
          getWeakData: function (e, t) {
            if (!A(e, i)) {
              if (!c(e)) return !0;
              if (!t) return !1;
              o(e);
            }
            return e[i].weakData;
          },
          onFreeze: function (e) {
            return wi && r.REQUIRED && c(e) && !A(e, i) && o(e), e;
          },
        });
      re[i] = !0;
    }),
    Ei =
      (Yi.REQUIRED,
      Yi.fastKey,
      Yi.getWeakData,
      Yi.onFreeze,
      y(function (e) {
        var t = function (e, t) {
          (this.stopped = e), (this.result = t);
        };
        (e.exports = function (e, i, n, c, o) {
          var r,
            l,
            s,
            u,
            a,
            I,
            d,
            g = at(i, n, c ? 2 : 1);
          if (o) r = e;
          else {
            if ('function' != typeof (l = ci(e)))
              throw TypeError('Target is not iterable');
            if (Mt(l)) {
              for (s = 0, u = Ve(e.length); u > s; s++)
                if (
                  (a = c ? g(K((d = e[s]))[0], d[1]) : g(e[s])) &&
                  a instanceof t
                )
                  return a;
              return new t(!1);
            }
            r = l.call(e);
          }
          for (I = r.next; !(d = I.call(r)).done; )
            if (
              'object' == typeof (a = Pt(r, g, d.value, c)) &&
              a &&
              a instanceof t
            )
              return a;
          return new t(!1);
        }).stop = function (e) {
          return new t(!0, e);
        };
      })),
    Ki = function (e, t, i) {
      if (!(e instanceof t))
        throw TypeError('Incorrect ' + (i ? i + ' ' : '') + 'invocation');
      return e;
    },
    Ni = function (e, t, i) {
      for (var n in t) Be(e, n, t[n], i);
      return e;
    },
    ki = Me('species'),
    Ti = k.f,
    zi = Yi.fastKey,
    Oi = be.set,
    Pi = be.getterFor,
    ji =
      ((function (e, t, i) {
        var n = -1 !== e.indexOf('Map'),
          c = -1 !== e.indexOf('Weak'),
          o = n ? 'set' : 'add',
          r = m.Set,
          l = r && r.prototype,
          s = r,
          u = {},
          a = function (e) {
            var t = l[e];
            Be(
              l,
              e,
              'add' == e
                ? function (e) {
                    return t.call(this, 0 === e ? 0 : e), this;
                  }
                : 'delete' == e
                ? function (e) {
                    return !(c && !v(e)) && t.call(this, 0 === e ? 0 : e);
                  }
                : 'get' == e
                ? function (e) {
                    return c && !v(e) ? void 0 : t.call(this, 0 === e ? 0 : e);
                  }
                : 'has' == e
                ? function (e) {
                    return !(c && !v(e)) && t.call(this, 0 === e ? 0 : e);
                  }
                : function (e, i) {
                    return t.call(this, 0 === e ? 0 : e, i), this;
                  }
            );
          };
        if (
          Ne(
            e,
            'function' != typeof r ||
              !(
                c ||
                (l.forEach &&
                  !C(function () {
                    new r().entries().next();
                  }))
              )
          )
        )
          (s = i.getConstructor(t, e, n, o)), (Yi.REQUIRED = !0);
        else if (Ne(e, !0)) {
          var I = new s(),
            d = I[o](c ? {} : -0, 1) != I,
            g = C(function () {
              I.has(1);
            }),
            b = ui(function (e) {
              new r(e);
            }),
            B =
              !c &&
              C(function () {
                for (var e = new r(), t = 5; t--; ) e[o](t, t);
                return !e.has(-0);
              });
          b ||
            (((s = t(function (t, i) {
              Ki(t, s, e);
              var c = (function (e, t, i) {
                var n, c;
                return (
                  wt &&
                    'function' == typeof (n = t.constructor) &&
                    n !== i &&
                    v((c = n.prototype)) &&
                    c !== i.prototype &&
                    wt(e, c),
                  e
                );
              })(new r(), t, s);
              return null != i && Ei(i, c[o], c, n), c;
            })).prototype = l),
            (l.constructor = s)),
            (g || B) && (a('delete'), a('has'), n && a('get')),
            (B || d) && a(o),
            c && l.clear && delete l.clear;
        }
        (u.Set = s),
          Te({ global: !0, forced: s != r }, u),
          At(s, e),
          c || i.setStrong(s, e, n);
      })(
        'Set',
        function (e) {
          return function () {
            return e(this, arguments.length ? arguments[0] : void 0);
          };
        },
        {
          getConstructor: function (e, t, i, n) {
            var c = e(function (e, o) {
                Ki(e, c, t),
                  Oi(e, {
                    type: t,
                    index: vt(null),
                    first: void 0,
                    last: void 0,
                    size: 0,
                  }),
                  p || (e.size = 0),
                  null != o && Ei(o, e[n], e, i);
              }),
              o = Pi(t),
              r = function (e, t, i) {
                var n,
                  c,
                  r = o(e),
                  s = l(e, t);
                return (
                  s
                    ? (s.value = i)
                    : ((r.last = s = {
                        index: (c = zi(t, !0)),
                        key: t,
                        value: i,
                        previous: (n = r.last),
                        next: void 0,
                        removed: !1,
                      }),
                      r.first || (r.first = s),
                      n && (n.next = s),
                      p ? r.size++ : e.size++,
                      'F' !== c && (r.index[c] = s)),
                  e
                );
              },
              l = function (e, t) {
                var i,
                  n = o(e),
                  c = zi(t);
                if ('F' !== c) return n.index[c];
                for (i = n.first; i; i = i.next) if (i.key == t) return i;
              };
            return (
              Ni(c.prototype, {
                clear: function () {
                  for (var e = o(this), t = e.index, i = e.first; i; )
                    (i.removed = !0),
                      i.previous && (i.previous = i.previous.next = void 0),
                      delete t[i.index],
                      (i = i.next);
                  (e.first = e.last = void 0),
                    p ? (e.size = 0) : (this.size = 0);
                },
                delete: function (e) {
                  var t = this,
                    i = o(t),
                    n = l(t, e);
                  if (n) {
                    var c = n.next,
                      r = n.previous;
                    delete i.index[n.index],
                      (n.removed = !0),
                      r && (r.next = c),
                      c && (c.previous = r),
                      i.first == n && (i.first = c),
                      i.last == n && (i.last = r),
                      p ? i.size-- : t.size--;
                  }
                  return !!n;
                },
                forEach: function (e) {
                  for (
                    var t,
                      i = o(this),
                      n = at(
                        e,
                        arguments.length > 1 ? arguments[1] : void 0,
                        3
                      );
                    (t = t ? t.next : i.first);

                  )
                    for (n(t.value, t.key, this); t && t.removed; )
                      t = t.previous;
                },
                has: function (e) {
                  return !!l(this, e);
                },
              }),
              Ni(
                c.prototype,
                i
                  ? {
                      get: function (e) {
                        var t = l(this, e);
                        return t && t.value;
                      },
                      set: function (e, t) {
                        return r(this, 0 === e ? 0 : e, t);
                      },
                    }
                  : {
                      add: function (e) {
                        return r(this, (e = 0 === e ? 0 : e), e);
                      },
                    }
              ),
              p &&
                Ti(c.prototype, 'size', {
                  get: function () {
                    return o(this).size;
                  },
                }),
              c
            );
          },
          setStrong: function (e, t, i) {
            var n = t + ' Iterator',
              c = Pi(t),
              o = Pi(n);
            kt(
              e,
              t,
              function (e, t) {
                Oi(this, {
                  type: n,
                  target: e,
                  state: c(e),
                  kind: t,
                  last: void 0,
                });
              },
              function () {
                for (var e = o(this), t = e.kind, i = e.last; i && i.removed; )
                  i = i.previous;
                return e.target && (e.last = i = i ? i.next : e.state.first)
                  ? 'keys' == t
                    ? { value: i.key, done: !1 }
                    : 'values' == t
                    ? { value: i.value, done: !1 }
                    : { value: [i.key, i.value], done: !1 }
                  : ((e.target = void 0), { value: void 0, done: !0 });
              },
              i ? 'entries' : 'values',
              !i,
              !0
            ),
              (function (e) {
                var t = me(e),
                  i = k.f;
                p &&
                  t &&
                  !t[ki] &&
                  i(t, ki, {
                    configurable: !0,
                    get: function () {
                      return this;
                    },
                  });
              })(t);
          },
        }
      ),
      $t
        ? {}.toString
        : function () {
            return '[object ' + ii(this) + ']';
          });
  $t || Be(Object.prototype, 'toString', ji, { unsafe: !0 });
  var Di = {
      CSSRuleList: 0,
      CSSStyleDeclaration: 0,
      CSSValueList: 0,
      ClientRectList: 0,
      DOMRectList: 0,
      DOMStringList: 0,
      DOMTokenList: 1,
      DataTransferItemList: 0,
      FileList: 0,
      HTMLAllCollection: 0,
      HTMLCollection: 0,
      HTMLFormElement: 0,
      HTMLSelectElement: 0,
      MediaList: 0,
      MimeTypeArray: 0,
      NamedNodeMap: 0,
      NodeList: 1,
      PaintRequestList: 0,
      Plugin: 0,
      PluginArray: 0,
      SVGLengthList: 0,
      SVGNumberList: 0,
      SVGPathSegList: 0,
      SVGPointList: 0,
      SVGStringList: 0,
      SVGTransformList: 0,
      SourceBufferList: 0,
      StyleSheetList: 0,
      TextTrackCueList: 0,
      TextTrackList: 0,
      TouchList: 0,
    },
    Mi = be.set,
    _i = be.getterFor('Array Iterator'),
    qi = kt(
      Array,
      'Array',
      function (e, t) {
        Mi(this, { type: 'Array Iterator', target: Q(e), index: 0, kind: t });
      },
      function () {
        var e = _i(this),
          t = e.target,
          i = e.kind,
          n = e.index++;
        return !t || n >= t.length
          ? ((e.target = void 0), { value: void 0, done: !0 })
          : 'keys' == i
          ? { value: n, done: !1 }
          : 'values' == i
          ? { value: t[n], done: !1 }
          : { value: [n, t[n]], done: !1 };
      },
      'values'
    );
  (Ht.Arguments = Ht.Array), xi('keys'), xi('values'), xi('entries');
  var $i = Me('iterator'),
    en = Me('toStringTag'),
    tn = qi.values;
  for (var nn in Di) {
    var cn = m[nn],
      on = cn && cn.prototype;
    if (on) {
      if (on[$i] !== tn)
        try {
          T(on, $i, tn);
        } catch (s) {
          on[$i] = tn;
        }
      if ((on[en] || T(on, en, nn), Di[nn]))
        for (var rn in qi)
          if (on[rn] !== qi[rn])
            try {
              T(on, rn, qi[rn]);
            } catch (s) {
              on[rn] = qi[rn];
            }
    }
  }
  function ln(e) {
    var t = this.constructor;
    return this.then(
      function (i) {
        return t.resolve(e()).then(function () {
          return i;
        });
      },
      function (i) {
        return t.resolve(e()).then(function () {
          return t.reject(i);
        });
      }
    );
  }
  ye.Set;
  var sn = setTimeout;
  function un(e) {
    return Boolean(e && void 0 !== e.length);
  }
  function an() {}
  function In(e) {
    if (!(this instanceof In))
      throw new TypeError('Promises must be constructed via new');
    if ('function' != typeof e) throw new TypeError('not a function');
    (this._state = 0),
      (this._handled = !1),
      (this._value = void 0),
      (this._deferreds = []),
      Fn(e, this);
  }
  function dn(e, t) {
    for (; 3 === e._state; ) e = e._value;
    0 !== e._state
      ? ((e._handled = !0),
        In._immediateFn(function () {
          var i = 1 === e._state ? t.onFulfilled : t.onRejected;
          if (null !== i) {
            var n;
            try {
              n = i(e._value);
            } catch (e) {
              return void bn(t.promise, e);
            }
            gn(t.promise, n);
          } else (1 === e._state ? gn : bn)(t.promise, e._value);
        }))
      : e._deferreds.push(t);
  }
  function gn(e, t) {
    try {
      if (t === e)
        throw new TypeError('A promise cannot be resolved with itself.');
      if (t && ('object' == typeof t || 'function' == typeof t)) {
        var i = t.then;
        if (t instanceof In) return (e._state = 3), (e._value = t), void Bn(e);
        if ('function' == typeof i)
          return void Fn(
            ((n = i),
            (c = t),
            function () {
              n.apply(c, arguments);
            }),
            e
          );
      }
      (e._state = 1), (e._value = t), Bn(e);
    } catch (t) {
      bn(e, t);
    }
    var n, c;
  }
  function bn(e, t) {
    (e._state = 2), (e._value = t), Bn(e);
  }
  function Bn(e) {
    2 === e._state &&
      0 === e._deferreds.length &&
      In._immediateFn(function () {
        e._handled || In._unhandledRejectionFn(e._value);
      });
    for (var t = 0, i = e._deferreds.length; t < i; t++) dn(e, e._deferreds[t]);
    e._deferreds = null;
  }
  function yn(e, t, i) {
    (this.onFulfilled = 'function' == typeof e ? e : null),
      (this.onRejected = 'function' == typeof t ? t : null),
      (this.promise = i);
  }
  function Fn(e, t) {
    var i = !1;
    try {
      e(
        function (e) {
          i || ((i = !0), gn(t, e));
        },
        function (e) {
          i || ((i = !0), bn(t, e));
        }
      );
    } catch (e) {
      if (i) return;
      (i = !0), bn(t, e);
    }
  }
  (In.prototype.catch = function (e) {
    return this.then(null, e);
  }),
    (In.prototype.then = function (e, t) {
      var i = new this.constructor(an);
      return dn(this, new yn(e, t, i)), i;
    }),
    (In.prototype.finally = ln),
    (In.all = function (e) {
      return new In(function (t, i) {
        if (!un(e)) return i(new TypeError('Promise.all accepts an array'));
        var n = Array.prototype.slice.call(e);
        if (0 === n.length) return t([]);
        var c = n.length;
        function o(e, r) {
          try {
            if (r && ('object' == typeof r || 'function' == typeof r)) {
              var l = r.then;
              if ('function' == typeof l)
                return void l.call(
                  r,
                  function (t) {
                    o(e, t);
                  },
                  i
                );
            }
            (n[e] = r), 0 == --c && t(n);
          } catch (e) {
            i(e);
          }
        }
        for (var r = 0; r < n.length; r++) o(r, n[r]);
      });
    }),
    (In.resolve = function (e) {
      return e && 'object' == typeof e && e.constructor === In
        ? e
        : new In(function (t) {
            t(e);
          });
    }),
    (In.reject = function (e) {
      return new In(function (t, i) {
        i(e);
      });
    }),
    (In.race = function (e) {
      return new In(function (t, i) {
        if (!un(e)) return i(new TypeError('Promise.race accepts an array'));
        for (var n = 0, c = e.length; n < c; n++) In.resolve(e[n]).then(t, i);
      });
    }),
    (In._immediateFn =
      ('function' == typeof setImmediate &&
        function (e) {
          setImmediate(e);
        }) ||
      function (e) {
        sn(e, 0);
      }),
    (In._unhandledRejectionFn = function (e) {
      'undefined' != typeof console &&
        console &&
        console.warn('Possible Unhandled Promise Rejection:', e);
    });
  var mn = (function () {
    if ('undefined' != typeof self) return self;
    if ('undefined' != typeof window) return window;
    if ('undefined' != typeof global) return global;
    throw new Error('unable to locate global object');
  })();
  'Promise' in mn
    ? mn.Promise.prototype.finally || (mn.Promise.prototype.finally = ln)
    : (mn.Promise = In),
    (function (e) {
      function t() {}
      function i(e, t) {
        if (
          ((e = void 0 === e ? 'utf-8' : e),
          (t = void 0 === t ? { fatal: !1 } : t),
          -1 === c.indexOf(e.toLowerCase()))
        )
          throw new RangeError(
            "Failed to construct 'TextDecoder': The encoding label provided ('" +
              e +
              "') is invalid."
          );
        if (t.fatal)
          throw Error(
            "Failed to construct 'TextDecoder': the 'fatal' option is unsupported."
          );
      }
      function n(e) {
        for (
          var t = 0,
            i = Math.min(65536, e.length + 1),
            n = new Uint16Array(i),
            c = [],
            o = 0;
          ;

        ) {
          var r = t < e.length;
          if (!r || o >= i - 1) {
            if ((c.push(String.fromCharCode.apply(null, n.subarray(0, o))), !r))
              return c.join('');
            (e = e.subarray(t)), (o = t = 0);
          }
          if (0 == (128 & (r = e[t++]))) n[o++] = r;
          else if (192 == (224 & r)) {
            var l = 63 & e[t++];
            n[o++] = ((31 & r) << 6) | l;
          } else if (224 == (240 & r)) {
            l = 63 & e[t++];
            var s = 63 & e[t++];
            n[o++] = ((31 & r) << 12) | (l << 6) | s;
          } else
            240 == (248 & r) &&
              (65535 <
                (r =
                  ((7 & r) << 18) |
                  ((l = 63 & e[t++]) << 12) |
                  ((s = 63 & e[t++]) << 6) |
                  (63 & e[t++])) &&
                ((r -= 65536),
                (n[o++] = ((r >>> 10) & 1023) | 55296),
                (r = 56320 | (1023 & r))),
              (n[o++] = r));
        }
      }
      if (e.TextEncoder && e.TextDecoder) return !1;
      var c = ['utf-8', 'utf8', 'unicode-1-1-utf-8'];
      Object.defineProperty(t.prototype, 'encoding', { value: 'utf-8' }),
        (t.prototype.encode = function (e, t) {
          if ((t = void 0 === t ? { stream: !1 } : t).stream)
            throw Error(
              "Failed to encode: the 'stream' option is unsupported."
            );
          t = 0;
          for (
            var i = e.length,
              n = 0,
              c = Math.max(32, i + (i >>> 1) + 7),
              o = new Uint8Array((c >>> 3) << 3);
            t < i;

          ) {
            var r = e.charCodeAt(t++);
            if (55296 <= r && 56319 >= r) {
              if (t < i) {
                var l = e.charCodeAt(t);
                56320 == (64512 & l) &&
                  (++t, (r = ((1023 & r) << 10) + (1023 & l) + 65536));
              }
              if (55296 <= r && 56319 >= r) continue;
            }
            if (
              (n + 4 > o.length &&
                ((c += 8),
                (c = ((c *= 1 + (t / e.length) * 2) >>> 3) << 3),
                (l = new Uint8Array(c)).set(o),
                (o = l)),
              0 == (4294967168 & r))
            )
              o[n++] = r;
            else {
              if (0 == (4294965248 & r)) o[n++] = ((r >>> 6) & 31) | 192;
              else if (0 == (4294901760 & r))
                (o[n++] = ((r >>> 12) & 15) | 224),
                  (o[n++] = ((r >>> 6) & 63) | 128);
              else {
                if (0 != (4292870144 & r)) continue;
                (o[n++] = ((r >>> 18) & 7) | 240),
                  (o[n++] = ((r >>> 12) & 63) | 128),
                  (o[n++] = ((r >>> 6) & 63) | 128);
              }
              o[n++] = (63 & r) | 128;
            }
          }
          return o.slice ? o.slice(0, n) : o.subarray(0, n);
        }),
        Object.defineProperty(i.prototype, 'encoding', { value: 'utf-8' }),
        Object.defineProperty(i.prototype, 'fatal', { value: !1 }),
        Object.defineProperty(i.prototype, 'ignoreBOM', { value: !1 });
      var o = n;
      'function' == typeof Buffer && Buffer.from
        ? (o = function (e) {
            return Buffer.from(e.buffer, e.byteOffset, e.byteLength).toString(
              'utf-8'
            );
          })
        : 'function' == typeof Blob &&
          'function' == typeof URL &&
          'function' == typeof URL.createObjectURL &&
          (o = function (e) {
            var t = URL.createObjectURL(
              new Blob([e], { type: 'text/plain;charset=UTF-8' })
            );
            try {
              var i = new XMLHttpRequest();
              return i.open('GET', t, !1), i.send(), i.responseText;
            } catch (t) {
              return n(e);
            } finally {
              URL.revokeObjectURL(t);
            }
          }),
        (i.prototype.decode = function (e, t) {
          if ((t = void 0 === t ? { stream: !1 } : t).stream)
            throw Error(
              "Failed to decode: the 'stream' option is unsupported."
            );
          return (
            (e =
              e instanceof Uint8Array
                ? e
                : e.buffer instanceof ArrayBuffer
                ? new Uint8Array(e.buffer)
                : new Uint8Array(e)),
            o(e)
          );
        }),
        (e.TextEncoder = t),
        (e.TextDecoder = i);
    })('undefined' != typeof window ? window : b),
    (function () {
      function e(e, t) {
        if (!(e instanceof t))
          throw new TypeError('Cannot call a class as a function');
      }
      function t(e, t) {
        for (var i = 0; i < t.length; i++) {
          var n = t[i];
          (n.enumerable = n.enumerable || !1),
            (n.configurable = !0),
            'value' in n && (n.writable = !0),
            Object.defineProperty(e, n.key, n);
        }
      }
      function i(e, i, n) {
        return i && t(e.prototype, i), n && t(e, n), e;
      }
      function n(e, t) {
        if ('function' != typeof t && null !== t)
          throw new TypeError(
            'Super expression must either be null or a function'
          );
        (e.prototype = Object.create(t && t.prototype, {
          constructor: { value: e, writable: !0, configurable: !0 },
        })),
          t &&
            (function (e, t) {
              (
                Object.setPrototypeOf ||
                function (e, t) {
                  return (e.__proto__ = t), e;
                }
              )(e, t);
            })(e, t);
      }
      function c(e) {
        return (c = Object.setPrototypeOf
          ? Object.getPrototypeOf
          : function (e) {
              return e.__proto__ || Object.getPrototypeOf(e);
            })(e);
      }
      function o(e) {
        if (void 0 === e)
          throw new ReferenceError(
            "this hasn't been initialised - super() hasn't been called"
          );
        return e;
      }
      function r(e, t) {
        return !t || ('object' != typeof t && 'function' != typeof t)
          ? o(e)
          : t;
      }
      function l(e) {
        var t = (function () {
          if ('undefined' == typeof Reflect || !Reflect.construct) return !1;
          if (Reflect.construct.sham) return !1;
          if ('function' == typeof Proxy) return !0;
          try {
            return (
              Date.prototype.toString.call(
                Reflect.construct(Date, [], function () {})
              ),
              !0
            );
          } catch (e) {
            return !1;
          }
        })();
        return function () {
          var i,
            n = c(e);
          if (t) {
            var o = c(this).constructor;
            i = Reflect.construct(n, arguments, o);
          } else i = n.apply(this, arguments);
          return r(this, i);
        };
      }
      function s(e, t) {
        for (
          ;
          !Object.prototype.hasOwnProperty.call(e, t) && null !== (e = c(e));

        );
        return e;
      }
      function u(e, t, i) {
        return (u =
          'undefined' != typeof Reflect && Reflect.get
            ? Reflect.get
            : function (e, t, i) {
                var n = s(e, t);
                if (n) {
                  var c = Object.getOwnPropertyDescriptor(n, t);
                  return c.get ? c.get.call(i) : c.value;
                }
              })(e, t, i || e);
      }
      var a = (function () {
          function t() {
            e(this, t),
              Object.defineProperty(this, 'listeners', {
                value: {},
                writable: !0,
                configurable: !0,
              });
          }
          return (
            i(t, [
              {
                key: 'addEventListener',
                value: function (e, t) {
                  e in this.listeners || (this.listeners[e] = []),
                    this.listeners[e].push(t);
                },
              },
              {
                key: 'removeEventListener',
                value: function (e, t) {
                  if (e in this.listeners)
                    for (
                      var i = this.listeners[e], n = 0, c = i.length;
                      n < c;
                      n++
                    )
                      if (i[n] === t) return void i.splice(n, 1);
                },
              },
              {
                key: 'dispatchEvent',
                value: function (e) {
                  var t = this;
                  if (e.type in this.listeners) {
                    for (
                      var i = function (i) {
                          setTimeout(function () {
                            return i.call(t, e);
                          });
                        },
                        n = this.listeners[e.type],
                        c = 0,
                        o = n.length;
                      c < o;
                      c++
                    )
                      i(n[c]);
                    return !e.defaultPrevented;
                  }
                },
              },
            ]),
            t
          );
        })(),
        I = (function (t) {
          n(s, t);
          var r = l(s);
          function s() {
            var t;
            return (
              e(this, s),
              (t = r.call(this)).listeners || a.call(o(t)),
              Object.defineProperty(o(t), 'aborted', {
                value: !1,
                writable: !0,
                configurable: !0,
              }),
              Object.defineProperty(o(t), 'onabort', {
                value: null,
                writable: !0,
                configurable: !0,
              }),
              t
            );
          }
          return (
            i(s, [
              {
                key: 'toString',
                value: function () {
                  return '[object AbortSignal]';
                },
              },
              {
                key: 'dispatchEvent',
                value: function (e) {
                  'abort' === e.type &&
                    ((this.aborted = !0),
                    'function' == typeof this.onabort &&
                      this.onabort.call(this, e)),
                    u(c(s.prototype), 'dispatchEvent', this).call(this, e);
                },
              },
            ]),
            s
          );
        })(a),
        d = (function () {
          function t() {
            e(this, t),
              Object.defineProperty(this, 'signal', {
                value: new I(),
                writable: !0,
                configurable: !0,
              });
          }
          return (
            i(t, [
              {
                key: 'abort',
                value: function () {
                  var e;
                  try {
                    e = new Event('abort');
                  } catch (t) {
                    'undefined' != typeof document
                      ? document.createEvent
                        ? (e = document.createEvent('Event')).initEvent(
                            'abort',
                            !1,
                            !1
                          )
                        : ((e = document.createEventObject()).type = 'abort')
                      : (e = { type: 'abort', bubbles: !1, cancelable: !1 });
                  }
                  this.signal.dispatchEvent(e);
                },
              },
              {
                key: 'toString',
                value: function () {
                  return '[object AbortController]';
                },
              },
            ]),
            t
          );
        })();
      'undefined' != typeof Symbol &&
        Symbol.toStringTag &&
        ((d.prototype[Symbol.toStringTag] = 'AbortController'),
        (I.prototype[Symbol.toStringTag] = 'AbortSignal')),
        (function (e) {
          (function (e) {
            return e.__FORCE_INSTALL_ABORTCONTROLLER_POLYFILL
              ? (console.log(
                  '__FORCE_INSTALL_ABORTCONTROLLER_POLYFILL=true is set, will force install polyfill'
                ),
                !0)
              : ('function' == typeof e.Request &&
                  !e.Request.prototype.hasOwnProperty('signal')) ||
                  !e.AbortController;
          })(e) && ((e.AbortController = d), (e.AbortSignal = I));
        })('undefined' != typeof self ? self : b);
    })();
  var Cn = y(function (e, t) {
    Object.defineProperty(t, '__esModule', { value: !0 });
    var i = (function () {
      function e() {
        var e = this;
        (this.locked = new Map()),
          (this.addToLocked = function (t, i) {
            var n = e.locked.get(t);
            void 0 === n
              ? void 0 === i
                ? e.locked.set(t, [])
                : e.locked.set(t, [i])
              : void 0 !== i && (n.unshift(i), e.locked.set(t, n));
          }),
          (this.isLocked = function (t) {
            return e.locked.has(t);
          }),
          (this.lock = function (t) {
            return new Promise(function (i, n) {
              e.isLocked(t) ? e.addToLocked(t, i) : (e.addToLocked(t), i());
            });
          }),
          (this.unlock = function (t) {
            var i = e.locked.get(t);
            if (void 0 !== i && 0 !== i.length) {
              var n = i.pop();
              e.locked.set(t, i), void 0 !== n && setTimeout(n, 0);
            } else e.locked.delete(t);
          });
      }
      return (
        (e.getInstance = function () {
          return void 0 === e.instance && (e.instance = new e()), e.instance;
        }),
        e
      );
    })();
    t.default = function () {
      return i.getInstance();
    };
  });
  B(Cn);
  var pn = B(
      y(function (e, t) {
        var i =
            (b && b.__awaiter) ||
            function (e, t, i, n) {
              return new (i || (i = Promise))(function (c, o) {
                function r(e) {
                  try {
                    s(n.next(e));
                  } catch (e) {
                    o(e);
                  }
                }
                function l(e) {
                  try {
                    s(n.throw(e));
                  } catch (e) {
                    o(e);
                  }
                }
                function s(e) {
                  e.done
                    ? c(e.value)
                    : new i(function (t) {
                        t(e.value);
                      }).then(r, l);
                }
                s((n = n.apply(e, t || [])).next());
              });
            },
          n =
            (b && b.__generator) ||
            function (e, t) {
              var i,
                n,
                c,
                o,
                r = {
                  label: 0,
                  sent: function () {
                    if (1 & c[0]) throw c[1];
                    return c[1];
                  },
                  trys: [],
                  ops: [],
                };
              return (
                (o = { next: l(0), throw: l(1), return: l(2) }),
                'function' == typeof Symbol &&
                  (o[Symbol.iterator] = function () {
                    return this;
                  }),
                o
              );
              function l(o) {
                return function (l) {
                  return (function (o) {
                    if (i)
                      throw new TypeError('Generator is already executing.');
                    for (; r; )
                      try {
                        if (
                          ((i = 1),
                          n &&
                            (c =
                              2 & o[0]
                                ? n.return
                                : o[0]
                                ? n.throw || ((c = n.return) && c.call(n), 0)
                                : n.next) &&
                            !(c = c.call(n, o[1])).done)
                        )
                          return c;
                        switch (
                          ((n = 0), c && (o = [2 & o[0], c.value]), o[0])
                        ) {
                          case 0:
                          case 1:
                            c = o;
                            break;
                          case 4:
                            return r.label++, { value: o[1], done: !1 };
                          case 5:
                            r.label++, (n = o[1]), (o = [0]);
                            continue;
                          case 7:
                            (o = r.ops.pop()), r.trys.pop();
                            continue;
                          default:
                            if (
                              !(
                                (c =
                                  (c = r.trys).length > 0 && c[c.length - 1]) ||
                                (6 !== o[0] && 2 !== o[0])
                              )
                            ) {
                              r = 0;
                              continue;
                            }
                            if (
                              3 === o[0] &&
                              (!c || (o[1] > c[0] && o[1] < c[3]))
                            ) {
                              r.label = o[1];
                              break;
                            }
                            if (6 === o[0] && r.label < c[1]) {
                              (r.label = c[1]), (c = o);
                              break;
                            }
                            if (c && r.label < c[2]) {
                              (r.label = c[2]), r.ops.push(o);
                              break;
                            }
                            c[2] && r.ops.pop(), r.trys.pop();
                            continue;
                        }
                        o = t.call(e, r);
                      } catch (e) {
                        (o = [6, e]), (n = 0);
                      } finally {
                        i = c = 0;
                      }
                    if (5 & o[0]) throw o[1];
                    return { value: o[0] ? o[1] : void 0, done: !0 };
                  })([o, l]);
                };
              }
            };
        Object.defineProperty(t, '__esModule', { value: !0 });
        var c = 'browser-tabs-lock-key';
        function o(e) {
          return new Promise(function (t) {
            return setTimeout(t, e);
          });
        }
        function r(e) {
          for (
            var t =
                '0123456789ABCDEFGHIJKLMNOPQRSTUVWXTZabcdefghiklmnopqrstuvwxyz',
              i = '',
              n = 0;
            n < e;
            n++
          )
            i += t[Math.floor(Math.random() * t.length)];
          return i;
        }
        var l = (function () {
          function e() {
            (this.acquiredIatSet = new Set()),
              (this.id = Date.now().toString() + r(15)),
              (this.acquireLock = this.acquireLock.bind(this)),
              (this.releaseLock = this.releaseLock.bind(this)),
              (this.releaseLock__private__ = this.releaseLock__private__.bind(
                this
              )),
              (this.waitForSomethingToChange = this.waitForSomethingToChange.bind(
                this
              )),
              (this.refreshLockWhileAcquired = this.refreshLockWhileAcquired.bind(
                this
              )),
              void 0 === e.waiters && (e.waiters = []);
          }
          return (
            (e.prototype.acquireLock = function (t, l) {
              return (
                void 0 === l && (l = 5e3),
                i(this, void 0, void 0, function () {
                  var i, s, u, a, I, d;
                  return n(this, function (n) {
                    switch (n.label) {
                      case 0:
                        (i = Date.now() + r(4)),
                          (s = Date.now() + l),
                          (u = c + '-' + t),
                          (a = window.localStorage),
                          (n.label = 1);
                      case 1:
                        return Date.now() < s ? [4, o(30)] : [3, 8];
                      case 2:
                        return (
                          n.sent(),
                          null !== a.getItem(u)
                            ? [3, 5]
                            : ((I = this.id + '-' + t + '-' + i),
                              [4, o(Math.floor(25 * Math.random()))])
                        );
                      case 3:
                        return (
                          n.sent(),
                          a.setItem(
                            u,
                            JSON.stringify({
                              id: this.id,
                              iat: i,
                              timeoutKey: I,
                              timeAcquired: Date.now(),
                              timeRefreshed: Date.now(),
                            })
                          ),
                          [4, o(30)]
                        );
                      case 4:
                        return (
                          n.sent(),
                          null !== (d = a.getItem(u)) &&
                          (d = JSON.parse(d)).id === this.id &&
                          d.iat === i
                            ? (this.acquiredIatSet.add(i),
                              this.refreshLockWhileAcquired(u, i),
                              [2, !0])
                            : [3, 7]
                        );
                      case 5:
                        return (
                          e.lockCorrector(),
                          [4, this.waitForSomethingToChange(s)]
                        );
                      case 6:
                        n.sent(), (n.label = 7);
                      case 7:
                        return (i = Date.now() + r(4)), [3, 1];
                      case 8:
                        return [2, !1];
                    }
                  });
                })
              );
            }),
            (e.prototype.refreshLockWhileAcquired = function (e, t) {
              return i(this, void 0, void 0, function () {
                var c = this;
                return n(this, function (o) {
                  return (
                    setTimeout(function () {
                      return i(c, void 0, void 0, function () {
                        var i, c;
                        return n(this, function (n) {
                          switch (n.label) {
                            case 0:
                              return [4, Cn.default().lock(t)];
                            case 1:
                              return (
                                n.sent(),
                                this.acquiredIatSet.has(t)
                                  ? ((i = window.localStorage),
                                    null === (c = i.getItem(e))
                                      ? (Cn.default().unlock(t), [2])
                                      : (((c = JSON.parse(
                                          c
                                        )).timeRefreshed = Date.now()),
                                        i.setItem(e, JSON.stringify(c)),
                                        Cn.default().unlock(t),
                                        this.refreshLockWhileAcquired(e, t),
                                        [2]))
                                  : (Cn.default().unlock(t), [2])
                              );
                          }
                        });
                      });
                    }, 1e3),
                    [2]
                  );
                });
              });
            }),
            (e.prototype.waitForSomethingToChange = function (t) {
              return i(this, void 0, void 0, function () {
                return n(this, function (i) {
                  switch (i.label) {
                    case 0:
                      return [
                        4,
                        new Promise(function (i) {
                          var n = !1,
                            c = Date.now(),
                            o = !1;
                          function r() {
                            if (
                              (o ||
                                (window.removeEventListener('storage', r),
                                e.removeFromWaiting(r),
                                clearTimeout(l),
                                (o = !0)),
                              !n)
                            ) {
                              n = !0;
                              var t = 50 - (Date.now() - c);
                              t > 0 ? setTimeout(i, t) : i();
                            }
                          }
                          window.addEventListener('storage', r),
                            e.addToWaiting(r);
                          var l = setTimeout(r, Math.max(0, t - Date.now()));
                        }),
                      ];
                    case 1:
                      return i.sent(), [2];
                  }
                });
              });
            }),
            (e.addToWaiting = function (t) {
              this.removeFromWaiting(t),
                void 0 !== e.waiters && e.waiters.push(t);
            }),
            (e.removeFromWaiting = function (t) {
              void 0 !== e.waiters &&
                (e.waiters = e.waiters.filter(function (e) {
                  return e !== t;
                }));
            }),
            (e.notifyWaiters = function () {
              void 0 !== e.waiters &&
                e.waiters.slice().forEach(function (e) {
                  return e();
                });
            }),
            (e.prototype.releaseLock = function (e) {
              return i(this, void 0, void 0, function () {
                return n(this, function (t) {
                  switch (t.label) {
                    case 0:
                      return [4, this.releaseLock__private__(e)];
                    case 1:
                      return [2, t.sent()];
                  }
                });
              });
            }),
            (e.prototype.releaseLock__private__ = function (t) {
              return i(this, void 0, void 0, function () {
                var i, o, r;
                return n(this, function (n) {
                  switch (n.label) {
                    case 0:
                      return (
                        (i = window.localStorage),
                        (o = c + '-' + t),
                        null === (r = i.getItem(o))
                          ? [2]
                          : (r = JSON.parse(r)).id !== this.id
                          ? [3, 2]
                          : [4, Cn.default().lock(r.iat)]
                      );
                    case 1:
                      n.sent(),
                        this.acquiredIatSet.delete(r.iat),
                        i.removeItem(o),
                        Cn.default().unlock(r.iat),
                        e.notifyWaiters(),
                        (n.label = 2);
                    case 2:
                      return [2];
                  }
                });
              });
            }),
            (e.lockCorrector = function () {
              for (
                var t = Date.now() - 5e3,
                  i = window.localStorage,
                  n = Object.keys(i),
                  o = !1,
                  r = 0;
                r < n.length;
                r++
              ) {
                var l = n[r];
                if (l.includes(c)) {
                  var s = i.getItem(l);
                  null !== s &&
                    ((void 0 === (s = JSON.parse(s)).timeRefreshed &&
                      s.timeAcquired < t) ||
                      (void 0 !== s.timeRefreshed && s.timeRefreshed < t)) &&
                    (i.removeItem(l), (o = !0));
                }
              }
              o && e.notifyWaiters();
            }),
            (e.waiters = void 0),
            e
          );
        })();
        t.default = l;
      })
    ),
    Un = { timeoutInSeconds: 60 },
    hn = [
      'login_required',
      'consent_required',
      'interaction_required',
      'account_selection_required',
      'access_denied',
    ],
    Vn = (function (e) {
      function t(i, n) {
        var c = e.call(this, n) || this;
        return (
          (c.error = i),
          (c.error_description = n),
          Object.setPrototypeOf(c, t.prototype),
          c
        );
      }
      return (
        u(t, e),
        (t.fromPayload = function (e) {
          return new t(e.error, e.error_description);
        }),
        t
      );
    })(Error),
    fn = (function (e) {
      function t(i, n, c, o) {
        void 0 === o && (o = null);
        var r = e.call(this, i, n) || this;
        return (
          (r.state = c),
          (r.appState = o),
          Object.setPrototypeOf(r, t.prototype),
          r
        );
      }
      return u(t, e), t;
    })(Vn),
    Zn = (function (e) {
      function t() {
        var i = e.call(this, 'timeout', 'Timeout') || this;
        return Object.setPrototypeOf(i, t.prototype), i;
      }
      return u(t, e), t;
    })(Vn),
    Xn = (function (e) {
      function t(i) {
        var n = e.call(this) || this;
        return (n.popup = i), Object.setPrototypeOf(n, t.prototype), n;
      }
      return u(t, e), t;
    })(Zn),
    Gn = function (e, t, i) {
      return (
        void 0 === i && (i = 60),
        new Promise(function (n, c) {
          var o = window.document.createElement('iframe');
          o.setAttribute('width', '0'),
            o.setAttribute('height', '0'),
            (o.style.display = 'none');
          var r = function () {
              window.document.body.contains(o) &&
                window.document.body.removeChild(o);
            },
            l = setTimeout(function () {
              c(new Zn()), r();
            }, 1e3 * i),
            s = function (e) {
              if (
                e.origin == t &&
                e.data &&
                'authorization_response' === e.data.type
              ) {
                var i = e.source;
                i && i.close(),
                  e.data.response.error
                    ? c(Vn.fromPayload(e.data.response))
                    : n(e.data.response),
                  clearTimeout(l),
                  window.removeEventListener('message', s, !1),
                  setTimeout(r, 2e3);
              }
            };
          window.addEventListener('message', s, !1),
            window.document.body.appendChild(o),
            o.setAttribute('src', e);
        })
      );
    },
    Sn = function (e, t) {
      var i,
        n,
        c,
        o = t.popup;
      if (
        (o
          ? (o.location.href = e)
          : ((i = e),
            (n = window.screenX + (window.innerWidth - 400) / 2),
            (c = window.screenY + (window.innerHeight - 600) / 2),
            (o = window.open(
              i,
              'auth0:authorize:popup',
              'left=' +
                n +
                ',top=' +
                c +
                ',width=400,height=600,resizable,scrollbars=yes,status=1'
            ))),
        !o)
      )
        throw new Error('Could not open popup');
      return new Promise(function (e, i) {
        var n = setTimeout(function () {
          i(new Xn(o));
        }, 1e3 * (t.timeoutInSeconds || 60));
        window.addEventListener('message', function (t) {
          if (t.data && 'authorization_response' === t.data.type) {
            if ((clearTimeout(n), o.close(), t.data.response.error))
              return i(Vn.fromPayload(t.data.response));
            e(t.data.response);
          }
        });
      });
    },
    Rn = function () {
      return window.crypto || window.msCrypto;
    },
    Qn = function () {
      var e = Rn();
      return e.subtle || e.webkitSubtle;
    },
    vn = function () {
      var e =
          '0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_~.',
        t = '';
      return (
        Array.from(Rn().getRandomValues(new Uint8Array(43))).forEach(function (
          i
        ) {
          return (t += e[i % e.length]);
        }),
        t
      );
    },
    xn = function (e) {
      return btoa(e);
    },
    Wn = function (e) {
      return Object.keys(e)
        .filter(function (t) {
          return void 0 !== e[t];
        })
        .map(function (t) {
          return encodeURIComponent(t) + '=' + encodeURIComponent(e[t]);
        })
        .join('&');
    },
    An = function (e) {
      return d(void 0, void 0, void 0, function () {
        var t;
        return g(this, function (i) {
          switch (i.label) {
            case 0:
              return (
                (t = Qn().digest(
                  { name: 'SHA-256' },
                  new TextEncoder().encode(e)
                )),
                window.msCrypto
                  ? [
                      2,
                      new Promise(function (e, i) {
                        (t.oncomplete = function (t) {
                          e(t.target.result);
                        }),
                          (t.onerror = function (e) {
                            i(e.error);
                          }),
                          (t.onabort = function () {
                            i('The digest operation was aborted');
                          });
                      }),
                    ]
                  : [4, t]
              );
            case 1:
              return [2, i.sent()];
          }
        });
      });
    },
    Hn = function (e) {
      return (function (e) {
        return decodeURIComponent(
          atob(e)
            .split('')
            .map(function (e) {
              return '%' + ('00' + e.charCodeAt(0).toString(16)).slice(-2);
            })
            .join('')
        );
      })(e.replace(/_/g, '/').replace(/-/g, '+'));
    },
    Ln = function (e) {
      var t = new Uint8Array(e);
      return (function (e) {
        var t = { '+': '-', '/': '_', '=': '' };
        return e.replace(/[+/=]/g, function (e) {
          return t[e];
        });
      })(window.btoa(String.fromCharCode.apply(String, Array.from(t))));
    },
    Jn = function (e, t, i, n, c, o) {
      return d(void 0, void 0, void 0, function () {
        var r, l;
        return g(this, function (s) {
          switch (s.label) {
            case 0:
              return o
                ? (delete n.signal,
                  [
                    2,
                    ((d = a({ url: e, audience: t, scope: i, timeout: c }, n)),
                    (g = o),
                    new Promise(function (e, t) {
                      var i = new MessageChannel();
                      (i.port1.onmessage = function (i) {
                        i.data.error ? t(new Error(i.data.error)) : e(i.data);
                      }),
                        g.postMessage(d, [i.port2]);
                    })),
                  ])
                : [3, 1];
            case 1:
              return [
                4,
                ((u = e),
                (I = n),
                (I = I || {}),
                new Promise(function (e, t) {
                  var i = new XMLHttpRequest(),
                    n = [],
                    c = [],
                    o = {},
                    r = function () {
                      return {
                        ok: 2 == ((i.status / 100) | 0),
                        statusText: i.statusText,
                        status: i.status,
                        url: i.responseURL,
                        text: function () {
                          return Promise.resolve(i.responseText);
                        },
                        json: function () {
                          return Promise.resolve(JSON.parse(i.responseText));
                        },
                        blob: function () {
                          return Promise.resolve(new Blob([i.response]));
                        },
                        clone: r,
                        headers: {
                          keys: function () {
                            return n;
                          },
                          entries: function () {
                            return c;
                          },
                          get: function (e) {
                            return o[e.toLowerCase()];
                          },
                          has: function (e) {
                            return e.toLowerCase() in o;
                          },
                        },
                      };
                    };
                  for (var l in (i.open(I.method || 'get', u, !0),
                  (i.onload = function () {
                    i
                      .getAllResponseHeaders()
                      .replace(/^(.*?):[^\S\n]*([\s\S]*?)$/gm, function (
                        e,
                        t,
                        i
                      ) {
                        n.push((t = t.toLowerCase())),
                          c.push([t, i]),
                          (o[t] = o[t] ? o[t] + ',' + i : i);
                      }),
                      e(r());
                  }),
                  (i.onerror = t),
                  (i.withCredentials = 'include' == I.credentials),
                  I.headers))
                    i.setRequestHeader(l, I.headers[l]);
                  i.send(I.body || null);
                })),
              ];
            case 2:
              return (r = s.sent()), (l = { ok: r.ok }), [4, r.json()];
            case 3:
              return [2, ((l.json = s.sent()), l)];
          }
          var u, I, d, g;
        });
      });
    },
    wn = function (e, t, i, n, c, o) {
      void 0 === o && (o = 1e4);
      var r,
        l = new AbortController(),
        s = l.signal,
        u = a(a({}, n), { signal: s });
      return Promise.race([
        Jn(e, t, i, u, o, c),
        new Promise(function (e, t) {
          r = setTimeout(function () {
            l.abort(), t(new Error("Timeout when executing 'fetch'"));
          }, o);
        }),
      ]).finally(function () {
        clearTimeout(r);
      });
    },
    Yn = function (e, t, i, n, c, o) {
      return d(void 0, void 0, void 0, function () {
        var r, l, s, u, a, d, b, B, y, F;
        return g(this, function (g) {
          switch (g.label) {
            case 0:
              (r = null), (s = 0), (g.label = 1);
            case 1:
              if (!(s < 3)) return [3, 6];
              g.label = 2;
            case 2:
              return g.trys.push([2, 4, , 5]), [4, wn(e, i, n, c, o, t)];
            case 3:
              return (l = g.sent()), (r = null), [3, 6];
            case 4:
              return (u = g.sent()), (r = u), [3, 5];
            case 5:
              return s++, [3, 1];
            case 6:
              if (r) throw ((r.message = r.message || 'Failed to fetch'), r);
              if (
                ((a = l.json),
                (d = a.error),
                (b = a.error_description),
                (B = I(a, ['error', 'error_description'])),
                !l.ok)
              )
                throw (
                  ((y = b || 'HTTP error. Unable to fetch ' + e),
                  ((F = new Error(y)).error = d || 'request_error'),
                  (F.error_description = y),
                  F)
                );
              return [2, B];
          }
        });
      });
    },
    En = function (e, t) {
      return d(void 0, void 0, void 0, function () {
        var i = e.baseUrl,
          n = e.timeout,
          c = e.audience,
          o = e.scope,
          r = I(e, ['baseUrl', 'timeout', 'audience', 'scope']);
        return g(this, function (e) {
          switch (e.label) {
            case 0:
              return [
                4,
                Yn(
                  i + '/oauth/token',
                  n,
                  c || 'default',
                  o,
                  {
                    method: 'POST',
                    body: JSON.stringify(
                      a({ redirect_uri: window.location.origin }, r)
                    ),
                    headers: { 'Content-type': 'application/json' },
                  },
                  t
                ),
              ];
            case 1:
              return [2, e.sent()];
          }
        });
      });
    },
    Kn = function (e) {
      return Array.from(new Set(e));
    },
    Nn = function () {
      for (var e = [], t = 0; t < arguments.length; t++) e[t] = arguments[t];
      return Kn(e.join(' ').trim().split(/\s+/)).join(' ');
    },
    kn = function (e) {
      return (
        '@@auth0spajs@@::' + e.client_id + '::' + e.audience + '::' + e.scope
      );
    },
    Tn = function (e) {
      var t = Math.floor(Date.now() / 1e3) + e.expires_in;
      return { body: e, expiresAt: Math.min(t, e.decodedToken.claims.exp) };
    },
    zn = (function () {
      function e() {}
      return (
        (e.prototype.save = function (e) {
          var t = kn(e),
            i = Tn(e);
          window.localStorage.setItem(t, JSON.stringify(i));
        }),
        (e.prototype.get = function (e, t) {
          void 0 === t && (t = 0);
          var i = kn(e),
            n = this.readJson(i),
            c = Math.floor(Date.now() / 1e3);
          if (n) {
            if (!(n.expiresAt - t < c)) return n.body;
            if (n.body.refresh_token) {
              var o = this.stripData(n);
              return this.writeJson(i, o), o.body;
            }
            localStorage.removeItem(i);
          }
        }),
        (e.prototype.clear = function () {
          for (var e = localStorage.length - 1; e >= 0; e--)
            localStorage.key(e).startsWith('@@auth0spajs@@') &&
              localStorage.removeItem(localStorage.key(e));
        }),
        (e.prototype.readJson = function (e) {
          var t,
            i = window.localStorage.getItem(e);
          if (i && (t = JSON.parse(i))) return t;
        }),
        (e.prototype.writeJson = function (e, t) {
          localStorage.setItem(e, JSON.stringify(t));
        }),
        (e.prototype.stripData = function (e) {
          return {
            body: { refresh_token: e.body.refresh_token },
            expiresAt: e.expiresAt,
          };
        }),
        e
      );
    })(),
    On = function () {
      this.enclosedCache = (function () {
        var e = { body: {}, expiresAt: 0 };
        return {
          save: function (t) {
            var i = kn(t),
              n = Tn(t);
            e[i] = n;
          },
          get: function (t, i) {
            void 0 === i && (i = 0);
            var n = kn(t),
              c = e[n],
              o = Math.floor(Date.now() / 1e3);
            if (c)
              return c.expiresAt - i < o
                ? c.body.refresh_token
                  ? ((c.body = { refresh_token: c.body.refresh_token }), c.body)
                  : void delete e[n]
                : c.body;
          },
          clear: function () {
            e = { body: {}, expiresAt: 0 };
          },
        };
      })();
    },
    Pn = (function () {
      function e(e) {
        (this.storage = e),
          (this.transaction = this.storage.get('a0.spajs.txs'));
      }
      return (
        (e.prototype.create = function (e) {
          (this.transaction = e),
            this.storage.save('a0.spajs.txs', e, { daysUntilExpire: 1 });
        }),
        (e.prototype.get = function () {
          return this.transaction;
        }),
        (e.prototype.remove = function () {
          delete this.transaction, this.storage.remove('a0.spajs.txs');
        }),
        e
      );
    })(),
    jn = function (e) {
      return 'number' == typeof e;
    },
    Dn = [
      'iss',
      'aud',
      'exp',
      'nbf',
      'iat',
      'jti',
      'azp',
      'nonce',
      'auth_time',
      'at_hash',
      'c_hash',
      'acr',
      'amr',
      'sub_jwk',
      'cnf',
      'sip_from_tag',
      'sip_date',
      'sip_callid',
      'sip_cseq_num',
      'sip_via_branch',
      'orig',
      'dest',
      'mky',
      'events',
      'toe',
      'txn',
      'rph',
      'sid',
      'vot',
      'vtm',
    ],
    Mn = y(function (e, t) {
      var i =
        (b && b.__assign) ||
        function () {
          return (i =
            Object.assign ||
            function (e) {
              for (var t, i = 1, n = arguments.length; i < n; i++)
                for (var c in (t = arguments[i]))
                  Object.prototype.hasOwnProperty.call(t, c) && (e[c] = t[c]);
              return e;
            }).apply(this, arguments);
        };
      function n(e, t) {
        if (!t) return '';
        var i = '; ' + e;
        return !0 === t ? i : i + '=' + t;
      }
      function c(e, t, i) {
        return (
          encodeURIComponent(e)
            .replace(/%(23|24|26|2B|5E|60|7C)/g, decodeURIComponent)
            .replace(/\(/g, '%28')
            .replace(/\)/g, '%29') +
          '=' +
          encodeURIComponent(t).replace(
            /%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,
            decodeURIComponent
          ) +
          (function (e) {
            if ('number' == typeof e.expires) {
              var t = new Date();
              t.setMilliseconds(t.getMilliseconds() + 864e5 * e.expires),
                (e.expires = t);
            }
            return (
              n('Expires', e.expires ? e.expires.toUTCString() : '') +
              n('Domain', e.domain) +
              n('Path', e.path) +
              n('Secure', e.secure) +
              n('SameSite', e.sameSite)
            );
          })(i)
        );
      }
      function o(e) {
        for (
          var t = {}, i = e ? e.split('; ') : [], n = /(%[\dA-F]{2})+/gi, c = 0;
          c < i.length;
          c++
        ) {
          var o = i[c].split('='),
            r = o.slice(1).join('=');
          '"' === r.charAt(0) && (r = r.slice(1, -1));
          try {
            t[o[0].replace(n, decodeURIComponent)] = r.replace(
              n,
              decodeURIComponent
            );
          } catch (e) {}
        }
        return t;
      }
      function r() {
        return o(document.cookie);
      }
      function l(e, t, n) {
        document.cookie = c(e, t, i({ path: '/' }, n));
      }
      (t.__esModule = !0),
        (t.encode = c),
        (t.parse = o),
        (t.getAll = r),
        (t.get = function (e) {
          return r()[e];
        }),
        (t.set = l),
        (t.remove = function (e, t) {
          l(e, '', i(i({}, t), { expires: -1 }));
        });
    });
  B(Mn), Mn.encode, Mn.parse, Mn.getAll;
  var _n = Mn.get,
    qn = Mn.set,
    $n = Mn.remove,
    ec = {
      get: function (e) {
        var t = _n(e);
        if (void 0 !== t) return JSON.parse(t);
      },
      save: function (e, t, i) {
        var n = {};
        'https:' === window.location.protocol &&
          (n = { secure: !0, sameSite: 'none' }),
          (n.expires = i.daysUntilExpire),
          qn(e, JSON.stringify(t), n);
      },
      remove: function (e) {
        $n(e);
      },
    },
    tc = {
      get: function (e) {
        return ec.get(e) || ec.get('_legacy_' + e);
      },
      save: function (e, t, i) {
        var n = {};
        'https:' === window.location.protocol && (n = { secure: !0 }),
          (n.expires = i.daysUntilExpire),
          qn('_legacy_' + e, JSON.stringify(t), n),
          ec.save(e, t, i);
      },
      remove: function (e) {
        ec.remove(e), ec.remove('_legacy_' + e);
      },
    },
    ic = {
      get: function (e) {
        if ('undefined' != typeof sessionStorage) {
          var t = sessionStorage.getItem(e);
          if (void 0 !== t) return JSON.parse(t);
        }
      },
      save: function (e, t) {
        sessionStorage.setItem(e, JSON.stringify(t));
      },
      remove: function (e) {
        sessionStorage.removeItem(e);
      },
    };
  var nc,
    cc =
      ('Lyogcm9sbHVwLXBsdWdpbi13ZWItd29ya2VyLWxvYWRlciAqLwovKiEgKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioKQ29weXJpZ2h0IChjKSBNaWNyb3NvZnQgQ29ycG9yYXRpb24uIEFsbCByaWdodHMgcmVzZXJ2ZWQuCkxpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSAiTGljZW5zZSIpOyB5b3UgbWF5IG5vdCB1c2UKdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUKTGljZW5zZSBhdCBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjAKClRISVMgQ09ERSBJUyBQUk9WSURFRCBPTiBBTiAqQVMgSVMqIEJBU0lTLCBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkKS0lORCwgRUlUSEVSIEVYUFJFU1MgT1IgSU1QTElFRCwgSU5DTFVESU5HIFdJVEhPVVQgTElNSVRBVElPTiBBTlkgSU1QTElFRApXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgVElUTEUsIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFLApNRVJDSEFOVEFCTElUWSBPUiBOT04tSU5GUklOR0VNRU5ULgoKU2VlIHRoZSBBcGFjaGUgVmVyc2lvbiAyLjAgTGljZW5zZSBmb3Igc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zCmFuZCBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS4KKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiogKi8KdmFyIGU9ZnVuY3Rpb24oKXtyZXR1cm4oZT1PYmplY3QuYXNzaWdufHxmdW5jdGlvbihlKXtmb3IodmFyIHIsdD0xLG49YXJndW1lbnRzLmxlbmd0aDt0PG47dCsrKWZvcih2YXIgbyBpbiByPWFyZ3VtZW50c1t0XSlPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocixvKSYmKGVbb109cltvXSk7cmV0dXJuIGV9KS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9O2Z1bmN0aW9uIHIoZSxyKXt2YXIgdCxuLG8scyxhPXtsYWJlbDowLHNlbnQ6ZnVuY3Rpb24oKXtpZigxJm9bMF0pdGhyb3cgb1sxXTtyZXR1cm4gb1sxXX0sdHJ5czpbXSxvcHM6W119O3JldHVybiBzPXtuZXh0OmkoMCksdGhyb3c6aSgxKSxyZXR1cm46aSgyKX0sImZ1bmN0aW9uIj09dHlwZW9mIFN5bWJvbCYmKHNbU3ltYm9sLml0ZXJhdG9yXT1mdW5jdGlvbigpe3JldHVybiB0aGlzfSkscztmdW5jdGlvbiBpKHMpe3JldHVybiBmdW5jdGlvbihpKXtyZXR1cm4gZnVuY3Rpb24ocyl7aWYodCl0aHJvdyBuZXcgVHlwZUVycm9yKCJHZW5lcmF0b3IgaXMgYWxyZWFkeSBleGVjdXRpbmcuIik7Zm9yKDthOyl0cnl7aWYodD0xLG4mJihvPTImc1swXT9uLnJldHVybjpzWzBdP24udGhyb3d8fCgobz1uLnJldHVybikmJm8uY2FsbChuKSwwKTpuLm5leHQpJiYhKG89by5jYWxsKG4sc1sxXSkpLmRvbmUpcmV0dXJuIG87c3dpdGNoKG49MCxvJiYocz1bMiZzWzBdLG8udmFsdWVdKSxzWzBdKXtjYXNlIDA6Y2FzZSAxOm89czticmVhaztjYXNlIDQ6cmV0dXJuIGEubGFiZWwrKyx7dmFsdWU6c1sxXSxkb25lOiExfTtjYXNlIDU6YS5sYWJlbCsrLG49c1sxXSxzPVswXTtjb250aW51ZTtjYXNlIDc6cz1hLm9wcy5wb3AoKSxhLnRyeXMucG9wKCk7Y29udGludWU7ZGVmYXVsdDppZighKG89YS50cnlzLChvPW8ubGVuZ3RoPjAmJm9bby5sZW5ndGgtMV0pfHw2IT09c1swXSYmMiE9PXNbMF0pKXthPTA7Y29udGludWV9aWYoMz09PXNbMF0mJighb3x8c1sxXT5vWzBdJiZzWzFdPG9bM10pKXthLmxhYmVsPXNbMV07YnJlYWt9aWYoNj09PXNbMF0mJmEubGFiZWw8b1sxXSl7YS5sYWJlbD1vWzFdLG89czticmVha31pZihvJiZhLmxhYmVsPG9bMl0pe2EubGFiZWw9b1syXSxhLm9wcy5wdXNoKHMpO2JyZWFrfW9bMl0mJmEub3BzLnBvcCgpLGEudHJ5cy5wb3AoKTtjb250aW51ZX1zPXIuY2FsbChlLGEpfWNhdGNoKGUpe3M9WzYsZV0sbj0wfWZpbmFsbHl7dD1vPTB9aWYoNSZzWzBdKXRocm93IHNbMV07cmV0dXJue3ZhbHVlOnNbMF0/c1sxXTp2b2lkIDAsZG9uZTohMH19KFtzLGldKX19fXZhciB0PXt9LG49ZnVuY3Rpb24oZSxyKXtyZXR1cm4gZSsifCIrcn07YWRkRXZlbnRMaXN0ZW5lcigibWVzc2FnZSIsKGZ1bmN0aW9uKG8pe3ZhciBzLGEsaSx1LGMsbCxmLHAsaCx5LGI7cmV0dXJuIHA9dm9pZCAwLGg9dm9pZCAwLGI9ZnVuY3Rpb24oKXt2YXIgcCxoLHksYixkLHYsdyxnO3JldHVybiByKHRoaXMsKGZ1bmN0aW9uKHIpe3N3aXRjaChyLmxhYmVsKXtjYXNlIDA6cz1vLmRhdGEsYT1zLnVybCxpPXMudGltZW91dCx1PXMuYXVkaWVuY2UsYz1zLnNjb3BlLGw9ZnVuY3Rpb24oZSxyKXt2YXIgdD17fTtmb3IodmFyIG4gaW4gZSlPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZSxuKSYmci5pbmRleE9mKG4pPDAmJih0W25dPWVbbl0pO2lmKG51bGwhPWUmJiJmdW5jdGlvbiI9PXR5cGVvZiBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKXt2YXIgbz0wO2ZvcihuPU9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMoZSk7bzxuLmxlbmd0aDtvKyspci5pbmRleE9mKG5bb10pPDAmJk9iamVjdC5wcm90b3R5cGUucHJvcGVydHlJc0VudW1lcmFibGUuY2FsbChlLG5bb10pJiYodFtuW29dXT1lW25bb11dKX1yZXR1cm4gdH0ocyxbInVybCIsInRpbWVvdXQiLCJhdWRpZW5jZSIsInNjb3BlIl0pLGY9by5wb3J0c1swXSxyLmxhYmVsPTE7Y2FzZSAxOmlmKHIudHJ5cy5wdXNoKFsxLDcsLDhdKSwhKGg9SlNPTi5wYXJzZShsLmJvZHkpKS5yZWZyZXNoX3Rva2VuJiYicmVmcmVzaF90b2tlbiI9PT1oLmdyYW50X3R5cGUpe2lmKCEoeT1mdW5jdGlvbihlLHIpe3JldHVybiB0W24oZSxyKV19KHUsYykpKXRocm93IG5ldyBFcnJvcigiVGhlIHdlYiB3b3JrZXIgaXMgbWlzc2luZyB0aGUgcmVmcmVzaCB0b2tlbiIpO2wuYm9keT1KU09OLnN0cmluZ2lmeShlKGUoe30saCkse3JlZnJlc2hfdG9rZW46eX0pKX1iPW5ldyBBYm9ydENvbnRyb2xsZXIsZD1iLnNpZ25hbCx2PXZvaWQgMCxyLmxhYmVsPTI7Y2FzZSAyOnJldHVybiByLnRyeXMucHVzaChbMiw0LCw1XSksWzQsUHJvbWlzZS5yYWNlKFsoaz1pLG5ldyBQcm9taXNlKChmdW5jdGlvbihlKXtyZXR1cm4gc2V0VGltZW91dChlLGspfSkpKSxmZXRjaChhLGUoZSh7fSxsKSx7c2lnbmFsOmR9KSldKV07Y2FzZSAzOnJldHVybiB2PXIuc2VudCgpLFszLDVdO2Nhc2UgNDpyZXR1cm4gdz1yLnNlbnQoKSxmLnBvc3RNZXNzYWdlKHtlcnJvcjp3Lm1lc3NhZ2V9KSxbMl07Y2FzZSA1OnJldHVybiB2P1s0LHYuanNvbigpXTooYi5hYm9ydCgpLFsyXSk7Y2FzZSA2OnJldHVybihwPXIuc2VudCgpKS5yZWZyZXNoX3Rva2VuPyhmdW5jdGlvbihlLHIsbyl7dFtuKHIsbyldPWV9KHAucmVmcmVzaF90b2tlbix1LGMpLGRlbGV0ZSBwLnJlZnJlc2hfdG9rZW4pOmZ1bmN0aW9uKGUscil7ZGVsZXRlIHRbbihlLHIpXX0odSxjKSxmLnBvc3RNZXNzYWdlKHtvazp2Lm9rLGpzb246cH0pLFszLDhdO2Nhc2UgNzpyZXR1cm4gZz1yLnNlbnQoKSxmLnBvc3RNZXNzYWdlKHtvazohMSxqc29uOntlcnJvcl9kZXNjcmlwdGlvbjpnLm1lc3NhZ2V9fSksWzMsOF07Y2FzZSA4OnJldHVyblsyXX12YXIga30pKX0sbmV3KCh5PXZvaWQgMCl8fCh5PVByb21pc2UpKSgoZnVuY3Rpb24oZSxyKXtmdW5jdGlvbiB0KGUpe3RyeXtvKGIubmV4dChlKSl9Y2F0Y2goZSl7cihlKX19ZnVuY3Rpb24gbihlKXt0cnl7byhiLnRocm93KGUpKX1jYXRjaChlKXtyKGUpfX1mdW5jdGlvbiBvKHIpe3IuZG9uZT9lKHIudmFsdWUpOm5ldyB5KChmdW5jdGlvbihlKXtlKHIudmFsdWUpfSkpLnRoZW4odCxuKX1vKChiPWIuYXBwbHkocCxofHxbXSkpLm5leHQoKSl9KSl9KSk7Cgo=',
      'data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidG9rZW4ud29ya2VyLmpzIiwic291cmNlcyI6WyJ3b3JrZXI6Ly93ZWItd29ya2VyL25vZGVfbW9kdWxlcy90c2xpYi90c2xpYi5lczYuanMiLCJ3b3JrZXI6Ly93ZWItd29ya2VyL3NyYy9jb25zdGFudHMudHMiLCJ3b3JrZXI6Ly93ZWItd29ya2VyL3NyYy90b2tlbi53b3JrZXIudHMiXSwic291cmNlc0NvbnRlbnQiOlsiLyohICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXHJcbkNvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxyXG5MaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpOyB5b3UgbWF5IG5vdCB1c2VcclxudGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGVcclxuTGljZW5zZSBhdCBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcclxuXHJcblRISVMgQ09ERSBJUyBQUk9WSURFRCBPTiBBTiAqQVMgSVMqIEJBU0lTLCBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTllcclxuS0lORCwgRUlUSEVSIEVYUFJFU1MgT1IgSU1QTElFRCwgSU5DTFVESU5HIFdJVEhPVVQgTElNSVRBVElPTiBBTlkgSU1QTElFRFxyXG5XQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgVElUTEUsIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFLFxyXG5NRVJDSEFOVEFCTElUWSBPUiBOT04tSU5GUklOR0VNRU5ULlxyXG5cclxuU2VlIHRoZSBBcGFjaGUgVmVyc2lvbiAyLjAgTGljZW5zZSBmb3Igc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zXHJcbmFuZCBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cclxuKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiogKi9cclxuLyogZ2xvYmFsIFJlZmxlY3QsIFByb21pc2UgKi9cclxuXHJcbnZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24oZCwgYikge1xyXG4gICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxyXG4gICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcclxuICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTsgfTtcclxuICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpO1xyXG59O1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fZXh0ZW5kcyhkLCBiKSB7XHJcbiAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xyXG4gICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XHJcbiAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XHJcbn1cclxuXHJcbmV4cG9ydCB2YXIgX19hc3NpZ24gPSBmdW5jdGlvbigpIHtcclxuICAgIF9fYXNzaWduID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiBfX2Fzc2lnbih0KSB7XHJcbiAgICAgICAgZm9yICh2YXIgcywgaSA9IDEsIG4gPSBhcmd1bWVudHMubGVuZ3RoOyBpIDwgbjsgaSsrKSB7XHJcbiAgICAgICAgICAgIHMgPSBhcmd1bWVudHNbaV07XHJcbiAgICAgICAgICAgIGZvciAodmFyIHAgaW4gcykgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzLCBwKSkgdFtwXSA9IHNbcF07XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB0O1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIF9fYXNzaWduLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX3Jlc3QocywgZSkge1xyXG4gICAgdmFyIHQgPSB7fTtcclxuICAgIGZvciAodmFyIHAgaW4gcykgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzLCBwKSAmJiBlLmluZGV4T2YocCkgPCAwKVxyXG4gICAgICAgIHRbcF0gPSBzW3BdO1xyXG4gICAgaWYgKHMgIT0gbnVsbCAmJiB0eXBlb2YgT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyA9PT0gXCJmdW5jdGlvblwiKVxyXG4gICAgICAgIGZvciAodmFyIGkgPSAwLCBwID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhzKTsgaSA8IHAubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgaWYgKGUuaW5kZXhPZihwW2ldKSA8IDAgJiYgT2JqZWN0LnByb3RvdHlwZS5wcm9wZXJ0eUlzRW51bWVyYWJsZS5jYWxsKHMsIHBbaV0pKVxyXG4gICAgICAgICAgICAgICAgdFtwW2ldXSA9IHNbcFtpXV07XHJcbiAgICAgICAgfVxyXG4gICAgcmV0dXJuIHQ7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2RlY29yYXRlKGRlY29yYXRvcnMsIHRhcmdldCwga2V5LCBkZXNjKSB7XHJcbiAgICB2YXIgYyA9IGFyZ3VtZW50cy5sZW5ndGgsIHIgPSBjIDwgMyA/IHRhcmdldCA6IGRlc2MgPT09IG51bGwgPyBkZXNjID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcih0YXJnZXQsIGtleSkgOiBkZXNjLCBkO1xyXG4gICAgaWYgKHR5cGVvZiBSZWZsZWN0ID09PSBcIm9iamVjdFwiICYmIHR5cGVvZiBSZWZsZWN0LmRlY29yYXRlID09PSBcImZ1bmN0aW9uXCIpIHIgPSBSZWZsZWN0LmRlY29yYXRlKGRlY29yYXRvcnMsIHRhcmdldCwga2V5LCBkZXNjKTtcclxuICAgIGVsc2UgZm9yICh2YXIgaSA9IGRlY29yYXRvcnMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIGlmIChkID0gZGVjb3JhdG9yc1tpXSkgciA9IChjIDwgMyA/IGQocikgOiBjID4gMyA/IGQodGFyZ2V0LCBrZXksIHIpIDogZCh0YXJnZXQsIGtleSkpIHx8IHI7XHJcbiAgICByZXR1cm4gYyA+IDMgJiYgciAmJiBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIHIpLCByO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19wYXJhbShwYXJhbUluZGV4LCBkZWNvcmF0b3IpIHtcclxuICAgIHJldHVybiBmdW5jdGlvbiAodGFyZ2V0LCBrZXkpIHsgZGVjb3JhdG9yKHRhcmdldCwga2V5LCBwYXJhbUluZGV4KTsgfVxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19tZXRhZGF0YShtZXRhZGF0YUtleSwgbWV0YWRhdGFWYWx1ZSkge1xyXG4gICAgaWYgKHR5cGVvZiBSZWZsZWN0ID09PSBcIm9iamVjdFwiICYmIHR5cGVvZiBSZWZsZWN0Lm1ldGFkYXRhID09PSBcImZ1bmN0aW9uXCIpIHJldHVybiBSZWZsZWN0Lm1ldGFkYXRhKG1ldGFkYXRhS2V5LCBtZXRhZGF0YVZhbHVlKTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fYXdhaXRlcih0aGlzQXJnLCBfYXJndW1lbnRzLCBQLCBnZW5lcmF0b3IpIHtcclxuICAgIHJldHVybiBuZXcgKFAgfHwgKFAgPSBQcm9taXNlKSkoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xyXG4gICAgICAgIGZ1bmN0aW9uIGZ1bGZpbGxlZCh2YWx1ZSkgeyB0cnkgeyBzdGVwKGdlbmVyYXRvci5uZXh0KHZhbHVlKSk7IH0gY2F0Y2ggKGUpIHsgcmVqZWN0KGUpOyB9IH1cclxuICAgICAgICBmdW5jdGlvbiByZWplY3RlZCh2YWx1ZSkgeyB0cnkgeyBzdGVwKGdlbmVyYXRvcltcInRocm93XCJdKHZhbHVlKSk7IH0gY2F0Y2ggKGUpIHsgcmVqZWN0KGUpOyB9IH1cclxuICAgICAgICBmdW5jdGlvbiBzdGVwKHJlc3VsdCkgeyByZXN1bHQuZG9uZSA/IHJlc29sdmUocmVzdWx0LnZhbHVlKSA6IG5ldyBQKGZ1bmN0aW9uIChyZXNvbHZlKSB7IHJlc29sdmUocmVzdWx0LnZhbHVlKTsgfSkudGhlbihmdWxmaWxsZWQsIHJlamVjdGVkKTsgfVxyXG4gICAgICAgIHN0ZXAoKGdlbmVyYXRvciA9IGdlbmVyYXRvci5hcHBseSh0aGlzQXJnLCBfYXJndW1lbnRzIHx8IFtdKSkubmV4dCgpKTtcclxuICAgIH0pO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19nZW5lcmF0b3IodGhpc0FyZywgYm9keSkge1xyXG4gICAgdmFyIF8gPSB7IGxhYmVsOiAwLCBzZW50OiBmdW5jdGlvbigpIHsgaWYgKHRbMF0gJiAxKSB0aHJvdyB0WzFdOyByZXR1cm4gdFsxXTsgfSwgdHJ5czogW10sIG9wczogW10gfSwgZiwgeSwgdCwgZztcclxuICAgIHJldHVybiBnID0geyBuZXh0OiB2ZXJiKDApLCBcInRocm93XCI6IHZlcmIoMSksIFwicmV0dXJuXCI6IHZlcmIoMikgfSwgdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIChnW1N5bWJvbC5pdGVyYXRvcl0gPSBmdW5jdGlvbigpIHsgcmV0dXJuIHRoaXM7IH0pLCBnO1xyXG4gICAgZnVuY3Rpb24gdmVyYihuKSB7IHJldHVybiBmdW5jdGlvbiAodikgeyByZXR1cm4gc3RlcChbbiwgdl0pOyB9OyB9XHJcbiAgICBmdW5jdGlvbiBzdGVwKG9wKSB7XHJcbiAgICAgICAgaWYgKGYpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJHZW5lcmF0b3IgaXMgYWxyZWFkeSBleGVjdXRpbmcuXCIpO1xyXG4gICAgICAgIHdoaWxlIChfKSB0cnkge1xyXG4gICAgICAgICAgICBpZiAoZiA9IDEsIHkgJiYgKHQgPSBvcFswXSAmIDIgPyB5W1wicmV0dXJuXCJdIDogb3BbMF0gPyB5W1widGhyb3dcIl0gfHwgKCh0ID0geVtcInJldHVyblwiXSkgJiYgdC5jYWxsKHkpLCAwKSA6IHkubmV4dCkgJiYgISh0ID0gdC5jYWxsKHksIG9wWzFdKSkuZG9uZSkgcmV0dXJuIHQ7XHJcbiAgICAgICAgICAgIGlmICh5ID0gMCwgdCkgb3AgPSBbb3BbMF0gJiAyLCB0LnZhbHVlXTtcclxuICAgICAgICAgICAgc3dpdGNoIChvcFswXSkge1xyXG4gICAgICAgICAgICAgICAgY2FzZSAwOiBjYXNlIDE6IHQgPSBvcDsgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBjYXNlIDQ6IF8ubGFiZWwrKzsgcmV0dXJuIHsgdmFsdWU6IG9wWzFdLCBkb25lOiBmYWxzZSB9O1xyXG4gICAgICAgICAgICAgICAgY2FzZSA1OiBfLmxhYmVsKys7IHkgPSBvcFsxXTsgb3AgPSBbMF07IGNvbnRpbnVlO1xyXG4gICAgICAgICAgICAgICAgY2FzZSA3OiBvcCA9IF8ub3BzLnBvcCgpOyBfLnRyeXMucG9wKCk7IGNvbnRpbnVlO1xyXG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgICAgICAgICBpZiAoISh0ID0gXy50cnlzLCB0ID0gdC5sZW5ndGggPiAwICYmIHRbdC5sZW5ndGggLSAxXSkgJiYgKG9wWzBdID09PSA2IHx8IG9wWzBdID09PSAyKSkgeyBfID0gMDsgY29udGludWU7IH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAob3BbMF0gPT09IDMgJiYgKCF0IHx8IChvcFsxXSA+IHRbMF0gJiYgb3BbMV0gPCB0WzNdKSkpIHsgXy5sYWJlbCA9IG9wWzFdOyBicmVhazsgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChvcFswXSA9PT0gNiAmJiBfLmxhYmVsIDwgdFsxXSkgeyBfLmxhYmVsID0gdFsxXTsgdCA9IG9wOyBicmVhazsgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0ICYmIF8ubGFiZWwgPCB0WzJdKSB7IF8ubGFiZWwgPSB0WzJdOyBfLm9wcy5wdXNoKG9wKTsgYnJlYWs7IH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAodFsyXSkgXy5vcHMucG9wKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgXy50cnlzLnBvcCgpOyBjb250aW51ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBvcCA9IGJvZHkuY2FsbCh0aGlzQXJnLCBfKTtcclxuICAgICAgICB9IGNhdGNoIChlKSB7IG9wID0gWzYsIGVdOyB5ID0gMDsgfSBmaW5hbGx5IHsgZiA9IHQgPSAwOyB9XHJcbiAgICAgICAgaWYgKG9wWzBdICYgNSkgdGhyb3cgb3BbMV07IHJldHVybiB7IHZhbHVlOiBvcFswXSA/IG9wWzFdIDogdm9pZCAwLCBkb25lOiB0cnVlIH07XHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2V4cG9ydFN0YXIobSwgZXhwb3J0cykge1xyXG4gICAgZm9yICh2YXIgcCBpbiBtKSBpZiAoIWV4cG9ydHMuaGFzT3duUHJvcGVydHkocCkpIGV4cG9ydHNbcF0gPSBtW3BdO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX192YWx1ZXMobykge1xyXG4gICAgdmFyIG0gPSB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgb1tTeW1ib2wuaXRlcmF0b3JdLCBpID0gMDtcclxuICAgIGlmIChtKSByZXR1cm4gbS5jYWxsKG8pO1xyXG4gICAgcmV0dXJuIHtcclxuICAgICAgICBuZXh0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIGlmIChvICYmIGkgPj0gby5sZW5ndGgpIG8gPSB2b2lkIDA7XHJcbiAgICAgICAgICAgIHJldHVybiB7IHZhbHVlOiBvICYmIG9baSsrXSwgZG9uZTogIW8gfTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19yZWFkKG8sIG4pIHtcclxuICAgIHZhciBtID0gdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIG9bU3ltYm9sLml0ZXJhdG9yXTtcclxuICAgIGlmICghbSkgcmV0dXJuIG87XHJcbiAgICB2YXIgaSA9IG0uY2FsbChvKSwgciwgYXIgPSBbXSwgZTtcclxuICAgIHRyeSB7XHJcbiAgICAgICAgd2hpbGUgKChuID09PSB2b2lkIDAgfHwgbi0tID4gMCkgJiYgIShyID0gaS5uZXh0KCkpLmRvbmUpIGFyLnB1c2goci52YWx1ZSk7XHJcbiAgICB9XHJcbiAgICBjYXRjaCAoZXJyb3IpIHsgZSA9IHsgZXJyb3I6IGVycm9yIH07IH1cclxuICAgIGZpbmFsbHkge1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIGlmIChyICYmICFyLmRvbmUgJiYgKG0gPSBpW1wicmV0dXJuXCJdKSkgbS5jYWxsKGkpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBmaW5hbGx5IHsgaWYgKGUpIHRocm93IGUuZXJyb3I7IH1cclxuICAgIH1cclxuICAgIHJldHVybiBhcjtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fc3ByZWFkKCkge1xyXG4gICAgZm9yICh2YXIgYXIgPSBbXSwgaSA9IDA7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspXHJcbiAgICAgICAgYXIgPSBhci5jb25jYXQoX19yZWFkKGFyZ3VtZW50c1tpXSkpO1xyXG4gICAgcmV0dXJuIGFyO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19zcHJlYWRBcnJheXMoKSB7XHJcbiAgICBmb3IgKHZhciBzID0gMCwgaSA9IDAsIGlsID0gYXJndW1lbnRzLmxlbmd0aDsgaSA8IGlsOyBpKyspIHMgKz0gYXJndW1lbnRzW2ldLmxlbmd0aDtcclxuICAgIGZvciAodmFyIHIgPSBBcnJheShzKSwgayA9IDAsIGkgPSAwOyBpIDwgaWw7IGkrKylcclxuICAgICAgICBmb3IgKHZhciBhID0gYXJndW1lbnRzW2ldLCBqID0gMCwgamwgPSBhLmxlbmd0aDsgaiA8IGpsOyBqKyssIGsrKylcclxuICAgICAgICAgICAgcltrXSA9IGFbal07XHJcbiAgICByZXR1cm4gcjtcclxufTtcclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2F3YWl0KHYpIHtcclxuICAgIHJldHVybiB0aGlzIGluc3RhbmNlb2YgX19hd2FpdCA/ICh0aGlzLnYgPSB2LCB0aGlzKSA6IG5ldyBfX2F3YWl0KHYpO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19hc3luY0dlbmVyYXRvcih0aGlzQXJnLCBfYXJndW1lbnRzLCBnZW5lcmF0b3IpIHtcclxuICAgIGlmICghU3ltYm9sLmFzeW5jSXRlcmF0b3IpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJTeW1ib2wuYXN5bmNJdGVyYXRvciBpcyBub3QgZGVmaW5lZC5cIik7XHJcbiAgICB2YXIgZyA9IGdlbmVyYXRvci5hcHBseSh0aGlzQXJnLCBfYXJndW1lbnRzIHx8IFtdKSwgaSwgcSA9IFtdO1xyXG4gICAgcmV0dXJuIGkgPSB7fSwgdmVyYihcIm5leHRcIiksIHZlcmIoXCJ0aHJvd1wiKSwgdmVyYihcInJldHVyblwiKSwgaVtTeW1ib2wuYXN5bmNJdGVyYXRvcl0gPSBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzOyB9LCBpO1xyXG4gICAgZnVuY3Rpb24gdmVyYihuKSB7IGlmIChnW25dKSBpW25dID0gZnVuY3Rpb24gKHYpIHsgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChhLCBiKSB7IHEucHVzaChbbiwgdiwgYSwgYl0pID4gMSB8fCByZXN1bWUobiwgdik7IH0pOyB9OyB9XHJcbiAgICBmdW5jdGlvbiByZXN1bWUobiwgdikgeyB0cnkgeyBzdGVwKGdbbl0odikpOyB9IGNhdGNoIChlKSB7IHNldHRsZShxWzBdWzNdLCBlKTsgfSB9XHJcbiAgICBmdW5jdGlvbiBzdGVwKHIpIHsgci52YWx1ZSBpbnN0YW5jZW9mIF9fYXdhaXQgPyBQcm9taXNlLnJlc29sdmUoci52YWx1ZS52KS50aGVuKGZ1bGZpbGwsIHJlamVjdCkgOiBzZXR0bGUocVswXVsyXSwgcik7IH1cclxuICAgIGZ1bmN0aW9uIGZ1bGZpbGwodmFsdWUpIHsgcmVzdW1lKFwibmV4dFwiLCB2YWx1ZSk7IH1cclxuICAgIGZ1bmN0aW9uIHJlamVjdCh2YWx1ZSkgeyByZXN1bWUoXCJ0aHJvd1wiLCB2YWx1ZSk7IH1cclxuICAgIGZ1bmN0aW9uIHNldHRsZShmLCB2KSB7IGlmIChmKHYpLCBxLnNoaWZ0KCksIHEubGVuZ3RoKSByZXN1bWUocVswXVswXSwgcVswXVsxXSk7IH1cclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fYXN5bmNEZWxlZ2F0b3Iobykge1xyXG4gICAgdmFyIGksIHA7XHJcbiAgICByZXR1cm4gaSA9IHt9LCB2ZXJiKFwibmV4dFwiKSwgdmVyYihcInRocm93XCIsIGZ1bmN0aW9uIChlKSB7IHRocm93IGU7IH0pLCB2ZXJiKFwicmV0dXJuXCIpLCBpW1N5bWJvbC5pdGVyYXRvcl0gPSBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzOyB9LCBpO1xyXG4gICAgZnVuY3Rpb24gdmVyYihuLCBmKSB7IGlbbl0gPSBvW25dID8gZnVuY3Rpb24gKHYpIHsgcmV0dXJuIChwID0gIXApID8geyB2YWx1ZTogX19hd2FpdChvW25dKHYpKSwgZG9uZTogbiA9PT0gXCJyZXR1cm5cIiB9IDogZiA/IGYodikgOiB2OyB9IDogZjsgfVxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19hc3luY1ZhbHVlcyhvKSB7XHJcbiAgICBpZiAoIVN5bWJvbC5hc3luY0l0ZXJhdG9yKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3ltYm9sLmFzeW5jSXRlcmF0b3IgaXMgbm90IGRlZmluZWQuXCIpO1xyXG4gICAgdmFyIG0gPSBvW1N5bWJvbC5hc3luY0l0ZXJhdG9yXSwgaTtcclxuICAgIHJldHVybiBtID8gbS5jYWxsKG8pIDogKG8gPSB0eXBlb2YgX192YWx1ZXMgPT09IFwiZnVuY3Rpb25cIiA/IF9fdmFsdWVzKG8pIDogb1tTeW1ib2wuaXRlcmF0b3JdKCksIGkgPSB7fSwgdmVyYihcIm5leHRcIiksIHZlcmIoXCJ0aHJvd1wiKSwgdmVyYihcInJldHVyblwiKSwgaVtTeW1ib2wuYXN5bmNJdGVyYXRvcl0gPSBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzOyB9LCBpKTtcclxuICAgIGZ1bmN0aW9uIHZlcmIobikgeyBpW25dID0gb1tuXSAmJiBmdW5jdGlvbiAodikgeyByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkgeyB2ID0gb1tuXSh2KSwgc2V0dGxlKHJlc29sdmUsIHJlamVjdCwgdi5kb25lLCB2LnZhbHVlKTsgfSk7IH07IH1cclxuICAgIGZ1bmN0aW9uIHNldHRsZShyZXNvbHZlLCByZWplY3QsIGQsIHYpIHsgUHJvbWlzZS5yZXNvbHZlKHYpLnRoZW4oZnVuY3Rpb24odikgeyByZXNvbHZlKHsgdmFsdWU6IHYsIGRvbmU6IGQgfSk7IH0sIHJlamVjdCk7IH1cclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fbWFrZVRlbXBsYXRlT2JqZWN0KGNvb2tlZCwgcmF3KSB7XHJcbiAgICBpZiAoT2JqZWN0LmRlZmluZVByb3BlcnR5KSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShjb29rZWQsIFwicmF3XCIsIHsgdmFsdWU6IHJhdyB9KTsgfSBlbHNlIHsgY29va2VkLnJhdyA9IHJhdzsgfVxyXG4gICAgcmV0dXJuIGNvb2tlZDtcclxufTtcclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2ltcG9ydFN0YXIobW9kKSB7XHJcbiAgICBpZiAobW9kICYmIG1vZC5fX2VzTW9kdWxlKSByZXR1cm4gbW9kO1xyXG4gICAgdmFyIHJlc3VsdCA9IHt9O1xyXG4gICAgaWYgKG1vZCAhPSBudWxsKSBmb3IgKHZhciBrIGluIG1vZCkgaWYgKE9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKG1vZCwgaykpIHJlc3VsdFtrXSA9IG1vZFtrXTtcclxuICAgIHJlc3VsdC5kZWZhdWx0ID0gbW9kO1xyXG4gICAgcmV0dXJuIHJlc3VsdDtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9faW1wb3J0RGVmYXVsdChtb2QpIHtcclxuICAgIHJldHVybiAobW9kICYmIG1vZC5fX2VzTW9kdWxlKSA/IG1vZCA6IHsgZGVmYXVsdDogbW9kIH07XHJcbn1cclxuIiwiaW1wb3J0IHsgUG9wdXBDb25maWdPcHRpb25zIH0gZnJvbSAnLi9nbG9iYWwnO1xuXG4vKipcbiAqIEBpZ25vcmVcbiAqL1xuZXhwb3J0IGNvbnN0IERFRkFVTFRfQVVUSE9SSVpFX1RJTUVPVVRfSU5fU0VDT05EUyA9IDYwO1xuXG4vKipcbiAqIEBpZ25vcmVcbiAqL1xuZXhwb3J0IGNvbnN0IERFRkFVTFRfUE9QVVBfQ09ORklHX09QVElPTlM6IFBvcHVwQ29uZmlnT3B0aW9ucyA9IHtcbiAgdGltZW91dEluU2Vjb25kczogREVGQVVMVF9BVVRIT1JJWkVfVElNRU9VVF9JTl9TRUNPTkRTXG59O1xuXG4vKipcbiAqIEBpZ25vcmVcbiAqL1xuZXhwb3J0IGNvbnN0IERFRkFVTFRfU0lMRU5UX1RPS0VOX1JFVFJZX0NPVU5UID0gMztcblxuLyoqXG4gKiBAaWdub3JlXG4gKi9cbmV4cG9ydCBjb25zdCBDTEVBTlVQX0lGUkFNRV9USU1FT1VUX0lOX1NFQ09ORFMgPSAyO1xuXG4vKipcbiAqIEBpZ25vcmVcbiAqL1xuZXhwb3J0IGNvbnN0IERFRkFVTFRfRkVUQ0hfVElNRU9VVF9NUyA9IDEwMDAwO1xuXG5leHBvcnQgY29uc3QgQ0FDSEVfTE9DQVRJT05fTUVNT1JZID0gJ21lbW9yeSc7XG5leHBvcnQgY29uc3QgQ0FDSEVfTE9DQVRJT05fTE9DQUxfU1RPUkFHRSA9ICdsb2NhbHN0b3JhZ2UnO1xuZXhwb3J0IGNvbnN0IE1JU1NJTkdfUkVGUkVTSF9UT0tFTl9FUlJPUl9NRVNTQUdFID1cbiAgJ1RoZSB3ZWIgd29ya2VyIGlzIG1pc3NpbmcgdGhlIHJlZnJlc2ggdG9rZW4nO1xuXG4vKipcbiAqIEBpZ25vcmVcbiAqL1xuZXhwb3J0IGNvbnN0IERFRkFVTFRfU0NPUEUgPSAnb3BlbmlkIHByb2ZpbGUgZW1haWwnO1xuXG4vKipcbiAqIEEgbGlzdCBvZiBlcnJvcnMgdGhhdCBjYW4gYmUgaXNzdWVkIGJ5IHRoZSBhdXRob3JpemF0aW9uIHNlcnZlciB3aGljaCB0aGVcbiAqIHVzZXIgY2FuIHJlY292ZXIgZnJvbSBieSBzaWduaW5nIGluIGludGVyYWN0aXZlbHkuXG4gKiBodHRwczovL29wZW5pZC5uZXQvc3BlY3Mvb3BlbmlkLWNvbm5lY3QtY29yZS0xXzAuaHRtbCNBdXRoRXJyb3JcbiAqIEBpZ25vcmVcbiAqL1xuZXhwb3J0IGNvbnN0IFJFQ09WRVJBQkxFX0VSUk9SUyA9IFtcbiAgJ2xvZ2luX3JlcXVpcmVkJyxcbiAgJ2NvbnNlbnRfcmVxdWlyZWQnLFxuICAnaW50ZXJhY3Rpb25fcmVxdWlyZWQnLFxuICAnYWNjb3VudF9zZWxlY3Rpb25fcmVxdWlyZWQnLFxuICAvLyBTdHJpY3RseSBzcGVha2luZyB0aGUgdXNlciBjYW4ndCByZWNvdmVyIGZyb20gYGFjY2Vzc19kZW5pZWRgIC0gYnV0IHRoZXlcbiAgLy8gY2FuIGdldCBtb3JlIGluZm9ybWF0aW9uIGFib3V0IHRoZWlyIGFjY2VzcyBiZWluZyBkZW5pZWQgYnkgbG9nZ2luZyBpblxuICAvLyBpbnRlcmFjdGl2ZWx5LlxuICAnYWNjZXNzX2RlbmllZCdcbl07XG4iLCJpbXBvcnQgeyBNSVNTSU5HX1JFRlJFU0hfVE9LRU5fRVJST1JfTUVTU0FHRSB9IGZyb20gJy4vY29uc3RhbnRzJztcblxubGV0IHJlZnJlc2hUb2tlbnMgPSB7fTtcblxuY29uc3QgY2FjaGVLZXkgPSAoYXVkaWVuY2UsIHNjb3BlKSA9PiBgJHthdWRpZW5jZX18JHtzY29wZX1gO1xuXG5jb25zdCBnZXRSZWZyZXNoVG9rZW4gPSAoYXVkaWVuY2UsIHNjb3BlKSA9PlxuICByZWZyZXNoVG9rZW5zW2NhY2hlS2V5KGF1ZGllbmNlLCBzY29wZSldO1xuXG5jb25zdCBzZXRSZWZyZXNoVG9rZW4gPSAocmVmcmVzaFRva2VuLCBhdWRpZW5jZSwgc2NvcGUpID0+XG4gIChyZWZyZXNoVG9rZW5zW2NhY2hlS2V5KGF1ZGllbmNlLCBzY29wZSldID0gcmVmcmVzaFRva2VuKTtcblxuY29uc3QgZGVsZXRlUmVmcmVzaFRva2VuID0gKGF1ZGllbmNlLCBzY29wZSkgPT5cbiAgZGVsZXRlIHJlZnJlc2hUb2tlbnNbY2FjaGVLZXkoYXVkaWVuY2UsIHNjb3BlKV07XG5cbmNvbnN0IHdhaXQ6IGFueSA9IHRpbWUgPT4gbmV3IFByb21pc2UocmVzb2x2ZSA9PiBzZXRUaW1lb3V0KHJlc29sdmUsIHRpbWUpKTtcblxuY29uc3QgbWVzc2FnZUhhbmRsZXIgPSBhc3luYyAoe1xuICBkYXRhOiB7IHVybCwgdGltZW91dCwgYXVkaWVuY2UsIHNjb3BlLCAuLi5vcHRzIH0sXG4gIHBvcnRzOiBbcG9ydF1cbn0pID0+IHtcbiAgbGV0IGpzb247XG4gIHRyeSB7XG4gICAgY29uc3QgYm9keSA9IEpTT04ucGFyc2Uob3B0cy5ib2R5KTtcbiAgICBpZiAoIWJvZHkucmVmcmVzaF90b2tlbiAmJiBib2R5LmdyYW50X3R5cGUgPT09ICdyZWZyZXNoX3Rva2VuJykge1xuICAgICAgY29uc3QgcmVmcmVzaFRva2VuID0gZ2V0UmVmcmVzaFRva2VuKGF1ZGllbmNlLCBzY29wZSk7XG4gICAgICBpZiAoIXJlZnJlc2hUb2tlbikge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoTUlTU0lOR19SRUZSRVNIX1RPS0VOX0VSUk9SX01FU1NBR0UpO1xuICAgICAgfVxuICAgICAgb3B0cy5ib2R5ID0gSlNPTi5zdHJpbmdpZnkoeyAuLi5ib2R5LCByZWZyZXNoX3Rva2VuOiByZWZyZXNoVG9rZW4gfSk7XG4gICAgfVxuXG4gICAgY29uc3QgYWJvcnRDb250cm9sbGVyID0gbmV3IEFib3J0Q29udHJvbGxlcigpO1xuICAgIGNvbnN0IHsgc2lnbmFsIH0gPSBhYm9ydENvbnRyb2xsZXI7XG5cbiAgICBsZXQgcmVzcG9uc2U7XG4gICAgdHJ5IHtcbiAgICAgIHJlc3BvbnNlID0gYXdhaXQgUHJvbWlzZS5yYWNlKFtcbiAgICAgICAgd2FpdCh0aW1lb3V0KSxcbiAgICAgICAgZmV0Y2godXJsLCB7IC4uLm9wdHMsIHNpZ25hbCB9KVxuICAgICAgXSk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIC8vIGZldGNoIGVycm9yLCByZWplY3QgYHNlbmRNZXNzYWdlYCB1c2luZyBgZXJyb3JgIGtleSBzbyB0aGF0IHdlIHJldHJ5LlxuICAgICAgcG9ydC5wb3N0TWVzc2FnZSh7XG4gICAgICAgIGVycm9yOiBlcnJvci5tZXNzYWdlXG4gICAgICB9KTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAoIXJlc3BvbnNlKSB7XG4gICAgICAvLyBJZiB0aGUgcmVxdWVzdCB0aW1lcyBvdXQsIGFib3J0IGl0IGFuZCBsZXQgYGZldGNoV2l0aFRpbWVvdXRgIHJhaXNlIHRoZSBlcnJvci5cbiAgICAgIGFib3J0Q29udHJvbGxlci5hYm9ydCgpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGpzb24gPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG5cbiAgICBpZiAoanNvbi5yZWZyZXNoX3Rva2VuKSB7XG4gICAgICBzZXRSZWZyZXNoVG9rZW4oanNvbi5yZWZyZXNoX3Rva2VuLCBhdWRpZW5jZSwgc2NvcGUpO1xuICAgICAgZGVsZXRlIGpzb24ucmVmcmVzaF90b2tlbjtcbiAgICB9IGVsc2Uge1xuICAgICAgZGVsZXRlUmVmcmVzaFRva2VuKGF1ZGllbmNlLCBzY29wZSk7XG4gICAgfVxuXG4gICAgcG9ydC5wb3N0TWVzc2FnZSh7XG4gICAgICBvazogcmVzcG9uc2Uub2ssXG4gICAgICBqc29uXG4gICAgfSk7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgcG9ydC5wb3N0TWVzc2FnZSh7XG4gICAgICBvazogZmFsc2UsXG4gICAgICBqc29uOiB7XG4gICAgICAgIGVycm9yX2Rlc2NyaXB0aW9uOiBlcnJvci5tZXNzYWdlXG4gICAgICB9XG4gICAgfSk7XG4gIH1cbn07XG5cbi8vIERvbid0IHJ1biBgYWRkRXZlbnRMaXN0ZW5lcmAgaW4gb3VyIHRlc3RzICh0aGlzIGlzIHJlcGxhY2VkIGluIHJvbGx1cClcbi8qIGlzdGFuYnVsIGlnbm9yZSBlbHNlICAqL1xuaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WID09PSAndGVzdCcpIHtcbiAgbW9kdWxlLmV4cG9ydHMgPSB7IG1lc3NhZ2VIYW5kbGVyIH07XG59IGVsc2Uge1xuICAvLyBAdHMtaWdub3JlXG4gIGFkZEV2ZW50TGlzdGVuZXIoJ21lc3NhZ2UnLCBtZXNzYWdlSGFuZGxlcik7XG59XG4iXSwibmFtZXMiOlsiX19hc3NpZ24iLCJPYmplY3QiLCJhc3NpZ24iLCJ0IiwicyIsImkiLCJuIiwiYXJndW1lbnRzIiwibGVuZ3RoIiwicCIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwiY2FsbCIsImFwcGx5IiwidGhpcyIsIl9fZ2VuZXJhdG9yIiwidGhpc0FyZyIsImJvZHkiLCJmIiwieSIsImciLCJfIiwibGFiZWwiLCJzZW50IiwidHJ5cyIsIm9wcyIsIm5leHQiLCJ2ZXJiIiwidGhyb3ciLCJyZXR1cm4iLCJTeW1ib2wiLCJpdGVyYXRvciIsInYiLCJvcCIsIlR5cGVFcnJvciIsImRvbmUiLCJ2YWx1ZSIsInBvcCIsInB1c2giLCJlIiwic3RlcCIsInJlZnJlc2hUb2tlbnMiLCJjYWNoZUtleSIsImF1ZGllbmNlIiwic2NvcGUiLCJhZGRFdmVudExpc3RlbmVyIiwiX2EiLCJfYXJndW1lbnRzIiwiUCIsImdlbmVyYXRvciIsIl9iIiwidXJsIiwidGltZW91dCIsIm9wdHMiLCJpbmRleE9mIiwiZ2V0T3duUHJvcGVydHlTeW1ib2xzIiwicHJvcGVydHlJc0VudW1lcmFibGUiLCJwb3J0IiwiSlNPTiIsInBhcnNlIiwicmVmcmVzaF90b2tlbiIsImdyYW50X3R5cGUiLCJyZWZyZXNoVG9rZW4iLCJnZXRSZWZyZXNoVG9rZW4iLCJFcnJvciIsInN0cmluZ2lmeSIsImFib3J0Q29udHJvbGxlciIsIkFib3J0Q29udHJvbGxlciIsInNpZ25hbCIsInJlc3BvbnNlIiwiUHJvbWlzZSIsInJhY2UiLCJ0aW1lIiwicmVzb2x2ZSIsInNldFRpbWVvdXQiLCJmZXRjaCIsIl9jIiwicG9zdE1lc3NhZ2UiLCJlcnJvciIsImVycm9yXzEiLCJtZXNzYWdlIiwianNvbiIsImFib3J0Iiwic2V0UmVmcmVzaFRva2VuIiwiZGVsZXRlUmVmcmVzaFRva2VuIiwib2siLCJlcnJvcl9kZXNjcmlwdGlvbiIsImVycm9yXzIiLCJyZWplY3QiLCJmdWxmaWxsZWQiLCJyZWplY3RlZCIsInJlc3VsdCIsInRoZW4iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7O0FBNkJPLElBQUlBLEVBQVcsV0FRbEIsT0FQQUEsRUFBV0MsT0FBT0MsUUFBVSxTQUFrQkMsR0FDMUMsSUFBSyxJQUFJQyxFQUFHQyxFQUFJLEVBQUdDLEVBQUlDLFVBQVVDLE9BQVFILEVBQUlDLEVBQUdELElBRTVDLElBQUssSUFBSUksS0FEVEwsRUFBSUcsVUFBVUYsR0FDT0osT0FBT1MsVUFBVUMsZUFBZUMsS0FBS1IsRUFBR0ssS0FBSU4sRUFBRU0sR0FBS0wsRUFBRUssSUFFOUUsT0FBT04sSUFFS1UsTUFBTUMsS0FBTVAsWUF1Q3pCLFNBQVNRLEVBQVlDLEVBQVNDLEdBQ2pDLElBQXNHQyxFQUFHQyxFQUFHaEIsRUFBR2lCLEVBQTNHQyxFQUFJLENBQUVDLE1BQU8sRUFBR0MsS0FBTSxXQUFhLEdBQVcsRUFBUHBCLEVBQUUsR0FBUSxNQUFNQSxFQUFFLEdBQUksT0FBT0EsRUFBRSxJQUFPcUIsS0FBTSxHQUFJQyxJQUFLLElBQ2hHLE9BQU9MLEVBQUksQ0FBRU0sS0FBTUMsRUFBSyxHQUFJQyxNQUFTRCxFQUFLLEdBQUlFLE9BQVVGLEVBQUssSUFBd0IsbUJBQVhHLFNBQTBCVixFQUFFVSxPQUFPQyxVQUFZLFdBQWEsT0FBT2pCLE9BQVVNLEVBQ3ZKLFNBQVNPLEVBQUtyQixHQUFLLE9BQU8sU0FBVTBCLEdBQUssT0FDekMsU0FBY0MsR0FDVixHQUFJZixFQUFHLE1BQU0sSUFBSWdCLFVBQVUsbUNBQzNCLEtBQU9iLE9BQ0gsR0FBSUgsRUFBSSxFQUFHQyxJQUFNaEIsRUFBWSxFQUFSOEIsRUFBRyxHQUFTZCxFQUFVLE9BQUljLEVBQUcsR0FBS2QsRUFBUyxTQUFPaEIsRUFBSWdCLEVBQVUsU0FBTWhCLEVBQUVTLEtBQUtPLEdBQUksR0FBS0EsRUFBRU8sU0FBV3ZCLEVBQUlBLEVBQUVTLEtBQUtPLEVBQUdjLEVBQUcsS0FBS0UsS0FBTSxPQUFPaEMsRUFFM0osT0FESWdCLEVBQUksRUFBR2hCLElBQUc4QixFQUFLLENBQVMsRUFBUkEsRUFBRyxHQUFROUIsRUFBRWlDLFFBQ3pCSCxFQUFHLElBQ1AsS0FBSyxFQUFHLEtBQUssRUFBRzlCLEVBQUk4QixFQUFJLE1BQ3hCLEtBQUssRUFBYyxPQUFYWixFQUFFQyxRQUFnQixDQUFFYyxNQUFPSCxFQUFHLEdBQUlFLE1BQU0sR0FDaEQsS0FBSyxFQUFHZCxFQUFFQyxRQUFTSCxFQUFJYyxFQUFHLEdBQUlBLEVBQUssQ0FBQyxHQUFJLFNBQ3hDLEtBQUssRUFBR0EsRUFBS1osRUFBRUksSUFBSVksTUFBT2hCLEVBQUVHLEtBQUthLE1BQU8sU0FDeEMsUUFDSSxLQUFNbEMsRUFBSWtCLEVBQUVHLE1BQU1yQixFQUFJQSxFQUFFSyxPQUFTLEdBQUtMLEVBQUVBLEVBQUVLLE9BQVMsS0FBa0IsSUFBVnlCLEVBQUcsSUFBc0IsSUFBVkEsRUFBRyxJQUFXLENBQUVaLEVBQUksRUFBRyxTQUNqRyxHQUFjLElBQVZZLEVBQUcsTUFBYzlCLEdBQU04QixFQUFHLEdBQUs5QixFQUFFLElBQU04QixFQUFHLEdBQUs5QixFQUFFLElBQU0sQ0FBRWtCLEVBQUVDLE1BQVFXLEVBQUcsR0FBSSxNQUM5RSxHQUFjLElBQVZBLEVBQUcsSUFBWVosRUFBRUMsTUFBUW5CLEVBQUUsR0FBSSxDQUFFa0IsRUFBRUMsTUFBUW5CLEVBQUUsR0FBSUEsRUFBSThCLEVBQUksTUFDN0QsR0FBSTlCLEdBQUtrQixFQUFFQyxNQUFRbkIsRUFBRSxHQUFJLENBQUVrQixFQUFFQyxNQUFRbkIsRUFBRSxHQUFJa0IsRUFBRUksSUFBSWEsS0FBS0wsR0FBSyxNQUN2RDlCLEVBQUUsSUFBSWtCLEVBQUVJLElBQUlZLE1BQ2hCaEIsRUFBRUcsS0FBS2EsTUFBTyxTQUV0QkosRUFBS2hCLEVBQUtMLEtBQUtJLEVBQVNLLEdBQzFCLE1BQU9rQixHQUFLTixFQUFLLENBQUMsRUFBR00sR0FBSXBCLEVBQUksVUFBZUQsRUFBSWYsRUFBSSxFQUN0RCxHQUFZLEVBQVI4QixFQUFHLEdBQVEsTUFBTUEsRUFBRyxHQUFJLE1BQU8sQ0FBRUcsTUFBT0gsRUFBRyxHQUFLQSxFQUFHLFFBQUssRUFBUUUsTUFBTSxHQXJCOUJLLENBQUssQ0FBQ2xDLEVBQUcwQixNQ2hEdEQsSUM3QkhTLEVBQWdCLEdBRWRDLEVBQVcsU0FBQ0MsRUFBVUMsR0FBVSxPQUFHRCxNQUFZQyxHQWdGbkRDLGlCQUFpQixXQW5FSSxTQUFPQyxxQkZrREo5QixFQUFTK0IsRUFBWUMsRUFBR0MsU0FBeEJqQyxTQUFTK0IsU0FBZUUsbUZFakRoREMsU0FBUUMsUUFBS0MsWUFBU1QsYUFBVUMsVUFBVVMsRUZzQnJDLFNBQWdCakQsRUFBR21DLEdBQ3RCLElBQUlwQyxFQUFJLEdBQ1IsSUFBSyxJQUFJTSxLQUFLTCxFQUFPSCxPQUFPUyxVQUFVQyxlQUFlQyxLQUFLUixFQUFHSyxJQUFNOEIsRUFBRWUsUUFBUTdDLEdBQUssSUFDOUVOLEVBQUVNLEdBQUtMLEVBQUVLLElBQ2IsR0FBUyxNQUFMTCxHQUFxRCxtQkFBakNILE9BQU9zRCxzQkFDdEIsQ0FBQSxJQUFJbEQsRUFBSSxFQUFiLElBQWdCSSxFQUFJUixPQUFPc0Qsc0JBQXNCbkQsR0FBSUMsRUFBSUksRUFBRUQsT0FBUUgsSUFDM0RrQyxFQUFFZSxRQUFRN0MsRUFBRUosSUFBTSxHQUFLSixPQUFPUyxVQUFVOEMscUJBQXFCNUMsS0FBS1IsRUFBR0ssRUFBRUosTUFDdkVGLEVBQUVNLEVBQUVKLElBQU1ELEVBQUVLLEVBQUVKLEtBRTFCLE9BQU9GLEtFL0JILHNDQUNFc0QsOEJBS04sMkJBRE14QyxFQUFPeUMsS0FBS0MsTUFBTU4sRUFBS3BDLE9BQ25CMkMsZUFBcUMsa0JBQXBCM0MsRUFBSzRDLFdBQWdDLENBRTlELEtBRE1DLEVBbkJZLFNBQUNuQixFQUFVQyxHQUNqQyxPQUFBSCxFQUFjQyxFQUFTQyxFQUFVQyxJQWtCUm1CLENBQWdCcEIsRUFBVUMsSUFFN0MsTUFBTSxJQUFJb0IsTURLaEIsK0NDSElYLEVBQUtwQyxLQUFPeUMsS0FBS08saUJBQWVoRCxJQUFNMkMsY0FBZUUsS0FHakRJLEVBQWtCLElBQUlDLGdCQUNwQkMsRUFBV0YsU0FFZkcsMEJBRVMsZ0NBQU1DLFFBQVFDLEtBQUssRUF0QmxCQyxFQXVCTHBCLEVBdkJhLElBQUlrQixTQUFRLFNBQUFHLEdBQVcsT0FBQUMsV0FBV0QsRUFBU0QsT0F3QjdERyxNQUFNeEIsU0FBVUUsSUFBTWUsNkJBRnhCQyxFQUFXTyxzQkFTWCxrQkFIQW5CLEVBQUtvQixZQUFZLENBQ2ZDLE1BQU9DLEVBQU1DLHFCQUtqQixPQUFLWCxLQU1RQSxFQUFTWSxTQUpwQmYsRUFBZ0JnQiwyQkFJbEJELEVBQU9MLFVBRUVoQixlQWhEVyxTQUFDRSxFQUFjbkIsRUFBVUMsR0FDOUNILEVBQWNDLEVBQVNDLEVBQVVDLElBQVVrQixFQWdEeENxQixDQUFnQkYsRUFBS3JCLGNBQWVqQixFQUFVQyxVQUN2Q3FDLEVBQUtyQixlQS9DUyxTQUFDakIsRUFBVUMsVUFDN0JILEVBQWNDLEVBQVNDLEVBQVVDLElBZ0RwQ3dDLENBQW1CekMsRUFBVUMsR0FHL0JhLEVBQUtvQixZQUFZLENBQ2ZRLEdBQUloQixFQUFTZ0IsR0FDYkosd0NBR0Z4QixFQUFLb0IsWUFBWSxDQUNmUSxJQUFJLEVBQ0pKLEtBQU0sQ0FDSkssa0JBQW1CQyxFQUFNUCxrQ0F6RGYsSUFBQVIsTUZxRFAsS0FEb0N4QixZQUN6QkEsRUFBSXNCLFdBQVUsU0FBVUcsRUFBU2UsR0FDL0MsU0FBU0MsRUFBVXJELEdBQVMsSUFBTUksRUFBS1MsRUFBVXZCLEtBQUtVLElBQVcsTUFBT0csR0FBS2lELEVBQU9qRCxJQUNwRixTQUFTbUQsRUFBU3RELEdBQVMsSUFBTUksRUFBS1MsRUFBaUIsTUFBRWIsSUFBVyxNQUFPRyxHQUFLaUQsRUFBT2pELElBQ3ZGLFNBQVNDLEVBQUttRCxHQUFVQSxFQUFPeEQsS0FBT3NDLEVBQVFrQixFQUFPdkQsT0FBUyxJQUFJWSxHQUFFLFNBQVV5QixHQUFXQSxFQUFRa0IsRUFBT3ZELFVBQVd3RCxLQUFLSCxFQUFXQyxHQUNuSWxELEdBQU1TLEVBQVlBLEVBQVVwQyxNQUFNRyxFQUFTK0IsR0FBYyxLQUFLckIifQ==',
      !1,
      function (e) {
        return (
          (nc =
            nc ||
            (function (e, t, i) {
              var n = void 0 === t ? null : t,
                c = (function (e, t) {
                  var i = atob(e);
                  if (t) {
                    for (
                      var n = new Uint8Array(i.length), c = 0, o = i.length;
                      c < o;
                      ++c
                    )
                      n[c] = i.charCodeAt(c);
                    return String.fromCharCode.apply(
                      null,
                      new Uint16Array(n.buffer)
                    );
                  }
                  return i;
                })(e, void 0 !== i && i),
                o = c.indexOf('\n', 10) + 1,
                r = c.substring(o) + (n ? '//# sourceMappingURL=' + n : ''),
                l = new Blob([r], { type: 'application/javascript' });
              return URL.createObjectURL(l);
            })(
              'Lyogcm9sbHVwLXBsdWdpbi13ZWItd29ya2VyLWxvYWRlciAqLwovKiEgKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioKQ29weXJpZ2h0IChjKSBNaWNyb3NvZnQgQ29ycG9yYXRpb24uIEFsbCByaWdodHMgcmVzZXJ2ZWQuCkxpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSAiTGljZW5zZSIpOyB5b3UgbWF5IG5vdCB1c2UKdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUKTGljZW5zZSBhdCBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjAKClRISVMgQ09ERSBJUyBQUk9WSURFRCBPTiBBTiAqQVMgSVMqIEJBU0lTLCBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkKS0lORCwgRUlUSEVSIEVYUFJFU1MgT1IgSU1QTElFRCwgSU5DTFVESU5HIFdJVEhPVVQgTElNSVRBVElPTiBBTlkgSU1QTElFRApXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgVElUTEUsIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFLApNRVJDSEFOVEFCTElUWSBPUiBOT04tSU5GUklOR0VNRU5ULgoKU2VlIHRoZSBBcGFjaGUgVmVyc2lvbiAyLjAgTGljZW5zZSBmb3Igc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zCmFuZCBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS4KKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiogKi8KdmFyIGU9ZnVuY3Rpb24oKXtyZXR1cm4oZT1PYmplY3QuYXNzaWdufHxmdW5jdGlvbihlKXtmb3IodmFyIHIsdD0xLG49YXJndW1lbnRzLmxlbmd0aDt0PG47dCsrKWZvcih2YXIgbyBpbiByPWFyZ3VtZW50c1t0XSlPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocixvKSYmKGVbb109cltvXSk7cmV0dXJuIGV9KS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9O2Z1bmN0aW9uIHIoZSxyKXt2YXIgdCxuLG8scyxhPXtsYWJlbDowLHNlbnQ6ZnVuY3Rpb24oKXtpZigxJm9bMF0pdGhyb3cgb1sxXTtyZXR1cm4gb1sxXX0sdHJ5czpbXSxvcHM6W119O3JldHVybiBzPXtuZXh0OmkoMCksdGhyb3c6aSgxKSxyZXR1cm46aSgyKX0sImZ1bmN0aW9uIj09dHlwZW9mIFN5bWJvbCYmKHNbU3ltYm9sLml0ZXJhdG9yXT1mdW5jdGlvbigpe3JldHVybiB0aGlzfSkscztmdW5jdGlvbiBpKHMpe3JldHVybiBmdW5jdGlvbihpKXtyZXR1cm4gZnVuY3Rpb24ocyl7aWYodCl0aHJvdyBuZXcgVHlwZUVycm9yKCJHZW5lcmF0b3IgaXMgYWxyZWFkeSBleGVjdXRpbmcuIik7Zm9yKDthOyl0cnl7aWYodD0xLG4mJihvPTImc1swXT9uLnJldHVybjpzWzBdP24udGhyb3d8fCgobz1uLnJldHVybikmJm8uY2FsbChuKSwwKTpuLm5leHQpJiYhKG89by5jYWxsKG4sc1sxXSkpLmRvbmUpcmV0dXJuIG87c3dpdGNoKG49MCxvJiYocz1bMiZzWzBdLG8udmFsdWVdKSxzWzBdKXtjYXNlIDA6Y2FzZSAxOm89czticmVhaztjYXNlIDQ6cmV0dXJuIGEubGFiZWwrKyx7dmFsdWU6c1sxXSxkb25lOiExfTtjYXNlIDU6YS5sYWJlbCsrLG49c1sxXSxzPVswXTtjb250aW51ZTtjYXNlIDc6cz1hLm9wcy5wb3AoKSxhLnRyeXMucG9wKCk7Y29udGludWU7ZGVmYXVsdDppZighKG89YS50cnlzLChvPW8ubGVuZ3RoPjAmJm9bby5sZW5ndGgtMV0pfHw2IT09c1swXSYmMiE9PXNbMF0pKXthPTA7Y29udGludWV9aWYoMz09PXNbMF0mJighb3x8c1sxXT5vWzBdJiZzWzFdPG9bM10pKXthLmxhYmVsPXNbMV07YnJlYWt9aWYoNj09PXNbMF0mJmEubGFiZWw8b1sxXSl7YS5sYWJlbD1vWzFdLG89czticmVha31pZihvJiZhLmxhYmVsPG9bMl0pe2EubGFiZWw9b1syXSxhLm9wcy5wdXNoKHMpO2JyZWFrfW9bMl0mJmEub3BzLnBvcCgpLGEudHJ5cy5wb3AoKTtjb250aW51ZX1zPXIuY2FsbChlLGEpfWNhdGNoKGUpe3M9WzYsZV0sbj0wfWZpbmFsbHl7dD1vPTB9aWYoNSZzWzBdKXRocm93IHNbMV07cmV0dXJue3ZhbHVlOnNbMF0/c1sxXTp2b2lkIDAsZG9uZTohMH19KFtzLGldKX19fXZhciB0PXt9LG49ZnVuY3Rpb24oZSxyKXtyZXR1cm4gZSsifCIrcn07YWRkRXZlbnRMaXN0ZW5lcigibWVzc2FnZSIsKGZ1bmN0aW9uKG8pe3ZhciBzLGEsaSx1LGMsbCxmLHAsaCx5LGI7cmV0dXJuIHA9dm9pZCAwLGg9dm9pZCAwLGI9ZnVuY3Rpb24oKXt2YXIgcCxoLHksYixkLHYsdyxnO3JldHVybiByKHRoaXMsKGZ1bmN0aW9uKHIpe3N3aXRjaChyLmxhYmVsKXtjYXNlIDA6cz1vLmRhdGEsYT1zLnVybCxpPXMudGltZW91dCx1PXMuYXVkaWVuY2UsYz1zLnNjb3BlLGw9ZnVuY3Rpb24oZSxyKXt2YXIgdD17fTtmb3IodmFyIG4gaW4gZSlPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZSxuKSYmci5pbmRleE9mKG4pPDAmJih0W25dPWVbbl0pO2lmKG51bGwhPWUmJiJmdW5jdGlvbiI9PXR5cGVvZiBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKXt2YXIgbz0wO2ZvcihuPU9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMoZSk7bzxuLmxlbmd0aDtvKyspci5pbmRleE9mKG5bb10pPDAmJk9iamVjdC5wcm90b3R5cGUucHJvcGVydHlJc0VudW1lcmFibGUuY2FsbChlLG5bb10pJiYodFtuW29dXT1lW25bb11dKX1yZXR1cm4gdH0ocyxbInVybCIsInRpbWVvdXQiLCJhdWRpZW5jZSIsInNjb3BlIl0pLGY9by5wb3J0c1swXSxyLmxhYmVsPTE7Y2FzZSAxOmlmKHIudHJ5cy5wdXNoKFsxLDcsLDhdKSwhKGg9SlNPTi5wYXJzZShsLmJvZHkpKS5yZWZyZXNoX3Rva2VuJiYicmVmcmVzaF90b2tlbiI9PT1oLmdyYW50X3R5cGUpe2lmKCEoeT1mdW5jdGlvbihlLHIpe3JldHVybiB0W24oZSxyKV19KHUsYykpKXRocm93IG5ldyBFcnJvcigiVGhlIHdlYiB3b3JrZXIgaXMgbWlzc2luZyB0aGUgcmVmcmVzaCB0b2tlbiIpO2wuYm9keT1KU09OLnN0cmluZ2lmeShlKGUoe30saCkse3JlZnJlc2hfdG9rZW46eX0pKX1iPW5ldyBBYm9ydENvbnRyb2xsZXIsZD1iLnNpZ25hbCx2PXZvaWQgMCxyLmxhYmVsPTI7Y2FzZSAyOnJldHVybiByLnRyeXMucHVzaChbMiw0LCw1XSksWzQsUHJvbWlzZS5yYWNlKFsoaz1pLG5ldyBQcm9taXNlKChmdW5jdGlvbihlKXtyZXR1cm4gc2V0VGltZW91dChlLGspfSkpKSxmZXRjaChhLGUoZSh7fSxsKSx7c2lnbmFsOmR9KSldKV07Y2FzZSAzOnJldHVybiB2PXIuc2VudCgpLFszLDVdO2Nhc2UgNDpyZXR1cm4gdz1yLnNlbnQoKSxmLnBvc3RNZXNzYWdlKHtlcnJvcjp3Lm1lc3NhZ2V9KSxbMl07Y2FzZSA1OnJldHVybiB2P1s0LHYuanNvbigpXTooYi5hYm9ydCgpLFsyXSk7Y2FzZSA2OnJldHVybihwPXIuc2VudCgpKS5yZWZyZXNoX3Rva2VuPyhmdW5jdGlvbihlLHIsbyl7dFtuKHIsbyldPWV9KHAucmVmcmVzaF90b2tlbix1LGMpLGRlbGV0ZSBwLnJlZnJlc2hfdG9rZW4pOmZ1bmN0aW9uKGUscil7ZGVsZXRlIHRbbihlLHIpXX0odSxjKSxmLnBvc3RNZXNzYWdlKHtvazp2Lm9rLGpzb246cH0pLFszLDhdO2Nhc2UgNzpyZXR1cm4gZz1yLnNlbnQoKSxmLnBvc3RNZXNzYWdlKHtvazohMSxqc29uOntlcnJvcl9kZXNjcmlwdGlvbjpnLm1lc3NhZ2V9fSksWzMsOF07Y2FzZSA4OnJldHVyblsyXX12YXIga30pKX0sbmV3KCh5PXZvaWQgMCl8fCh5PVByb21pc2UpKSgoZnVuY3Rpb24oZSxyKXtmdW5jdGlvbiB0KGUpe3RyeXtvKGIubmV4dChlKSl9Y2F0Y2goZSl7cihlKX19ZnVuY3Rpb24gbihlKXt0cnl7byhiLnRocm93KGUpKX1jYXRjaChlKXtyKGUpfX1mdW5jdGlvbiBvKHIpe3IuZG9uZT9lKHIudmFsdWUpOm5ldyB5KChmdW5jdGlvbihlKXtlKHIudmFsdWUpfSkpLnRoZW4odCxuKX1vKChiPWIuYXBwbHkocCxofHxbXSkpLm5leHQoKSl9KSl9KSk7Cgo=',
              'data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidG9rZW4ud29ya2VyLmpzIiwic291cmNlcyI6WyJ3b3JrZXI6Ly93ZWItd29ya2VyL25vZGVfbW9kdWxlcy90c2xpYi90c2xpYi5lczYuanMiLCJ3b3JrZXI6Ly93ZWItd29ya2VyL3NyYy9jb25zdGFudHMudHMiLCJ3b3JrZXI6Ly93ZWItd29ya2VyL3NyYy90b2tlbi53b3JrZXIudHMiXSwic291cmNlc0NvbnRlbnQiOlsiLyohICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXHJcbkNvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxyXG5MaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpOyB5b3UgbWF5IG5vdCB1c2VcclxudGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGVcclxuTGljZW5zZSBhdCBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcclxuXHJcblRISVMgQ09ERSBJUyBQUk9WSURFRCBPTiBBTiAqQVMgSVMqIEJBU0lTLCBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTllcclxuS0lORCwgRUlUSEVSIEVYUFJFU1MgT1IgSU1QTElFRCwgSU5DTFVESU5HIFdJVEhPVVQgTElNSVRBVElPTiBBTlkgSU1QTElFRFxyXG5XQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgVElUTEUsIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFLFxyXG5NRVJDSEFOVEFCTElUWSBPUiBOT04tSU5GUklOR0VNRU5ULlxyXG5cclxuU2VlIHRoZSBBcGFjaGUgVmVyc2lvbiAyLjAgTGljZW5zZSBmb3Igc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zXHJcbmFuZCBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cclxuKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiogKi9cclxuLyogZ2xvYmFsIFJlZmxlY3QsIFByb21pc2UgKi9cclxuXHJcbnZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24oZCwgYikge1xyXG4gICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxyXG4gICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcclxuICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTsgfTtcclxuICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpO1xyXG59O1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fZXh0ZW5kcyhkLCBiKSB7XHJcbiAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xyXG4gICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XHJcbiAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XHJcbn1cclxuXHJcbmV4cG9ydCB2YXIgX19hc3NpZ24gPSBmdW5jdGlvbigpIHtcclxuICAgIF9fYXNzaWduID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiBfX2Fzc2lnbih0KSB7XHJcbiAgICAgICAgZm9yICh2YXIgcywgaSA9IDEsIG4gPSBhcmd1bWVudHMubGVuZ3RoOyBpIDwgbjsgaSsrKSB7XHJcbiAgICAgICAgICAgIHMgPSBhcmd1bWVudHNbaV07XHJcbiAgICAgICAgICAgIGZvciAodmFyIHAgaW4gcykgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzLCBwKSkgdFtwXSA9IHNbcF07XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB0O1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIF9fYXNzaWduLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX3Jlc3QocywgZSkge1xyXG4gICAgdmFyIHQgPSB7fTtcclxuICAgIGZvciAodmFyIHAgaW4gcykgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzLCBwKSAmJiBlLmluZGV4T2YocCkgPCAwKVxyXG4gICAgICAgIHRbcF0gPSBzW3BdO1xyXG4gICAgaWYgKHMgIT0gbnVsbCAmJiB0eXBlb2YgT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyA9PT0gXCJmdW5jdGlvblwiKVxyXG4gICAgICAgIGZvciAodmFyIGkgPSAwLCBwID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhzKTsgaSA8IHAubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgaWYgKGUuaW5kZXhPZihwW2ldKSA8IDAgJiYgT2JqZWN0LnByb3RvdHlwZS5wcm9wZXJ0eUlzRW51bWVyYWJsZS5jYWxsKHMsIHBbaV0pKVxyXG4gICAgICAgICAgICAgICAgdFtwW2ldXSA9IHNbcFtpXV07XHJcbiAgICAgICAgfVxyXG4gICAgcmV0dXJuIHQ7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2RlY29yYXRlKGRlY29yYXRvcnMsIHRhcmdldCwga2V5LCBkZXNjKSB7XHJcbiAgICB2YXIgYyA9IGFyZ3VtZW50cy5sZW5ndGgsIHIgPSBjIDwgMyA/IHRhcmdldCA6IGRlc2MgPT09IG51bGwgPyBkZXNjID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcih0YXJnZXQsIGtleSkgOiBkZXNjLCBkO1xyXG4gICAgaWYgKHR5cGVvZiBSZWZsZWN0ID09PSBcIm9iamVjdFwiICYmIHR5cGVvZiBSZWZsZWN0LmRlY29yYXRlID09PSBcImZ1bmN0aW9uXCIpIHIgPSBSZWZsZWN0LmRlY29yYXRlKGRlY29yYXRvcnMsIHRhcmdldCwga2V5LCBkZXNjKTtcclxuICAgIGVsc2UgZm9yICh2YXIgaSA9IGRlY29yYXRvcnMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIGlmIChkID0gZGVjb3JhdG9yc1tpXSkgciA9IChjIDwgMyA/IGQocikgOiBjID4gMyA/IGQodGFyZ2V0LCBrZXksIHIpIDogZCh0YXJnZXQsIGtleSkpIHx8IHI7XHJcbiAgICByZXR1cm4gYyA+IDMgJiYgciAmJiBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIHIpLCByO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19wYXJhbShwYXJhbUluZGV4LCBkZWNvcmF0b3IpIHtcclxuICAgIHJldHVybiBmdW5jdGlvbiAodGFyZ2V0LCBrZXkpIHsgZGVjb3JhdG9yKHRhcmdldCwga2V5LCBwYXJhbUluZGV4KTsgfVxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19tZXRhZGF0YShtZXRhZGF0YUtleSwgbWV0YWRhdGFWYWx1ZSkge1xyXG4gICAgaWYgKHR5cGVvZiBSZWZsZWN0ID09PSBcIm9iamVjdFwiICYmIHR5cGVvZiBSZWZsZWN0Lm1ldGFkYXRhID09PSBcImZ1bmN0aW9uXCIpIHJldHVybiBSZWZsZWN0Lm1ldGFkYXRhKG1ldGFkYXRhS2V5LCBtZXRhZGF0YVZhbHVlKTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fYXdhaXRlcih0aGlzQXJnLCBfYXJndW1lbnRzLCBQLCBnZW5lcmF0b3IpIHtcclxuICAgIHJldHVybiBuZXcgKFAgfHwgKFAgPSBQcm9taXNlKSkoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xyXG4gICAgICAgIGZ1bmN0aW9uIGZ1bGZpbGxlZCh2YWx1ZSkgeyB0cnkgeyBzdGVwKGdlbmVyYXRvci5uZXh0KHZhbHVlKSk7IH0gY2F0Y2ggKGUpIHsgcmVqZWN0KGUpOyB9IH1cclxuICAgICAgICBmdW5jdGlvbiByZWplY3RlZCh2YWx1ZSkgeyB0cnkgeyBzdGVwKGdlbmVyYXRvcltcInRocm93XCJdKHZhbHVlKSk7IH0gY2F0Y2ggKGUpIHsgcmVqZWN0KGUpOyB9IH1cclxuICAgICAgICBmdW5jdGlvbiBzdGVwKHJlc3VsdCkgeyByZXN1bHQuZG9uZSA/IHJlc29sdmUocmVzdWx0LnZhbHVlKSA6IG5ldyBQKGZ1bmN0aW9uIChyZXNvbHZlKSB7IHJlc29sdmUocmVzdWx0LnZhbHVlKTsgfSkudGhlbihmdWxmaWxsZWQsIHJlamVjdGVkKTsgfVxyXG4gICAgICAgIHN0ZXAoKGdlbmVyYXRvciA9IGdlbmVyYXRvci5hcHBseSh0aGlzQXJnLCBfYXJndW1lbnRzIHx8IFtdKSkubmV4dCgpKTtcclxuICAgIH0pO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19nZW5lcmF0b3IodGhpc0FyZywgYm9keSkge1xyXG4gICAgdmFyIF8gPSB7IGxhYmVsOiAwLCBzZW50OiBmdW5jdGlvbigpIHsgaWYgKHRbMF0gJiAxKSB0aHJvdyB0WzFdOyByZXR1cm4gdFsxXTsgfSwgdHJ5czogW10sIG9wczogW10gfSwgZiwgeSwgdCwgZztcclxuICAgIHJldHVybiBnID0geyBuZXh0OiB2ZXJiKDApLCBcInRocm93XCI6IHZlcmIoMSksIFwicmV0dXJuXCI6IHZlcmIoMikgfSwgdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIChnW1N5bWJvbC5pdGVyYXRvcl0gPSBmdW5jdGlvbigpIHsgcmV0dXJuIHRoaXM7IH0pLCBnO1xyXG4gICAgZnVuY3Rpb24gdmVyYihuKSB7IHJldHVybiBmdW5jdGlvbiAodikgeyByZXR1cm4gc3RlcChbbiwgdl0pOyB9OyB9XHJcbiAgICBmdW5jdGlvbiBzdGVwKG9wKSB7XHJcbiAgICAgICAgaWYgKGYpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJHZW5lcmF0b3IgaXMgYWxyZWFkeSBleGVjdXRpbmcuXCIpO1xyXG4gICAgICAgIHdoaWxlIChfKSB0cnkge1xyXG4gICAgICAgICAgICBpZiAoZiA9IDEsIHkgJiYgKHQgPSBvcFswXSAmIDIgPyB5W1wicmV0dXJuXCJdIDogb3BbMF0gPyB5W1widGhyb3dcIl0gfHwgKCh0ID0geVtcInJldHVyblwiXSkgJiYgdC5jYWxsKHkpLCAwKSA6IHkubmV4dCkgJiYgISh0ID0gdC5jYWxsKHksIG9wWzFdKSkuZG9uZSkgcmV0dXJuIHQ7XHJcbiAgICAgICAgICAgIGlmICh5ID0gMCwgdCkgb3AgPSBbb3BbMF0gJiAyLCB0LnZhbHVlXTtcclxuICAgICAgICAgICAgc3dpdGNoIChvcFswXSkge1xyXG4gICAgICAgICAgICAgICAgY2FzZSAwOiBjYXNlIDE6IHQgPSBvcDsgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBjYXNlIDQ6IF8ubGFiZWwrKzsgcmV0dXJuIHsgdmFsdWU6IG9wWzFdLCBkb25lOiBmYWxzZSB9O1xyXG4gICAgICAgICAgICAgICAgY2FzZSA1OiBfLmxhYmVsKys7IHkgPSBvcFsxXTsgb3AgPSBbMF07IGNvbnRpbnVlO1xyXG4gICAgICAgICAgICAgICAgY2FzZSA3OiBvcCA9IF8ub3BzLnBvcCgpOyBfLnRyeXMucG9wKCk7IGNvbnRpbnVlO1xyXG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgICAgICAgICBpZiAoISh0ID0gXy50cnlzLCB0ID0gdC5sZW5ndGggPiAwICYmIHRbdC5sZW5ndGggLSAxXSkgJiYgKG9wWzBdID09PSA2IHx8IG9wWzBdID09PSAyKSkgeyBfID0gMDsgY29udGludWU7IH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAob3BbMF0gPT09IDMgJiYgKCF0IHx8IChvcFsxXSA+IHRbMF0gJiYgb3BbMV0gPCB0WzNdKSkpIHsgXy5sYWJlbCA9IG9wWzFdOyBicmVhazsgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChvcFswXSA9PT0gNiAmJiBfLmxhYmVsIDwgdFsxXSkgeyBfLmxhYmVsID0gdFsxXTsgdCA9IG9wOyBicmVhazsgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0ICYmIF8ubGFiZWwgPCB0WzJdKSB7IF8ubGFiZWwgPSB0WzJdOyBfLm9wcy5wdXNoKG9wKTsgYnJlYWs7IH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAodFsyXSkgXy5vcHMucG9wKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgXy50cnlzLnBvcCgpOyBjb250aW51ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBvcCA9IGJvZHkuY2FsbCh0aGlzQXJnLCBfKTtcclxuICAgICAgICB9IGNhdGNoIChlKSB7IG9wID0gWzYsIGVdOyB5ID0gMDsgfSBmaW5hbGx5IHsgZiA9IHQgPSAwOyB9XHJcbiAgICAgICAgaWYgKG9wWzBdICYgNSkgdGhyb3cgb3BbMV07IHJldHVybiB7IHZhbHVlOiBvcFswXSA/IG9wWzFdIDogdm9pZCAwLCBkb25lOiB0cnVlIH07XHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2V4cG9ydFN0YXIobSwgZXhwb3J0cykge1xyXG4gICAgZm9yICh2YXIgcCBpbiBtKSBpZiAoIWV4cG9ydHMuaGFzT3duUHJvcGVydHkocCkpIGV4cG9ydHNbcF0gPSBtW3BdO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX192YWx1ZXMobykge1xyXG4gICAgdmFyIG0gPSB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgb1tTeW1ib2wuaXRlcmF0b3JdLCBpID0gMDtcclxuICAgIGlmIChtKSByZXR1cm4gbS5jYWxsKG8pO1xyXG4gICAgcmV0dXJuIHtcclxuICAgICAgICBuZXh0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIGlmIChvICYmIGkgPj0gby5sZW5ndGgpIG8gPSB2b2lkIDA7XHJcbiAgICAgICAgICAgIHJldHVybiB7IHZhbHVlOiBvICYmIG9baSsrXSwgZG9uZTogIW8gfTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19yZWFkKG8sIG4pIHtcclxuICAgIHZhciBtID0gdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIG9bU3ltYm9sLml0ZXJhdG9yXTtcclxuICAgIGlmICghbSkgcmV0dXJuIG87XHJcbiAgICB2YXIgaSA9IG0uY2FsbChvKSwgciwgYXIgPSBbXSwgZTtcclxuICAgIHRyeSB7XHJcbiAgICAgICAgd2hpbGUgKChuID09PSB2b2lkIDAgfHwgbi0tID4gMCkgJiYgIShyID0gaS5uZXh0KCkpLmRvbmUpIGFyLnB1c2goci52YWx1ZSk7XHJcbiAgICB9XHJcbiAgICBjYXRjaCAoZXJyb3IpIHsgZSA9IHsgZXJyb3I6IGVycm9yIH07IH1cclxuICAgIGZpbmFsbHkge1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIGlmIChyICYmICFyLmRvbmUgJiYgKG0gPSBpW1wicmV0dXJuXCJdKSkgbS5jYWxsKGkpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBmaW5hbGx5IHsgaWYgKGUpIHRocm93IGUuZXJyb3I7IH1cclxuICAgIH1cclxuICAgIHJldHVybiBhcjtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fc3ByZWFkKCkge1xyXG4gICAgZm9yICh2YXIgYXIgPSBbXSwgaSA9IDA7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspXHJcbiAgICAgICAgYXIgPSBhci5jb25jYXQoX19yZWFkKGFyZ3VtZW50c1tpXSkpO1xyXG4gICAgcmV0dXJuIGFyO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19zcHJlYWRBcnJheXMoKSB7XHJcbiAgICBmb3IgKHZhciBzID0gMCwgaSA9IDAsIGlsID0gYXJndW1lbnRzLmxlbmd0aDsgaSA8IGlsOyBpKyspIHMgKz0gYXJndW1lbnRzW2ldLmxlbmd0aDtcclxuICAgIGZvciAodmFyIHIgPSBBcnJheShzKSwgayA9IDAsIGkgPSAwOyBpIDwgaWw7IGkrKylcclxuICAgICAgICBmb3IgKHZhciBhID0gYXJndW1lbnRzW2ldLCBqID0gMCwgamwgPSBhLmxlbmd0aDsgaiA8IGpsOyBqKyssIGsrKylcclxuICAgICAgICAgICAgcltrXSA9IGFbal07XHJcbiAgICByZXR1cm4gcjtcclxufTtcclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2F3YWl0KHYpIHtcclxuICAgIHJldHVybiB0aGlzIGluc3RhbmNlb2YgX19hd2FpdCA/ICh0aGlzLnYgPSB2LCB0aGlzKSA6IG5ldyBfX2F3YWl0KHYpO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19hc3luY0dlbmVyYXRvcih0aGlzQXJnLCBfYXJndW1lbnRzLCBnZW5lcmF0b3IpIHtcclxuICAgIGlmICghU3ltYm9sLmFzeW5jSXRlcmF0b3IpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJTeW1ib2wuYXN5bmNJdGVyYXRvciBpcyBub3QgZGVmaW5lZC5cIik7XHJcbiAgICB2YXIgZyA9IGdlbmVyYXRvci5hcHBseSh0aGlzQXJnLCBfYXJndW1lbnRzIHx8IFtdKSwgaSwgcSA9IFtdO1xyXG4gICAgcmV0dXJuIGkgPSB7fSwgdmVyYihcIm5leHRcIiksIHZlcmIoXCJ0aHJvd1wiKSwgdmVyYihcInJldHVyblwiKSwgaVtTeW1ib2wuYXN5bmNJdGVyYXRvcl0gPSBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzOyB9LCBpO1xyXG4gICAgZnVuY3Rpb24gdmVyYihuKSB7IGlmIChnW25dKSBpW25dID0gZnVuY3Rpb24gKHYpIHsgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChhLCBiKSB7IHEucHVzaChbbiwgdiwgYSwgYl0pID4gMSB8fCByZXN1bWUobiwgdik7IH0pOyB9OyB9XHJcbiAgICBmdW5jdGlvbiByZXN1bWUobiwgdikgeyB0cnkgeyBzdGVwKGdbbl0odikpOyB9IGNhdGNoIChlKSB7IHNldHRsZShxWzBdWzNdLCBlKTsgfSB9XHJcbiAgICBmdW5jdGlvbiBzdGVwKHIpIHsgci52YWx1ZSBpbnN0YW5jZW9mIF9fYXdhaXQgPyBQcm9taXNlLnJlc29sdmUoci52YWx1ZS52KS50aGVuKGZ1bGZpbGwsIHJlamVjdCkgOiBzZXR0bGUocVswXVsyXSwgcik7IH1cclxuICAgIGZ1bmN0aW9uIGZ1bGZpbGwodmFsdWUpIHsgcmVzdW1lKFwibmV4dFwiLCB2YWx1ZSk7IH1cclxuICAgIGZ1bmN0aW9uIHJlamVjdCh2YWx1ZSkgeyByZXN1bWUoXCJ0aHJvd1wiLCB2YWx1ZSk7IH1cclxuICAgIGZ1bmN0aW9uIHNldHRsZShmLCB2KSB7IGlmIChmKHYpLCBxLnNoaWZ0KCksIHEubGVuZ3RoKSByZXN1bWUocVswXVswXSwgcVswXVsxXSk7IH1cclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fYXN5bmNEZWxlZ2F0b3Iobykge1xyXG4gICAgdmFyIGksIHA7XHJcbiAgICByZXR1cm4gaSA9IHt9LCB2ZXJiKFwibmV4dFwiKSwgdmVyYihcInRocm93XCIsIGZ1bmN0aW9uIChlKSB7IHRocm93IGU7IH0pLCB2ZXJiKFwicmV0dXJuXCIpLCBpW1N5bWJvbC5pdGVyYXRvcl0gPSBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzOyB9LCBpO1xyXG4gICAgZnVuY3Rpb24gdmVyYihuLCBmKSB7IGlbbl0gPSBvW25dID8gZnVuY3Rpb24gKHYpIHsgcmV0dXJuIChwID0gIXApID8geyB2YWx1ZTogX19hd2FpdChvW25dKHYpKSwgZG9uZTogbiA9PT0gXCJyZXR1cm5cIiB9IDogZiA/IGYodikgOiB2OyB9IDogZjsgfVxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19hc3luY1ZhbHVlcyhvKSB7XHJcbiAgICBpZiAoIVN5bWJvbC5hc3luY0l0ZXJhdG9yKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3ltYm9sLmFzeW5jSXRlcmF0b3IgaXMgbm90IGRlZmluZWQuXCIpO1xyXG4gICAgdmFyIG0gPSBvW1N5bWJvbC5hc3luY0l0ZXJhdG9yXSwgaTtcclxuICAgIHJldHVybiBtID8gbS5jYWxsKG8pIDogKG8gPSB0eXBlb2YgX192YWx1ZXMgPT09IFwiZnVuY3Rpb25cIiA/IF9fdmFsdWVzKG8pIDogb1tTeW1ib2wuaXRlcmF0b3JdKCksIGkgPSB7fSwgdmVyYihcIm5leHRcIiksIHZlcmIoXCJ0aHJvd1wiKSwgdmVyYihcInJldHVyblwiKSwgaVtTeW1ib2wuYXN5bmNJdGVyYXRvcl0gPSBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzOyB9LCBpKTtcclxuICAgIGZ1bmN0aW9uIHZlcmIobikgeyBpW25dID0gb1tuXSAmJiBmdW5jdGlvbiAodikgeyByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkgeyB2ID0gb1tuXSh2KSwgc2V0dGxlKHJlc29sdmUsIHJlamVjdCwgdi5kb25lLCB2LnZhbHVlKTsgfSk7IH07IH1cclxuICAgIGZ1bmN0aW9uIHNldHRsZShyZXNvbHZlLCByZWplY3QsIGQsIHYpIHsgUHJvbWlzZS5yZXNvbHZlKHYpLnRoZW4oZnVuY3Rpb24odikgeyByZXNvbHZlKHsgdmFsdWU6IHYsIGRvbmU6IGQgfSk7IH0sIHJlamVjdCk7IH1cclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fbWFrZVRlbXBsYXRlT2JqZWN0KGNvb2tlZCwgcmF3KSB7XHJcbiAgICBpZiAoT2JqZWN0LmRlZmluZVByb3BlcnR5KSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShjb29rZWQsIFwicmF3XCIsIHsgdmFsdWU6IHJhdyB9KTsgfSBlbHNlIHsgY29va2VkLnJhdyA9IHJhdzsgfVxyXG4gICAgcmV0dXJuIGNvb2tlZDtcclxufTtcclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2ltcG9ydFN0YXIobW9kKSB7XHJcbiAgICBpZiAobW9kICYmIG1vZC5fX2VzTW9kdWxlKSByZXR1cm4gbW9kO1xyXG4gICAgdmFyIHJlc3VsdCA9IHt9O1xyXG4gICAgaWYgKG1vZCAhPSBudWxsKSBmb3IgKHZhciBrIGluIG1vZCkgaWYgKE9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKG1vZCwgaykpIHJlc3VsdFtrXSA9IG1vZFtrXTtcclxuICAgIHJlc3VsdC5kZWZhdWx0ID0gbW9kO1xyXG4gICAgcmV0dXJuIHJlc3VsdDtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9faW1wb3J0RGVmYXVsdChtb2QpIHtcclxuICAgIHJldHVybiAobW9kICYmIG1vZC5fX2VzTW9kdWxlKSA/IG1vZCA6IHsgZGVmYXVsdDogbW9kIH07XHJcbn1cclxuIiwiaW1wb3J0IHsgUG9wdXBDb25maWdPcHRpb25zIH0gZnJvbSAnLi9nbG9iYWwnO1xuXG4vKipcbiAqIEBpZ25vcmVcbiAqL1xuZXhwb3J0IGNvbnN0IERFRkFVTFRfQVVUSE9SSVpFX1RJTUVPVVRfSU5fU0VDT05EUyA9IDYwO1xuXG4vKipcbiAqIEBpZ25vcmVcbiAqL1xuZXhwb3J0IGNvbnN0IERFRkFVTFRfUE9QVVBfQ09ORklHX09QVElPTlM6IFBvcHVwQ29uZmlnT3B0aW9ucyA9IHtcbiAgdGltZW91dEluU2Vjb25kczogREVGQVVMVF9BVVRIT1JJWkVfVElNRU9VVF9JTl9TRUNPTkRTXG59O1xuXG4vKipcbiAqIEBpZ25vcmVcbiAqL1xuZXhwb3J0IGNvbnN0IERFRkFVTFRfU0lMRU5UX1RPS0VOX1JFVFJZX0NPVU5UID0gMztcblxuLyoqXG4gKiBAaWdub3JlXG4gKi9cbmV4cG9ydCBjb25zdCBDTEVBTlVQX0lGUkFNRV9USU1FT1VUX0lOX1NFQ09ORFMgPSAyO1xuXG4vKipcbiAqIEBpZ25vcmVcbiAqL1xuZXhwb3J0IGNvbnN0IERFRkFVTFRfRkVUQ0hfVElNRU9VVF9NUyA9IDEwMDAwO1xuXG5leHBvcnQgY29uc3QgQ0FDSEVfTE9DQVRJT05fTUVNT1JZID0gJ21lbW9yeSc7XG5leHBvcnQgY29uc3QgQ0FDSEVfTE9DQVRJT05fTE9DQUxfU1RPUkFHRSA9ICdsb2NhbHN0b3JhZ2UnO1xuZXhwb3J0IGNvbnN0IE1JU1NJTkdfUkVGUkVTSF9UT0tFTl9FUlJPUl9NRVNTQUdFID1cbiAgJ1RoZSB3ZWIgd29ya2VyIGlzIG1pc3NpbmcgdGhlIHJlZnJlc2ggdG9rZW4nO1xuXG4vKipcbiAqIEBpZ25vcmVcbiAqL1xuZXhwb3J0IGNvbnN0IERFRkFVTFRfU0NPUEUgPSAnb3BlbmlkIHByb2ZpbGUgZW1haWwnO1xuXG4vKipcbiAqIEEgbGlzdCBvZiBlcnJvcnMgdGhhdCBjYW4gYmUgaXNzdWVkIGJ5IHRoZSBhdXRob3JpemF0aW9uIHNlcnZlciB3aGljaCB0aGVcbiAqIHVzZXIgY2FuIHJlY292ZXIgZnJvbSBieSBzaWduaW5nIGluIGludGVyYWN0aXZlbHkuXG4gKiBodHRwczovL29wZW5pZC5uZXQvc3BlY3Mvb3BlbmlkLWNvbm5lY3QtY29yZS0xXzAuaHRtbCNBdXRoRXJyb3JcbiAqIEBpZ25vcmVcbiAqL1xuZXhwb3J0IGNvbnN0IFJFQ09WRVJBQkxFX0VSUk9SUyA9IFtcbiAgJ2xvZ2luX3JlcXVpcmVkJyxcbiAgJ2NvbnNlbnRfcmVxdWlyZWQnLFxuICAnaW50ZXJhY3Rpb25fcmVxdWlyZWQnLFxuICAnYWNjb3VudF9zZWxlY3Rpb25fcmVxdWlyZWQnLFxuICAvLyBTdHJpY3RseSBzcGVha2luZyB0aGUgdXNlciBjYW4ndCByZWNvdmVyIGZyb20gYGFjY2Vzc19kZW5pZWRgIC0gYnV0IHRoZXlcbiAgLy8gY2FuIGdldCBtb3JlIGluZm9ybWF0aW9uIGFib3V0IHRoZWlyIGFjY2VzcyBiZWluZyBkZW5pZWQgYnkgbG9nZ2luZyBpblxuICAvLyBpbnRlcmFjdGl2ZWx5LlxuICAnYWNjZXNzX2RlbmllZCdcbl07XG4iLCJpbXBvcnQgeyBNSVNTSU5HX1JFRlJFU0hfVE9LRU5fRVJST1JfTUVTU0FHRSB9IGZyb20gJy4vY29uc3RhbnRzJztcblxubGV0IHJlZnJlc2hUb2tlbnMgPSB7fTtcblxuY29uc3QgY2FjaGVLZXkgPSAoYXVkaWVuY2UsIHNjb3BlKSA9PiBgJHthdWRpZW5jZX18JHtzY29wZX1gO1xuXG5jb25zdCBnZXRSZWZyZXNoVG9rZW4gPSAoYXVkaWVuY2UsIHNjb3BlKSA9PlxuICByZWZyZXNoVG9rZW5zW2NhY2hlS2V5KGF1ZGllbmNlLCBzY29wZSldO1xuXG5jb25zdCBzZXRSZWZyZXNoVG9rZW4gPSAocmVmcmVzaFRva2VuLCBhdWRpZW5jZSwgc2NvcGUpID0+XG4gIChyZWZyZXNoVG9rZW5zW2NhY2hlS2V5KGF1ZGllbmNlLCBzY29wZSldID0gcmVmcmVzaFRva2VuKTtcblxuY29uc3QgZGVsZXRlUmVmcmVzaFRva2VuID0gKGF1ZGllbmNlLCBzY29wZSkgPT5cbiAgZGVsZXRlIHJlZnJlc2hUb2tlbnNbY2FjaGVLZXkoYXVkaWVuY2UsIHNjb3BlKV07XG5cbmNvbnN0IHdhaXQ6IGFueSA9IHRpbWUgPT4gbmV3IFByb21pc2UocmVzb2x2ZSA9PiBzZXRUaW1lb3V0KHJlc29sdmUsIHRpbWUpKTtcblxuY29uc3QgbWVzc2FnZUhhbmRsZXIgPSBhc3luYyAoe1xuICBkYXRhOiB7IHVybCwgdGltZW91dCwgYXVkaWVuY2UsIHNjb3BlLCAuLi5vcHRzIH0sXG4gIHBvcnRzOiBbcG9ydF1cbn0pID0+IHtcbiAgbGV0IGpzb247XG4gIHRyeSB7XG4gICAgY29uc3QgYm9keSA9IEpTT04ucGFyc2Uob3B0cy5ib2R5KTtcbiAgICBpZiAoIWJvZHkucmVmcmVzaF90b2tlbiAmJiBib2R5LmdyYW50X3R5cGUgPT09ICdyZWZyZXNoX3Rva2VuJykge1xuICAgICAgY29uc3QgcmVmcmVzaFRva2VuID0gZ2V0UmVmcmVzaFRva2VuKGF1ZGllbmNlLCBzY29wZSk7XG4gICAgICBpZiAoIXJlZnJlc2hUb2tlbikge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoTUlTU0lOR19SRUZSRVNIX1RPS0VOX0VSUk9SX01FU1NBR0UpO1xuICAgICAgfVxuICAgICAgb3B0cy5ib2R5ID0gSlNPTi5zdHJpbmdpZnkoeyAuLi5ib2R5LCByZWZyZXNoX3Rva2VuOiByZWZyZXNoVG9rZW4gfSk7XG4gICAgfVxuXG4gICAgY29uc3QgYWJvcnRDb250cm9sbGVyID0gbmV3IEFib3J0Q29udHJvbGxlcigpO1xuICAgIGNvbnN0IHsgc2lnbmFsIH0gPSBhYm9ydENvbnRyb2xsZXI7XG5cbiAgICBsZXQgcmVzcG9uc2U7XG4gICAgdHJ5IHtcbiAgICAgIHJlc3BvbnNlID0gYXdhaXQgUHJvbWlzZS5yYWNlKFtcbiAgICAgICAgd2FpdCh0aW1lb3V0KSxcbiAgICAgICAgZmV0Y2godXJsLCB7IC4uLm9wdHMsIHNpZ25hbCB9KVxuICAgICAgXSk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIC8vIGZldGNoIGVycm9yLCByZWplY3QgYHNlbmRNZXNzYWdlYCB1c2luZyBgZXJyb3JgIGtleSBzbyB0aGF0IHdlIHJldHJ5LlxuICAgICAgcG9ydC5wb3N0TWVzc2FnZSh7XG4gICAgICAgIGVycm9yOiBlcnJvci5tZXNzYWdlXG4gICAgICB9KTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAoIXJlc3BvbnNlKSB7XG4gICAgICAvLyBJZiB0aGUgcmVxdWVzdCB0aW1lcyBvdXQsIGFib3J0IGl0IGFuZCBsZXQgYGZldGNoV2l0aFRpbWVvdXRgIHJhaXNlIHRoZSBlcnJvci5cbiAgICAgIGFib3J0Q29udHJvbGxlci5hYm9ydCgpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGpzb24gPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG5cbiAgICBpZiAoanNvbi5yZWZyZXNoX3Rva2VuKSB7XG4gICAgICBzZXRSZWZyZXNoVG9rZW4oanNvbi5yZWZyZXNoX3Rva2VuLCBhdWRpZW5jZSwgc2NvcGUpO1xuICAgICAgZGVsZXRlIGpzb24ucmVmcmVzaF90b2tlbjtcbiAgICB9IGVsc2Uge1xuICAgICAgZGVsZXRlUmVmcmVzaFRva2VuKGF1ZGllbmNlLCBzY29wZSk7XG4gICAgfVxuXG4gICAgcG9ydC5wb3N0TWVzc2FnZSh7XG4gICAgICBvazogcmVzcG9uc2Uub2ssXG4gICAgICBqc29uXG4gICAgfSk7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgcG9ydC5wb3N0TWVzc2FnZSh7XG4gICAgICBvazogZmFsc2UsXG4gICAgICBqc29uOiB7XG4gICAgICAgIGVycm9yX2Rlc2NyaXB0aW9uOiBlcnJvci5tZXNzYWdlXG4gICAgICB9XG4gICAgfSk7XG4gIH1cbn07XG5cbi8vIERvbid0IHJ1biBgYWRkRXZlbnRMaXN0ZW5lcmAgaW4gb3VyIHRlc3RzICh0aGlzIGlzIHJlcGxhY2VkIGluIHJvbGx1cClcbi8qIGlzdGFuYnVsIGlnbm9yZSBlbHNlICAqL1xuaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WID09PSAndGVzdCcpIHtcbiAgbW9kdWxlLmV4cG9ydHMgPSB7IG1lc3NhZ2VIYW5kbGVyIH07XG59IGVsc2Uge1xuICAvLyBAdHMtaWdub3JlXG4gIGFkZEV2ZW50TGlzdGVuZXIoJ21lc3NhZ2UnLCBtZXNzYWdlSGFuZGxlcik7XG59XG4iXSwibmFtZXMiOlsiX19hc3NpZ24iLCJPYmplY3QiLCJhc3NpZ24iLCJ0IiwicyIsImkiLCJuIiwiYXJndW1lbnRzIiwibGVuZ3RoIiwicCIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwiY2FsbCIsImFwcGx5IiwidGhpcyIsIl9fZ2VuZXJhdG9yIiwidGhpc0FyZyIsImJvZHkiLCJmIiwieSIsImciLCJfIiwibGFiZWwiLCJzZW50IiwidHJ5cyIsIm9wcyIsIm5leHQiLCJ2ZXJiIiwidGhyb3ciLCJyZXR1cm4iLCJTeW1ib2wiLCJpdGVyYXRvciIsInYiLCJvcCIsIlR5cGVFcnJvciIsImRvbmUiLCJ2YWx1ZSIsInBvcCIsInB1c2giLCJlIiwic3RlcCIsInJlZnJlc2hUb2tlbnMiLCJjYWNoZUtleSIsImF1ZGllbmNlIiwic2NvcGUiLCJhZGRFdmVudExpc3RlbmVyIiwiX2EiLCJfYXJndW1lbnRzIiwiUCIsImdlbmVyYXRvciIsIl9iIiwidXJsIiwidGltZW91dCIsIm9wdHMiLCJpbmRleE9mIiwiZ2V0T3duUHJvcGVydHlTeW1ib2xzIiwicHJvcGVydHlJc0VudW1lcmFibGUiLCJwb3J0IiwiSlNPTiIsInBhcnNlIiwicmVmcmVzaF90b2tlbiIsImdyYW50X3R5cGUiLCJyZWZyZXNoVG9rZW4iLCJnZXRSZWZyZXNoVG9rZW4iLCJFcnJvciIsInN0cmluZ2lmeSIsImFib3J0Q29udHJvbGxlciIsIkFib3J0Q29udHJvbGxlciIsInNpZ25hbCIsInJlc3BvbnNlIiwiUHJvbWlzZSIsInJhY2UiLCJ0aW1lIiwicmVzb2x2ZSIsInNldFRpbWVvdXQiLCJmZXRjaCIsIl9jIiwicG9zdE1lc3NhZ2UiLCJlcnJvciIsImVycm9yXzEiLCJtZXNzYWdlIiwianNvbiIsImFib3J0Iiwic2V0UmVmcmVzaFRva2VuIiwiZGVsZXRlUmVmcmVzaFRva2VuIiwib2siLCJlcnJvcl9kZXNjcmlwdGlvbiIsImVycm9yXzIiLCJyZWplY3QiLCJmdWxmaWxsZWQiLCJyZWplY3RlZCIsInJlc3VsdCIsInRoZW4iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7O0FBNkJPLElBQUlBLEVBQVcsV0FRbEIsT0FQQUEsRUFBV0MsT0FBT0MsUUFBVSxTQUFrQkMsR0FDMUMsSUFBSyxJQUFJQyxFQUFHQyxFQUFJLEVBQUdDLEVBQUlDLFVBQVVDLE9BQVFILEVBQUlDLEVBQUdELElBRTVDLElBQUssSUFBSUksS0FEVEwsRUFBSUcsVUFBVUYsR0FDT0osT0FBT1MsVUFBVUMsZUFBZUMsS0FBS1IsRUFBR0ssS0FBSU4sRUFBRU0sR0FBS0wsRUFBRUssSUFFOUUsT0FBT04sSUFFS1UsTUFBTUMsS0FBTVAsWUF1Q3pCLFNBQVNRLEVBQVlDLEVBQVNDLEdBQ2pDLElBQXNHQyxFQUFHQyxFQUFHaEIsRUFBR2lCLEVBQTNHQyxFQUFJLENBQUVDLE1BQU8sRUFBR0MsS0FBTSxXQUFhLEdBQVcsRUFBUHBCLEVBQUUsR0FBUSxNQUFNQSxFQUFFLEdBQUksT0FBT0EsRUFBRSxJQUFPcUIsS0FBTSxHQUFJQyxJQUFLLElBQ2hHLE9BQU9MLEVBQUksQ0FBRU0sS0FBTUMsRUFBSyxHQUFJQyxNQUFTRCxFQUFLLEdBQUlFLE9BQVVGLEVBQUssSUFBd0IsbUJBQVhHLFNBQTBCVixFQUFFVSxPQUFPQyxVQUFZLFdBQWEsT0FBT2pCLE9BQVVNLEVBQ3ZKLFNBQVNPLEVBQUtyQixHQUFLLE9BQU8sU0FBVTBCLEdBQUssT0FDekMsU0FBY0MsR0FDVixHQUFJZixFQUFHLE1BQU0sSUFBSWdCLFVBQVUsbUNBQzNCLEtBQU9iLE9BQ0gsR0FBSUgsRUFBSSxFQUFHQyxJQUFNaEIsRUFBWSxFQUFSOEIsRUFBRyxHQUFTZCxFQUFVLE9BQUljLEVBQUcsR0FBS2QsRUFBUyxTQUFPaEIsRUFBSWdCLEVBQVUsU0FBTWhCLEVBQUVTLEtBQUtPLEdBQUksR0FBS0EsRUFBRU8sU0FBV3ZCLEVBQUlBLEVBQUVTLEtBQUtPLEVBQUdjLEVBQUcsS0FBS0UsS0FBTSxPQUFPaEMsRUFFM0osT0FESWdCLEVBQUksRUFBR2hCLElBQUc4QixFQUFLLENBQVMsRUFBUkEsRUFBRyxHQUFROUIsRUFBRWlDLFFBQ3pCSCxFQUFHLElBQ1AsS0FBSyxFQUFHLEtBQUssRUFBRzlCLEVBQUk4QixFQUFJLE1BQ3hCLEtBQUssRUFBYyxPQUFYWixFQUFFQyxRQUFnQixDQUFFYyxNQUFPSCxFQUFHLEdBQUlFLE1BQU0sR0FDaEQsS0FBSyxFQUFHZCxFQUFFQyxRQUFTSCxFQUFJYyxFQUFHLEdBQUlBLEVBQUssQ0FBQyxHQUFJLFNBQ3hDLEtBQUssRUFBR0EsRUFBS1osRUFBRUksSUFBSVksTUFBT2hCLEVBQUVHLEtBQUthLE1BQU8sU0FDeEMsUUFDSSxLQUFNbEMsRUFBSWtCLEVBQUVHLE1BQU1yQixFQUFJQSxFQUFFSyxPQUFTLEdBQUtMLEVBQUVBLEVBQUVLLE9BQVMsS0FBa0IsSUFBVnlCLEVBQUcsSUFBc0IsSUFBVkEsRUFBRyxJQUFXLENBQUVaLEVBQUksRUFBRyxTQUNqRyxHQUFjLElBQVZZLEVBQUcsTUFBYzlCLEdBQU04QixFQUFHLEdBQUs5QixFQUFFLElBQU04QixFQUFHLEdBQUs5QixFQUFFLElBQU0sQ0FBRWtCLEVBQUVDLE1BQVFXLEVBQUcsR0FBSSxNQUM5RSxHQUFjLElBQVZBLEVBQUcsSUFBWVosRUFBRUMsTUFBUW5CLEVBQUUsR0FBSSxDQUFFa0IsRUFBRUMsTUFBUW5CLEVBQUUsR0FBSUEsRUFBSThCLEVBQUksTUFDN0QsR0FBSTlCLEdBQUtrQixFQUFFQyxNQUFRbkIsRUFBRSxHQUFJLENBQUVrQixFQUFFQyxNQUFRbkIsRUFBRSxHQUFJa0IsRUFBRUksSUFBSWEsS0FBS0wsR0FBSyxNQUN2RDlCLEVBQUUsSUFBSWtCLEVBQUVJLElBQUlZLE1BQ2hCaEIsRUFBRUcsS0FBS2EsTUFBTyxTQUV0QkosRUFBS2hCLEVBQUtMLEtBQUtJLEVBQVNLLEdBQzFCLE1BQU9rQixHQUFLTixFQUFLLENBQUMsRUFBR00sR0FBSXBCLEVBQUksVUFBZUQsRUFBSWYsRUFBSSxFQUN0RCxHQUFZLEVBQVI4QixFQUFHLEdBQVEsTUFBTUEsRUFBRyxHQUFJLE1BQU8sQ0FBRUcsTUFBT0gsRUFBRyxHQUFLQSxFQUFHLFFBQUssRUFBUUUsTUFBTSxHQXJCOUJLLENBQUssQ0FBQ2xDLEVBQUcwQixNQ2hEdEQsSUM3QkhTLEVBQWdCLEdBRWRDLEVBQVcsU0FBQ0MsRUFBVUMsR0FBVSxPQUFHRCxNQUFZQyxHQWdGbkRDLGlCQUFpQixXQW5FSSxTQUFPQyxxQkZrREo5QixFQUFTK0IsRUFBWUMsRUFBR0MsU0FBeEJqQyxTQUFTK0IsU0FBZUUsbUZFakRoREMsU0FBUUMsUUFBS0MsWUFBU1QsYUFBVUMsVUFBVVMsRUZzQnJDLFNBQWdCakQsRUFBR21DLEdBQ3RCLElBQUlwQyxFQUFJLEdBQ1IsSUFBSyxJQUFJTSxLQUFLTCxFQUFPSCxPQUFPUyxVQUFVQyxlQUFlQyxLQUFLUixFQUFHSyxJQUFNOEIsRUFBRWUsUUFBUTdDLEdBQUssSUFDOUVOLEVBQUVNLEdBQUtMLEVBQUVLLElBQ2IsR0FBUyxNQUFMTCxHQUFxRCxtQkFBakNILE9BQU9zRCxzQkFDdEIsQ0FBQSxJQUFJbEQsRUFBSSxFQUFiLElBQWdCSSxFQUFJUixPQUFPc0Qsc0JBQXNCbkQsR0FBSUMsRUFBSUksRUFBRUQsT0FBUUgsSUFDM0RrQyxFQUFFZSxRQUFRN0MsRUFBRUosSUFBTSxHQUFLSixPQUFPUyxVQUFVOEMscUJBQXFCNUMsS0FBS1IsRUFBR0ssRUFBRUosTUFDdkVGLEVBQUVNLEVBQUVKLElBQU1ELEVBQUVLLEVBQUVKLEtBRTFCLE9BQU9GLEtFL0JILHNDQUNFc0QsOEJBS04sMkJBRE14QyxFQUFPeUMsS0FBS0MsTUFBTU4sRUFBS3BDLE9BQ25CMkMsZUFBcUMsa0JBQXBCM0MsRUFBSzRDLFdBQWdDLENBRTlELEtBRE1DLEVBbkJZLFNBQUNuQixFQUFVQyxHQUNqQyxPQUFBSCxFQUFjQyxFQUFTQyxFQUFVQyxJQWtCUm1CLENBQWdCcEIsRUFBVUMsSUFFN0MsTUFBTSxJQUFJb0IsTURLaEIsK0NDSElYLEVBQUtwQyxLQUFPeUMsS0FBS08saUJBQWVoRCxJQUFNMkMsY0FBZUUsS0FHakRJLEVBQWtCLElBQUlDLGdCQUNwQkMsRUFBV0YsU0FFZkcsMEJBRVMsZ0NBQU1DLFFBQVFDLEtBQUssRUF0QmxCQyxFQXVCTHBCLEVBdkJhLElBQUlrQixTQUFRLFNBQUFHLEdBQVcsT0FBQUMsV0FBV0QsRUFBU0QsT0F3QjdERyxNQUFNeEIsU0FBVUUsSUFBTWUsNkJBRnhCQyxFQUFXTyxzQkFTWCxrQkFIQW5CLEVBQUtvQixZQUFZLENBQ2ZDLE1BQU9DLEVBQU1DLHFCQUtqQixPQUFLWCxLQU1RQSxFQUFTWSxTQUpwQmYsRUFBZ0JnQiwyQkFJbEJELEVBQU9MLFVBRUVoQixlQWhEVyxTQUFDRSxFQUFjbkIsRUFBVUMsR0FDOUNILEVBQWNDLEVBQVNDLEVBQVVDLElBQVVrQixFQWdEeENxQixDQUFnQkYsRUFBS3JCLGNBQWVqQixFQUFVQyxVQUN2Q3FDLEVBQUtyQixlQS9DUyxTQUFDakIsRUFBVUMsVUFDN0JILEVBQWNDLEVBQVNDLEVBQVVDLElBZ0RwQ3dDLENBQW1CekMsRUFBVUMsR0FHL0JhLEVBQUtvQixZQUFZLENBQ2ZRLEdBQUloQixFQUFTZ0IsR0FDYkosd0NBR0Z4QixFQUFLb0IsWUFBWSxDQUNmUSxJQUFJLEVBQ0pKLEtBQU0sQ0FDSkssa0JBQW1CQyxFQUFNUCxrQ0F6RGYsSUFBQVIsTUZxRFAsS0FEb0N4QixZQUN6QkEsRUFBSXNCLFdBQVUsU0FBVUcsRUFBU2UsR0FDL0MsU0FBU0MsRUFBVXJELEdBQVMsSUFBTUksRUFBS1MsRUFBVXZCLEtBQUtVLElBQVcsTUFBT0csR0FBS2lELEVBQU9qRCxJQUNwRixTQUFTbUQsRUFBU3RELEdBQVMsSUFBTUksRUFBS1MsRUFBaUIsTUFBRWIsSUFBVyxNQUFPRyxHQUFLaUQsRUFBT2pELElBQ3ZGLFNBQVNDLEVBQUttRCxHQUFVQSxFQUFPeEQsS0FBT3NDLEVBQVFrQixFQUFPdkQsT0FBUyxJQUFJWSxHQUFFLFNBQVV5QixHQUFXQSxFQUFRa0IsRUFBT3ZELFVBQVd3RCxLQUFLSCxFQUFXQyxHQUNuSWxELEdBQU1TLEVBQVlBLEVBQVVwQyxNQUFNRyxFQUFTK0IsR0FBYyxLQUFLckIifQ==',
              false
            )),
          new Worker(nc, e)
        );
      }),
    oc = new pn(),
    rc = {
      memory: function () {
        return new On().enclosedCache;
      },
      localstorage: function () {
        return new zn();
      },
    },
    lc = function (e) {
      return rc[e];
    },
    sc = (function () {
      function e(e) {
        var t, i, n, c;
        if (
          ((this.options = e),
          'undefined' != typeof window &&
            (function () {
              if (!Rn())
                throw new Error(
                  'For security reasons, `window.crypto` is required to run `auth0-spa-js`.'
                );
              if (void 0 === Qn())
                throw new Error(
                  '\n      auth0-spa-js must run on a secure origin.\n      See https://github.com/auth0/auth0-spa-js/blob/master/FAQ.md#why-do-i-get-auth0-spa-js-must-run-on-a-secure-origin \n      for more information.\n    '
                );
            })(),
          (this.cacheLocation = e.cacheLocation || 'memory'),
          (this.cookieStorage = !1 === e.legacySameSiteCookie ? ec : tc),
          !lc(this.cacheLocation))
        )
          throw new Error(
            'Invalid cache location "' + this.cacheLocation + '"'
          );
        (this.cache = lc(this.cacheLocation)()),
          (this.scope = this.options.scope),
          (this.transactionManager = new Pn(ic)),
          (this.domainUrl = 'https://' + this.options.domain),
          (this.tokenIssuer =
            ((n = this.options.issuer),
            (c = this.domainUrl),
            n
              ? n.startsWith('https://')
                ? n
                : 'https://' + n + '/'
              : c + '/')),
          (this.defaultScope = Nn(
            'openid',
            void 0 !==
              (null ===
                (i =
                  null === (t = this.options) || void 0 === t
                    ? void 0
                    : t.advancedOptions) || void 0 === i
                ? void 0
                : i.defaultScope)
              ? this.options.advancedOptions.defaultScope
              : 'openid profile email'
          )),
          this.options.useRefreshTokens &&
            (this.scope = Nn(this.scope, 'offline_access')),
          'undefined' != typeof window &&
            window.Worker &&
            this.options.useRefreshTokens &&
            'memory' === this.cacheLocation &&
            !/Trident.*rv:11\.0/.test(navigator.userAgent) &&
            (this.worker = new cc()),
          (this.customOptions = (function (e) {
            return (
              e.advancedOptions,
              e.audience,
              e.auth0Client,
              e.authorizeTimeoutInSeconds,
              e.cacheLocation,
              e.client_id,
              e.domain,
              e.issuer,
              e.leeway,
              e.max_age,
              e.redirect_uri,
              e.scope,
              e.useRefreshTokens,
              I(e, [
                'advancedOptions',
                'audience',
                'auth0Client',
                'authorizeTimeoutInSeconds',
                'cacheLocation',
                'client_id',
                'domain',
                'issuer',
                'leeway',
                'max_age',
                'redirect_uri',
                'scope',
                'useRefreshTokens',
              ])
            );
          })(e));
      }
      return (
        (e.prototype._url = function (e) {
          var t = encodeURIComponent(
            btoa(
              JSON.stringify(
                this.options.auth0Client || {
                  name: 'auth0-spa-js',
                  version: '1.12.1',
                }
              )
            )
          );
          return '' + this.domainUrl + e + '&auth0Client=' + t;
        }),
        (e.prototype._getParams = function (e, t, i, n, c) {
          var o = this.options,
            r =
              (o.domain,
              o.leeway,
              o.useRefreshTokens,
              o.auth0Client,
              o.cacheLocation,
              o.advancedOptions,
              I(o, [
                'domain',
                'leeway',
                'useRefreshTokens',
                'auth0Client',
                'cacheLocation',
                'advancedOptions',
              ]));
          return a(a(a({}, r), e), {
            scope: Nn(this.defaultScope, this.scope, e.scope),
            response_type: 'code',
            response_mode: 'query',
            state: t,
            nonce: i,
            redirect_uri: c || this.options.redirect_uri,
            code_challenge: n,
            code_challenge_method: 'S256',
          });
        }),
        (e.prototype._authorizeUrl = function (e) {
          return this._url('/authorize?' + Wn(e));
        }),
        (e.prototype._verifyIdToken = function (e, t) {
          return (function (e) {
            if (!e.id_token)
              throw new Error('ID token is required but missing');
            var t = (function (e) {
              var t = e.split('.'),
                i = t[0],
                n = t[1],
                c = t[2];
              if (3 !== t.length || !i || !n || !c)
                throw new Error('ID token could not be decoded');
              var o = JSON.parse(Hn(n)),
                r = { __raw: e },
                l = {};
              return (
                Object.keys(o).forEach(function (e) {
                  (r[e] = o[e]), Dn.includes(e) || (l[e] = o[e]);
                }),
                {
                  encoded: { header: i, payload: n, signature: c },
                  header: JSON.parse(Hn(i)),
                  claims: r,
                  user: l,
                }
              );
            })(e.id_token);
            if (!t.claims.iss)
              throw new Error(
                'Issuer (iss) claim must be a string present in the ID token'
              );
            if (t.claims.iss !== e.iss)
              throw new Error(
                'Issuer (iss) claim mismatch in the ID token; expected "' +
                  e.iss +
                  '", found "' +
                  t.claims.iss +
                  '"'
              );
            if (!t.user.sub)
              throw new Error(
                'Subject (sub) claim must be a string present in the ID token'
              );
            if ('RS256' !== t.header.alg)
              throw new Error(
                'Signature algorithm of "' +
                  t.header.alg +
                  '" is not supported. Expected the ID token to be signed with "RS256".'
              );
            if (
              !t.claims.aud ||
              ('string' != typeof t.claims.aud && !Array.isArray(t.claims.aud))
            )
              throw new Error(
                'Audience (aud) claim must be a string or array of strings present in the ID token'
              );
            if (Array.isArray(t.claims.aud)) {
              if (!t.claims.aud.includes(e.aud))
                throw new Error(
                  'Audience (aud) claim mismatch in the ID token; expected "' +
                    e.aud +
                    '" but was not one of "' +
                    t.claims.aud.join(', ') +
                    '"'
                );
              if (t.claims.aud.length > 1) {
                if (!t.claims.azp)
                  throw new Error(
                    'Authorized Party (azp) claim must be a string present in the ID token when Audience (aud) claim has multiple values'
                  );
                if (t.claims.azp !== e.aud)
                  throw new Error(
                    'Authorized Party (azp) claim mismatch in the ID token; expected "' +
                      e.aud +
                      '", found "' +
                      t.claims.azp +
                      '"'
                  );
              }
            } else if (t.claims.aud !== e.aud)
              throw new Error(
                'Audience (aud) claim mismatch in the ID token; expected "' +
                  e.aud +
                  '" but found "' +
                  t.claims.aud +
                  '"'
              );
            if (e.nonce) {
              if (!t.claims.nonce)
                throw new Error(
                  'Nonce (nonce) claim must be a string present in the ID token'
                );
              if (t.claims.nonce !== e.nonce)
                throw new Error(
                  'Nonce (nonce) claim mismatch in the ID token; expected "' +
                    e.nonce +
                    '", found "' +
                    t.claims.nonce +
                    '"'
                );
            }
            if (e.max_age && !jn(t.claims.auth_time))
              throw new Error(
                'Authentication Time (auth_time) claim must be a number present in the ID token when Max Age (max_age) is specified'
              );
            if (!jn(t.claims.exp))
              throw new Error(
                'Expiration Time (exp) claim must be a number present in the ID token'
              );
            if (!jn(t.claims.iat))
              throw new Error(
                'Issued At (iat) claim must be a number present in the ID token'
              );
            var i = e.leeway || 60,
              n = new Date(Date.now()),
              c = new Date(0),
              o = new Date(0),
              r = new Date(0);
            if (
              (r.setUTCSeconds(parseInt(t.claims.auth_time) + e.max_age + i),
              c.setUTCSeconds(t.claims.exp + i),
              o.setUTCSeconds(t.claims.nbf - i),
              n > c)
            )
              throw new Error(
                'Expiration Time (exp) claim error in the ID token; current time (' +
                  n +
                  ') is after expiration time (' +
                  c +
                  ')'
              );
            if (jn(t.claims.nbf) && n < o)
              throw new Error(
                "Not Before time (nbf) claim in the ID token indicates that this token can't be used just yet. Currrent time (" +
                  n +
                  ') is before ' +
                  o
              );
            if (jn(t.claims.auth_time) && n > r)
              throw new Error(
                'Authentication Time (auth_time) claim in the ID token indicates that too much time has passed since the last end-user authentication. Currrent time (' +
                  n +
                  ') is after last auth at ' +
                  r
              );
            return t;
          })({
            iss: this.tokenIssuer,
            aud: this.options.client_id,
            id_token: e,
            nonce: t,
            leeway: this.options.leeway,
            max_age: this._parseNumber(this.options.max_age),
          });
        }),
        (e.prototype._parseNumber = function (e) {
          return 'string' != typeof e ? e : parseInt(e, 10) || void 0;
        }),
        (e.prototype.buildAuthorizeUrl = function (e) {
          return (
            void 0 === e && (e = {}),
            d(this, void 0, void 0, function () {
              var t, i, n, c, o, r, l, s, u, a, d;
              return g(this, function (g) {
                switch (g.label) {
                  case 0:
                    return (
                      (t = e.redirect_uri),
                      (i = e.appState),
                      (n = I(e, ['redirect_uri', 'appState'])),
                      (c = xn(vn())),
                      (o = xn(vn())),
                      (r = vn()),
                      [4, An(r)]
                    );
                  case 1:
                    return (
                      (l = g.sent()),
                      (s = Ln(l)),
                      (u = e.fragment ? '#' + e.fragment : ''),
                      (a = this._getParams(n, c, o, s, t)),
                      (d = this._authorizeUrl(a)),
                      this.transactionManager.create({
                        nonce: o,
                        code_verifier: r,
                        appState: i,
                        scope: a.scope,
                        audience: a.audience || 'default',
                        redirect_uri: a.redirect_uri,
                      }),
                      [2, d + u]
                    );
                }
              });
            })
          );
        }),
        (e.prototype.loginWithPopup = function (e, t) {
          return (
            void 0 === e && (e = {}),
            void 0 === t && (t = {}),
            d(this, void 0, void 0, function () {
              var i, n, c, o, r, l, s, u, d, b, B, y;
              return g(this, function (g) {
                switch (g.label) {
                  case 0:
                    return (
                      (i = I(e, [])),
                      (n = xn(vn())),
                      (c = xn(vn())),
                      (o = vn()),
                      [4, An(o)]
                    );
                  case 1:
                    return (
                      (r = g.sent()),
                      (l = Ln(r)),
                      (s = this._getParams(
                        i,
                        n,
                        c,
                        l,
                        this.options.redirect_uri || window.location.origin
                      )),
                      (u = this._authorizeUrl(
                        a(a({}, s), { response_mode: 'web_message' })
                      )),
                      [
                        4,
                        Sn(
                          u,
                          a(a({}, t), {
                            timeoutInSeconds:
                              t.timeoutInSeconds ||
                              this.options.authorizeTimeoutInSeconds ||
                              60,
                          })
                        ),
                      ]
                    );
                  case 2:
                    if (((d = g.sent()), n !== d.state))
                      throw new Error('Invalid state');
                    return [
                      4,
                      En(
                        {
                          audience: s.audience,
                          scope: s.scope,
                          baseUrl: this.domainUrl,
                          client_id: this.options.client_id,
                          code_verifier: o,
                          code: d.code,
                          grant_type: 'authorization_code',
                          redirect_uri: s.redirect_uri,
                        },
                        this.worker
                      ),
                    ];
                  case 3:
                    return (
                      (b = g.sent()),
                      (B = this._verifyIdToken(b.id_token, c)),
                      (y = a(a({}, b), {
                        decodedToken: B,
                        scope: s.scope,
                        audience: s.audience || 'default',
                        client_id: this.options.client_id,
                      })),
                      this.cache.save(y),
                      this.cookieStorage.save('auth0.is.authenticated', !0, {
                        daysUntilExpire: 1,
                      }),
                      [2]
                    );
                }
              });
            })
          );
        }),
        (e.prototype.getUser = function (e) {
          return (
            void 0 === e && (e = {}),
            d(this, void 0, void 0, function () {
              var t, i, n;
              return g(this, function (c) {
                return (
                  (t = e.audience || this.options.audience || 'default'),
                  (i = Nn(this.defaultScope, this.scope, e.scope)),
                  [
                    2,
                    (n = this.cache.get({
                      client_id: this.options.client_id,
                      audience: t,
                      scope: i,
                    })) &&
                      n.decodedToken &&
                      n.decodedToken.user,
                  ]
                );
              });
            })
          );
        }),
        (e.prototype.getIdTokenClaims = function (e) {
          return (
            void 0 === e && (e = {}),
            d(this, void 0, void 0, function () {
              var t, i, n;
              return g(this, function (c) {
                return (
                  (t = e.audience || this.options.audience || 'default'),
                  (i = Nn(this.defaultScope, this.scope, e.scope)),
                  [
                    2,
                    (n = this.cache.get({
                      client_id: this.options.client_id,
                      audience: t,
                      scope: i,
                    })) &&
                      n.decodedToken &&
                      n.decodedToken.claims,
                  ]
                );
              });
            })
          );
        }),
        (e.prototype.loginWithRedirect = function (e) {
          return (
            void 0 === e && (e = {}),
            d(this, void 0, void 0, function () {
              var t;
              return g(this, function (i) {
                switch (i.label) {
                  case 0:
                    return [4, this.buildAuthorizeUrl(e)];
                  case 1:
                    return (t = i.sent()), window.location.assign(t), [2];
                }
              });
            })
          );
        }),
        (e.prototype.handleRedirectCallback = function (e) {
          return (
            void 0 === e && (e = window.location.href),
            d(this, void 0, void 0, function () {
              var t, i, n, c, o, r, l, s, u, I, d;
              return g(this, function (g) {
                switch (g.label) {
                  case 0:
                    if (0 === (t = e.split('?').slice(1)).length)
                      throw new Error(
                        'There are no query params available for parsing.'
                      );
                    if (
                      ((i = (function (e) {
                        e.indexOf('#') > -1 &&
                          (e = e.substr(0, e.indexOf('#')));
                        var t = e.split('&'),
                          i = {};
                        return (
                          t.forEach(function (e) {
                            var t = e.split('='),
                              n = t[0],
                              c = t[1];
                            i[n] = decodeURIComponent(c);
                          }),
                          a(a({}, i), { expires_in: parseInt(i.expires_in) })
                        );
                      })(t.join(''))),
                      (n = i.state),
                      (c = i.code),
                      (o = i.error),
                      (r = i.error_description),
                      !(l = this.transactionManager.get()) ||
                        !l.code_verifier ||
                        !l.nonce)
                    )
                      throw new Error('Invalid state');
                    if (o)
                      throw (
                        (this.transactionManager.remove(),
                        new fn(o, r, n, l.appState))
                      );
                    return (
                      this.transactionManager.remove(),
                      (s = {
                        audience: l.audience,
                        scope: l.scope,
                        baseUrl: this.domainUrl,
                        client_id: this.options.client_id,
                        code_verifier: l.code_verifier,
                        grant_type: 'authorization_code',
                        code: c,
                      }),
                      void 0 !== l.redirect_uri &&
                        (s.redirect_uri = l.redirect_uri),
                      [4, En(s, this.worker)]
                    );
                  case 1:
                    return (
                      (u = g.sent()),
                      (I = this._verifyIdToken(u.id_token, l.nonce)),
                      (d = a(a({}, u), {
                        decodedToken: I,
                        audience: l.audience,
                        scope: l.scope,
                        client_id: this.options.client_id,
                      })),
                      this.cache.save(d),
                      this.cookieStorage.save('auth0.is.authenticated', !0, {
                        daysUntilExpire: 1,
                      }),
                      [2, { appState: l.appState }]
                    );
                }
              });
            })
          );
        }),
        (e.prototype.checkSession = function (e) {
          return d(this, void 0, void 0, function () {
            var t;
            return g(this, function (i) {
              switch (i.label) {
                case 0:
                  if (
                    'memory' === this.cacheLocation &&
                    !this.cookieStorage.get('auth0.is.authenticated')
                  )
                    return [2];
                  i.label = 1;
                case 1:
                  return (
                    i.trys.push([1, 3, , 4]), [4, this.getTokenSilently(e)]
                  );
                case 2:
                  return i.sent(), [3, 4];
                case 3:
                  if (((t = i.sent()), !hn.includes(t.error))) throw t;
                  return [3, 4];
                case 4:
                  return [2];
              }
            });
          });
        }),
        (e.prototype.getTokenSilently = function (e) {
          return (
            void 0 === e && (e = {}),
            d(this, void 0, void 0, function () {
              var t,
                i,
                n,
                c,
                o,
                r,
                l,
                s = this;
              return g(this, function (u) {
                switch (u.label) {
                  case 0:
                    if (
                      ((t = a(
                        a(
                          { audience: this.options.audience, ignoreCache: !1 },
                          e
                        ),
                        { scope: Nn(this.defaultScope, this.scope, e.scope) }
                      )),
                      (i = t.ignoreCache),
                      (n = I(t, ['ignoreCache'])),
                      (c = function () {
                        var e = s.cache.get(
                          {
                            scope: n.scope,
                            audience: n.audience || 'default',
                            client_id: s.options.client_id,
                          },
                          60
                        );
                        return e && e.access_token;
                      }),
                      !i && (o = c()))
                    )
                      return [2, o];
                    u.label = 1;
                  case 1:
                    return (
                      u.trys.push([1, 7, 8, 10]),
                      [4, oc.acquireLock('auth0.lock.getTokenSilently', 5e3)]
                    );
                  case 2:
                    return (
                      u.sent(),
                      !i && (o = c())
                        ? [2, o]
                        : this.options.useRefreshTokens
                        ? [4, this._getTokenUsingRefreshToken(n)]
                        : [3, 4]
                    );
                  case 3:
                    return (l = u.sent()), [3, 6];
                  case 4:
                    return [4, this._getTokenFromIFrame(n)];
                  case 5:
                    (l = u.sent()), (u.label = 6);
                  case 6:
                    return (
                      (r = l),
                      this.cache.save(
                        a({ client_id: this.options.client_id }, r)
                      ),
                      this.cookieStorage.save('auth0.is.authenticated', !0, {
                        daysUntilExpire: 1,
                      }),
                      [2, r.access_token]
                    );
                  case 7:
                    throw u.sent();
                  case 8:
                    return [4, oc.releaseLock('auth0.lock.getTokenSilently')];
                  case 9:
                    return u.sent(), [7];
                  case 10:
                    return [2];
                }
              });
            })
          );
        }),
        (e.prototype.getTokenWithPopup = function (e, t) {
          return (
            void 0 === e && (e = {}),
            void 0 === t && (t = {}),
            d(this, void 0, void 0, function () {
              return g(this, function (i) {
                switch (i.label) {
                  case 0:
                    return (
                      (e.audience = e.audience || this.options.audience),
                      (e.scope = Nn(this.defaultScope, this.scope, e.scope)),
                      (t = a(a({}, Un), t)),
                      [4, this.loginWithPopup(e, t)]
                    );
                  case 1:
                    return (
                      i.sent(),
                      [
                        2,
                        this.cache.get({
                          scope: e.scope,
                          audience: e.audience || 'default',
                          client_id: this.options.client_id,
                        }).access_token,
                      ]
                    );
                }
              });
            })
          );
        }),
        (e.prototype.isAuthenticated = function () {
          return d(this, void 0, void 0, function () {
            return g(this, function (e) {
              switch (e.label) {
                case 0:
                  return [4, this.getUser()];
                case 1:
                  return [2, !!e.sent()];
              }
            });
          });
        }),
        (e.prototype.logout = function (e) {
          void 0 === e && (e = {}),
            null !== e.client_id
              ? (e.client_id = e.client_id || this.options.client_id)
              : delete e.client_id;
          var t = e.federated,
            i = e.localOnly,
            n = I(e, ['federated', 'localOnly']);
          if (i && t)
            throw new Error(
              'It is invalid to set both the `federated` and `localOnly` options to `true`'
            );
          if (
            (this.cache.clear(),
            this.cookieStorage.remove('auth0.is.authenticated'),
            !i)
          ) {
            var c = t ? '&federated' : '',
              o = this._url('/v2/logout?' + Wn(n));
            window.location.assign('' + o + c);
          }
        }),
        (e.prototype._getTokenFromIFrame = function (e) {
          return d(this, void 0, void 0, function () {
            var t, i, n, c, o, r, l, s, u, d, b, B, y, F;
            return g(this, function (g) {
              switch (g.label) {
                case 0:
                  return (t = xn(vn())), (i = xn(vn())), (n = vn()), [4, An(n)];
                case 1:
                  return (
                    (c = g.sent()),
                    (o = Ln(c)),
                    (r = this._getParams(
                      e,
                      t,
                      i,
                      o,
                      e.redirect_uri ||
                        this.options.redirect_uri ||
                        window.location.origin
                    )),
                    (l = this._authorizeUrl(
                      a(a({}, r), {
                        prompt: 'none',
                        response_mode: 'web_message',
                      })
                    )),
                    (s =
                      e.timeoutInSeconds ||
                      this.options.authorizeTimeoutInSeconds),
                    [4, Gn(l, this.domainUrl, s)]
                  );
                case 2:
                  if (((u = g.sent()), t !== u.state))
                    throw new Error('Invalid state');
                  return (
                    (d = e.scope),
                    (b = e.audience),
                    e.redirect_uri,
                    e.ignoreCache,
                    e.timeoutInSeconds,
                    (B = I(e, [
                      'scope',
                      'audience',
                      'redirect_uri',
                      'ignoreCache',
                      'timeoutInSeconds',
                    ])),
                    [
                      4,
                      En(
                        a(a(a({}, this.customOptions), B), {
                          scope: d,
                          audience: b,
                          baseUrl: this.domainUrl,
                          client_id: this.options.client_id,
                          code_verifier: n,
                          code: u.code,
                          grant_type: 'authorization_code',
                          redirect_uri: r.redirect_uri,
                        }),
                        this.worker
                      ),
                    ]
                  );
                case 3:
                  return (
                    (y = g.sent()),
                    (F = this._verifyIdToken(y.id_token, i)),
                    [
                      2,
                      a(a({}, y), {
                        decodedToken: F,
                        scope: r.scope,
                        audience: r.audience || 'default',
                      }),
                    ]
                  );
              }
            });
          });
        }),
        (e.prototype._getTokenUsingRefreshToken = function (e) {
          return d(this, void 0, void 0, function () {
            var t, i, n, c, o, r, l, s;
            return g(this, function (u) {
              switch (u.label) {
                case 0:
                  return (
                    (e.scope = Nn(
                      this.defaultScope,
                      this.options.scope,
                      e.scope
                    )),
                    ((t = this.cache.get({
                      scope: e.scope,
                      audience: e.audience || 'default',
                      client_id: this.options.client_id,
                    })) &&
                      t.refresh_token) ||
                    this.worker
                      ? [3, 2]
                      : [4, this._getTokenFromIFrame(e)]
                  );
                case 1:
                  return [2, u.sent()];
                case 2:
                  (i =
                    e.redirect_uri ||
                    this.options.redirect_uri ||
                    window.location.origin),
                    (c = e.scope),
                    (o = e.audience),
                    e.ignoreCache,
                    e.timeoutInSeconds,
                    (r = I(e, [
                      'scope',
                      'audience',
                      'ignoreCache',
                      'timeoutInSeconds',
                    ])),
                    (u.label = 3);
                case 3:
                  return (
                    u.trys.push([3, 5, , 8]),
                    [
                      4,
                      En(
                        a(a(a({}, this.customOptions), r), {
                          audience: o,
                          scope: c,
                          baseUrl: this.domainUrl,
                          client_id: this.options.client_id,
                          grant_type: 'refresh_token',
                          refresh_token: t && t.refresh_token,
                          redirect_uri: i,
                        }),
                        this.worker
                      ),
                    ]
                  );
                case 4:
                  return (n = u.sent()), [3, 8];
                case 5:
                  return 'The web worker is missing the refresh token' !==
                    (l = u.sent()).message
                    ? [3, 7]
                    : [4, this._getTokenFromIFrame(e)];
                case 6:
                  return [2, u.sent()];
                case 7:
                  throw l;
                case 8:
                  return (
                    (s = this._verifyIdToken(n.id_token)),
                    [
                      2,
                      a(a({}, n), {
                        decodedToken: s,
                        scope: e.scope,
                        audience: e.audience || 'default',
                      }),
                    ]
                  );
              }
            });
          });
        }),
        e
      );
    })(),
    uc = { isAuthenticated: !1, isLoading: 'undefined' != typeof window },
    ac = function () {
      throw new Error('You forgot to wrap your component in <Auth0Provider>.');
    },
    Ic = c(c({}, uc), {
      getAccessTokenSilently: ac,
      getAccessTokenWithPopup: ac,
      getIdTokenClaims: ac,
      loginWithRedirect: ac,
      loginWithPopup: ac,
      logout: ac,
    }),
    dc = t.createContext(Ic),
    gc = (function (e) {
      function t(t, i) {
        var n = e.call(this, i || t) || this;
        return (n.error = t), (n.error_description = i), n;
      }
      return (
        (function (e, t) {
          function i() {
            this.constructor = e;
          }
          n(e, t),
            (e.prototype =
              null === t
                ? Object.create(t)
                : ((i.prototype = t.prototype), new i()));
        })(t, e),
        t
      );
    })(Error),
    bc = /[?&]code=[^&]+/,
    Bc = /[?&]state=[^&]+/,
    yc = /[?&]error=[^&]+/,
    Fc = function (e) {
      return function (t) {
        return 'error' in t
          ? new gc(t.error, t.error_description)
          : t instanceof Error
          ? t
          : new Error(e);
      };
    },
    mc = Fc('Login failed'),
    Cc = Fc('Get access token failed'),
    pc = function (e, t) {
      switch (t.type) {
        case 'LOGIN_POPUP_STARTED':
          return c(c({}, e), { isLoading: !0 });
        case 'LOGIN_POPUP_COMPLETE':
        case 'INITIALISED':
          return c(c({}, e), {
            isAuthenticated: !!t.user,
            user: t.user,
            isLoading: !1,
            error: void 0,
          });
        case 'GET_TOKEN_COMPLETE':
          return c(c({}, e), { isAuthenticated: !!t.user, user: t.user });
        case 'LOGOUT':
          return c(c({}, e), { isAuthenticated: !1, user: void 0 });
        case 'ERROR':
          return c(c({}, e), { isLoading: !1, error: t.error });
      }
    },
    Uc = function (e) {
      window.history.replaceState(
        {},
        document.title,
        (null == e ? void 0 : e.returnTo) || window.location.pathname
      );
    },
    hc = function () {
      return t.useContext(dc);
    },
    Vc = function () {
      return i.createElement(i.Fragment, null);
    },
    fc = function () {
      return '' + window.location.pathname + window.location.search;
    };
  (e.Auth0Context = dc),
    (e.Auth0Provider = function (e) {
      var n = e.children,
        s = e.skipRedirectCallback,
        u = e.onRedirectCallback,
        a = void 0 === u ? Uc : u,
        I = o(e, ['children', 'skipRedirectCallback', 'onRedirectCallback']),
        d = t.useState(function () {
          return new sc(
            (function (e) {
              var t = e.clientId,
                i = e.redirectUri,
                n = e.maxAge,
                r = o(e, ['clientId', 'redirectUri', 'maxAge']);
              return c(c({}, r), {
                client_id: t,
                redirect_uri: i,
                max_age: n,
                auth0Client: { name: 'auth0-react', version: '1.1.0' },
              });
            })(I)
          );
        })[0],
        g = t.useReducer(pc, uc),
        b = g[0],
        B = g[1];
      t.useEffect(
        function () {
          r(void 0, void 0, void 0, function () {
            var e, t, i;
            return l(this, function (n) {
              switch (n.label) {
                case 0:
                  return (
                    n.trys.push([0, 6, , 7]),
                    void 0 === c && (c = window.location.search),
                    !((bc.test(c) && Bc.test(c)) || yc.test(c)) || s
                      ? [3, 2]
                      : [4, d.handleRedirectCallback()]
                  );
                case 1:
                  return (e = n.sent().appState), a(e), [3, 4];
                case 2:
                  return [4, d.checkSession()];
                case 3:
                  n.sent(), (n.label = 4);
                case 4:
                  return [4, d.getUser()];
                case 5:
                  return (
                    (t = n.sent()), B({ type: 'INITIALISED', user: t }), [3, 7]
                  );
                case 6:
                  return (
                    (i = n.sent()), B({ type: 'ERROR', error: mc(i) }), [3, 7]
                  );
                case 7:
                  return [2];
              }
              var c;
            });
          });
        },
        [d, a, s]
      );
      var y = t.useCallback(
          function (e) {
            return d.loginWithRedirect(
              (function (e) {
                if (e) {
                  var t = e.redirectUri,
                    i = o(e, ['redirectUri']);
                  return c(c({}, i), { redirect_uri: t });
                }
              })(e)
            );
          },
          [d]
        ),
        F = t.useCallback(
          function (e, t) {
            return r(void 0, void 0, void 0, function () {
              var i, n;
              return l(this, function (c) {
                switch (c.label) {
                  case 0:
                    B({ type: 'LOGIN_POPUP_STARTED' }), (c.label = 1);
                  case 1:
                    return (
                      c.trys.push([1, 3, , 4]), [4, d.loginWithPopup(e, t)]
                    );
                  case 2:
                    return c.sent(), [3, 4];
                  case 3:
                    return (
                      (i = c.sent()), B({ type: 'ERROR', error: mc(i) }), [2]
                    );
                  case 4:
                    return [4, d.getUser()];
                  case 5:
                    return (
                      (n = c.sent()),
                      B({ type: 'LOGIN_POPUP_COMPLETE', user: n }),
                      [2]
                    );
                }
              });
            });
          },
          [d]
        ),
        m = t.useCallback(
          function (e) {
            void 0 === e && (e = {}),
              d.logout(e),
              e.localOnly && B({ type: 'LOGOUT' });
          },
          [d]
        ),
        C = t.useCallback(
          function (e) {
            return r(void 0, void 0, void 0, function () {
              var t, i, n;
              return l(this, function (c) {
                switch (c.label) {
                  case 0:
                    return c.trys.push([0, 2, , 3]), [4, d.getTokenSilently(e)];
                  case 1:
                    return (t = c.sent()), [3, 3];
                  case 2:
                    throw ((i = c.sent()), Cc(i));
                  case 3:
                    return [4, d.getUser()];
                  case 4:
                    return (
                      (n = c.sent()),
                      B({ type: 'GET_TOKEN_COMPLETE', user: n }),
                      [2, t]
                    );
                }
              });
            });
          },
          [d]
        ),
        p = t.useCallback(
          function (e, t) {
            return r(void 0, void 0, void 0, function () {
              var i, n, c;
              return l(this, function (o) {
                switch (o.label) {
                  case 0:
                    return (
                      o.trys.push([0, 2, , 3]), [4, d.getTokenWithPopup(e, t)]
                    );
                  case 1:
                    return (i = o.sent()), [3, 3];
                  case 2:
                    throw ((n = o.sent()), Cc(n));
                  case 3:
                    return [4, d.getUser()];
                  case 4:
                    return (
                      (c = o.sent()),
                      B({ type: 'GET_TOKEN_COMPLETE', user: c }),
                      [2, i]
                    );
                }
              });
            });
          },
          [d]
        ),
        U = t.useCallback(
          function (e) {
            return d.getIdTokenClaims(e);
          },
          [d]
        );
      return i.createElement(
        dc.Provider,
        {
          value: c(c({}, b), {
            getAccessTokenSilently: C,
            getAccessTokenWithPopup: p,
            getIdTokenClaims: U,
            loginWithRedirect: y,
            loginWithPopup: F,
            logout: m,
          }),
        },
        n
      );
    }),
    (e.OAuthError = gc),
    (e.useAuth0 = hc),
    (e.withAuth0 = function (e) {
      return function (t) {
        return i.createElement(dc.Consumer, null, function (n) {
          return i.createElement(e, c({ auth0: n }, t));
        });
      };
    }),
    (e.withAuthenticationRequired = function (e, n) {
      return (
        void 0 === n && (n = {}),
        function (o) {
          var s = this,
            u = hc(),
            a = u.isAuthenticated,
            I = u.isLoading,
            d = u.loginWithRedirect,
            g = n.returnTo,
            b = void 0 === g ? fc : g,
            B = n.onRedirecting,
            y = void 0 === B ? Vc : B,
            F = n.loginOptions,
            m = void 0 === F ? {} : F;
          return (
            t.useEffect(
              function () {
                if (!I && !a) {
                  var e = c(c({}, m), {
                    appState: c(c({}, m.appState), {
                      returnTo: 'function' == typeof b ? b() : b,
                    }),
                  });
                  r(s, void 0, void 0, function () {
                    return l(this, function (t) {
                      switch (t.label) {
                        case 0:
                          return [4, d(e)];
                        case 1:
                          return t.sent(), [2];
                      }
                    });
                  });
                }
              },
              [I, a, d, m, b]
            ),
            a ? i.createElement(e, c({}, o)) : y()
          );
        }
      );
    }),
    Object.defineProperty(e, '__esModule', { value: !0 });
});
//# sourceMappingURL=auth0-react.min.js.map
